<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Simbody: Rotation.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.4 (development)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('Rotation_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Rotation.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Rotation_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SimTK_SimTKCOMMON_ROTATION_H_ </span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SimTK_SimTKCOMMON_ROTATION_H_ </span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="comment">/* -------------------------------------------------------------------------- *</span>
<a name="l00005"></a>00005 <span class="comment"> *                       Simbody(tm): SimTKcommon                             *</span>
<a name="l00006"></a>00006 <span class="comment"> * -------------------------------------------------------------------------- *</span>
<a name="l00007"></a>00007 <span class="comment"> * This is part of the SimTK biosimulation toolkit originating from           *</span>
<a name="l00008"></a>00008 <span class="comment"> * Simbios, the NIH National Center for Physics-Based Simulation of           *</span>
<a name="l00009"></a>00009 <span class="comment"> * Biological Structures at Stanford, funded under the NIH Roadmap for        *</span>
<a name="l00010"></a>00010 <span class="comment"> * Medical Research, grant U54 GM072970. See https://simtk.org/home/simbody.  *</span>
<a name="l00011"></a>00011 <span class="comment"> *                                                                            *</span>
<a name="l00012"></a>00012 <span class="comment"> * Portions copyright (c) 2005-12 Stanford University and the Authors.        *</span>
<a name="l00013"></a>00013 <span class="comment"> * Authors: Paul Mitiguy, Michael Sherman                                     *</span>
<a name="l00014"></a>00014 <span class="comment"> * Contributors:                                                              *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                            *</span>
<a name="l00016"></a>00016 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may    *</span>
<a name="l00017"></a>00017 <span class="comment"> * not use this file except in compliance with the License. You may obtain a  *</span>
<a name="l00018"></a>00018 <span class="comment"> * copy of the License at http://www.apache.org/licenses/LICENSE-2.0.         *</span>
<a name="l00019"></a>00019 <span class="comment"> *                                                                            *</span>
<a name="l00020"></a>00020 <span class="comment"> * Unless required by applicable law or agreed to in writing, software        *</span>
<a name="l00021"></a>00021 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,          *</span>
<a name="l00022"></a>00022 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *</span>
<a name="l00023"></a>00023 <span class="comment"> * See the License for the specific language governing permissions and        *</span>
<a name="l00024"></a>00024 <span class="comment"> * limitations under the License.                                             *</span>
<a name="l00025"></a>00025 <span class="comment"> * -------------------------------------------------------------------------- */</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="SmallMatrix_8h.html" title="This file is the user-includeable header to be included in user programs to provide fixed-length Vec ...">SimTKcommon/SmallMatrix.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="CoordinateAxis_8h.html" title="Defines the CoordinateAxis and CoordinateDirection classes.">SimTKcommon/internal/CoordinateAxis.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="UnitVec_8h.html" title="Declares and defines the UnitVec and UnitRow classes.">SimTKcommon/internal/UnitVec.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="Quaternion_8h.html">SimTKcommon/internal/Quaternion.h</a>&quot;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;iosfwd&gt;</span>  <span class="comment">// Forward declaration of iostream</span>
<a name="l00036"></a>00036 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00039"></a>00039 <span class="keyword">namespace </span>SimTK {
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">00042</a> <span class="keyword">enum</span> <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> { <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>=0, <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>=1 };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00045"></a>00045 <span class="comment">// Forward declarations</span>
<a name="l00046"></a>00046 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span>Rotation_;
<a name="l00047"></a><a class="code" href="namespaceSimTK.html#a028f32537d08269e2de2f2f4aa99e5ac">00047</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_</a>;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html">Rotation_&lt;Real&gt;</a>             <a class="code" href="namespaceSimTK.html#a028f32537d08269e2de2f2f4aa99e5ac">Rotation</a>;
<a name="l00050"></a><a class="code" href="namespaceSimTK.html#a0347954caa733a24cc44afa6ab7edae5">00050</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;float&gt;</a>           <a class="code" href="namespaceSimTK.html#a0347954caa733a24cc44afa6ab7edae5">fRotation</a>;
<a name="l00051"></a><a class="code" href="namespaceSimTK.html#a9222b9287b42f088656459f937b4a39a">00051</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;double&gt;</a>          <a class="code" href="namespaceSimTK.html#a9222b9287b42f088656459f937b4a39a">dRotation</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="namespaceSimTK.html#a9e62e9407d923c9d31e0dda0581449cc">00053</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;Real&gt;</a>      <a class="code" href="namespaceSimTK.html#a9e62e9407d923c9d31e0dda0581449cc">InverseRotation</a>;
<a name="l00054"></a><a class="code" href="namespaceSimTK.html#adfbacd30d9d3e5b501d79c1211a78417">00054</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;float&gt;</a>    <a class="code" href="namespaceSimTK.html#adfbacd30d9d3e5b501d79c1211a78417">fInverseRotation</a>;
<a name="l00055"></a><a class="code" href="namespaceSimTK.html#a7518b7a11a697122a13e4ffcc0b59988">00055</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;double&gt;</a>   <a class="code" href="namespaceSimTK.html#a7518b7a11a697122a13e4ffcc0b59988">dInverseRotation</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00102"></a>00102 <span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00103"></a>00103 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="comment">// templatized by precision</span>
<a name="l00104"></a><a class="code" href="classSimTK_1_1Rotation__.html">00104</a> <span class="keyword">class </span><a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a> : <span class="keyword">public</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat</a>&lt;3,3,P&gt; {
<a name="l00105"></a>00105     <span class="keyword">typedef</span> P               RealP;
<a name="l00106"></a>00106     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat22P</a>;
<a name="l00107"></a>00107     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;3,2,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat32P</a>;
<a name="l00108"></a>00108     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l00109"></a>00109     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;4,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a>;
<a name="l00110"></a>00110     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;3,4,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat34P</a>;
<a name="l00111"></a>00111     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>;
<a name="l00112"></a>00112     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l00113"></a>00113     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;4,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec4P</a>;
<a name="l00114"></a>00114     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,1&gt;</a>    <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec3P</a>; <span class="comment">// stride is 1 here, length is always 3</span>
<a name="l00115"></a>00115     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l00116"></a>00116     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Quaternion__.html" title="A Quaternion is a Vec4 with the following behavior:">Quaternion_&lt;P&gt;</a>  <a class="code" href="classSimTK_1_1Quaternion__.html" title="A Quaternion is a Vec4 with the following behavior:">QuaternionP</a>;
<a name="l00117"></a>00117 <span class="keyword">public</span>:
<a name="l00118"></a>00118     <span class="comment">// Default constructor and constructor-like methods</span>
<a name="l00119"></a><a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">00119</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>() : <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(1) {}    
<a name="l00120"></a><a class="code" href="classSimTK_1_1Rotation__.html#a352f6087f76d893011d1cf4a168d58d4">00120</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a352f6087f76d893011d1cf4a168d58d4">setRotationToIdentityMatrix</a>()  { <a class="code" href="classSimTK_1_1Mat.html#aa01b165c41980b61822f9a75f2b503ca" title="Copy assignment copies only the elements that are present and does not touch any unused memory space ...">Mat33P::operator=</a>(RealP(1));  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00121"></a><a class="code" href="classSimTK_1_1Rotation__.html#a360123fced580910bb805feb3a602258">00121</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a360123fced580910bb805feb3a602258">setRotationToNaN</a>()             { <a class="code" href="classSimTK_1_1Mat.html#a278efce6393b52d08909cb8fe511f0bc">Mat33P::setToNaN</a>();    <span class="keywordflow">return</span> *<span class="keyword">this</span>; } 
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <span class="comment">// Default copy constructor and assignment operator</span>
<a name="l00124"></a><a class="code" href="classSimTK_1_1Rotation__.html#a966293b042b3b6f3906bb15aec3110d2">00124</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a966293b042b3b6f3906bb15aec3110d2">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R ) : <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(R)  {}
<a name="l00125"></a><a class="code" href="classSimTK_1_1Rotation__.html#ad66e7d173f96a983c32d011bb0d91fc7">00125</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#ad66e7d173f96a983c32d011bb0d91fc7">operator=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R )  { <a class="code" href="classSimTK_1_1Mat.html#aa01b165c41980b61822f9a75f2b503ca" title="Copy assignment copies only the elements that are present and does not touch any unused memory space ...">Mat33P::operator=</a>( R.<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>() );  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00126"></a>00126 
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classSimTK_1_1Rotation__.html#a19962cc7af21545ae8e8f63702e83624">00129</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a19962cc7af21545ae8e8f63702e83624" title="Constructor for right-handed rotation by an angle (in radians) about a coordinate axis...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis )             { <a class="code" href="classSimTK_1_1Rotation__.html#a9d85ae0f22416a5cd6866596fc40f2d8" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutAxis</a>( angle, axis ); }
<a name="l00130"></a><a class="code" href="classSimTK_1_1Rotation__.html#aeaa3df1484427409f85bdba47f263d18">00130</a>     <a class="code" href="classSimTK_1_1Rotation__.html#aeaa3df1484427409f85bdba47f263d18" title="Constructor for right-handed rotation by an angle (in radians) about a coordinate axis...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis_1_1XCoordinateAxis.html">CoordinateAxis::XCoordinateAxis</a> )  { <a class="code" href="classSimTK_1_1Rotation__.html#a2b0dd8018a891fae9f52a77a8af85913" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutX</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00131"></a><a class="code" href="classSimTK_1_1Rotation__.html#a6a3cf04efd08eda9a303036fa6346bb9">00131</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a6a3cf04efd08eda9a303036fa6346bb9" title="Constructor for right-handed rotation by an angle (in radians) about a coordinate axis...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis_1_1YCoordinateAxis.html">CoordinateAxis::YCoordinateAxis</a> )  { <a class="code" href="classSimTK_1_1Rotation__.html#a03c34f207cd0c05dcf8fb4fe01bece15" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutY</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00132"></a><a class="code" href="classSimTK_1_1Rotation__.html#ab1171f57869b8633941395bc3baed5ed">00132</a>     <a class="code" href="classSimTK_1_1Rotation__.html#ab1171f57869b8633941395bc3baed5ed" title="Constructor for right-handed rotation by an angle (in radians) about a coordinate axis...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis_1_1ZCoordinateAxis.html">CoordinateAxis::ZCoordinateAxis</a> )  { <a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="classSimTK_1_1Rotation__.html#a9d85ae0f22416a5cd6866596fc40f2d8">00136</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a9d85ae0f22416a5cd6866596fc40f2d8" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutAxis</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis )  { <span class="keywordflow">return</span> axis.<a class="code" href="classSimTK_1_1CoordinateAxis.html#a54be566c9aa7955330d7604c4cb9948d" title="Return true if this is the X axis.">isXAxis</a>() ? <a class="code" href="classSimTK_1_1Rotation__.html#a2b0dd8018a891fae9f52a77a8af85913" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutX</a>(angle) : (axis.<a class="code" href="classSimTK_1_1CoordinateAxis.html#ad7ef4303b9819317592f3133017ffd1f" title="Return true if this is the Y axis.">isYAxis</a>() ? <a class="code" href="classSimTK_1_1Rotation__.html#a03c34f207cd0c05dcf8fb4fe01bece15" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutY</a>(angle) : <a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>(angle) ); }
<a name="l00137"></a><a class="code" href="classSimTK_1_1Rotation__.html#a2b0dd8018a891fae9f52a77a8af85913">00137</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a2b0dd8018a891fae9f52a77a8af85913" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutX</a>( RealP angle )  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a2b0dd8018a891fae9f52a77a8af85913" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutX</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00138"></a><a class="code" href="classSimTK_1_1Rotation__.html#a03c34f207cd0c05dcf8fb4fe01bece15">00138</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a03c34f207cd0c05dcf8fb4fe01bece15" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutY</a>( RealP angle )  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a03c34f207cd0c05dcf8fb4fe01bece15" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutY</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00139"></a><a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684">00139</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>( RealP angle )  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>( std::cos(angle), std::sin(angle) ); }
<a name="l00140"></a><a class="code" href="classSimTK_1_1Rotation__.html#ad3626657c38a81b2df9205db8dd48af2">00140</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#ad3626657c38a81b2df9205db8dd48af2" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutX</a>( RealP cosAngle, RealP sinAngle )  { <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>;  R[0][0] = 1;   R[0][1] = R[0][2] = R[1][0] = R[2][0] = 0;   R[1][1] = R[2][2] = cosAngle;  R[1][2] = -(R[2][1] = sinAngle);  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00141"></a><a class="code" href="classSimTK_1_1Rotation__.html#a0429ecf9ca8d6bf23b2ea6a1067c13bf">00141</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a0429ecf9ca8d6bf23b2ea6a1067c13bf" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutY</a>( RealP cosAngle, RealP sinAngle )  { <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>;  R[1][1] = 1;   R[0][1] = R[1][0] = R[1][2] = R[2][1] = 0;   R[0][0] = R[2][2] = cosAngle;  R[2][0] = -(R[0][2] = sinAngle);  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00142"></a><a class="code" href="classSimTK_1_1Rotation__.html#a12bea1532e99c7e6aa83e189053000b2">00142</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a12bea1532e99c7e6aa83e189053000b2" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>( RealP cosAngle, RealP sinAngle )  { <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>;  R[2][2] = 1;   R[0][2] = R[1][2] = R[2][0] = R[2][1] = 0;   R[0][0] = R[1][1] = cosAngle;  R[0][1] = -(R[1][0] = sinAngle);  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="classSimTK_1_1Rotation__.html#ae551ca3f12b485259ba56def8ccd152a">00147</a>     <a class="code" href="classSimTK_1_1Rotation__.html#ae551ca3f12b485259ba56def8ccd152a" title="Constructor for right-handed rotation by an angle (in radians) about an arbitrary vector...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; unitVector ) { <a class="code" href="classSimTK_1_1Rotation__.html#a69dbe7f3f47a4b0c6d7be8650d95049c" title="Set this Rotation_ object to a right-handed rotation of an angle (in radians) about an arbitrary vect...">setRotationFromAngleAboutUnitVector</a>(angle,unitVector); }
<a name="l00148"></a><a class="code" href="classSimTK_1_1Rotation__.html#a340d147e68d17979a01248d6b70cfe45">00148</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a340d147e68d17979a01248d6b70cfe45" title="Constructor for right-handed rotation by an angle (in radians) about an arbitrary vector...">Rotation_</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; nonUnitVector )  { <a class="code" href="classSimTK_1_1Rotation__.html#a13e4dcab37f729839b79abf5a5e77840" title="Set this Rotation_ object to a right-handed rotation of an angle (in radians) about an arbitrary vect...">setRotationFromAngleAboutNonUnitVector</a>(angle,nonUnitVector); }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="classSimTK_1_1Rotation__.html#a13e4dcab37f729839b79abf5a5e77840">00152</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a13e4dcab37f729839b79abf5a5e77840" title="Set this Rotation_ object to a right-handed rotation of an angle (in radians) about an arbitrary vect...">setRotationFromAngleAboutNonUnitVector</a>( RealP angle, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; nonUnitVector )  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a69dbe7f3f47a4b0c6d7be8650d95049c" title="Set this Rotation_ object to a right-handed rotation of an angle (in radians) about an arbitrary vect...">setRotationFromAngleAboutUnitVector</a>( angle, <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>(nonUnitVector) ); }
<a name="l00153"></a>00153     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a69dbe7f3f47a4b0c6d7be8650d95049c" title="Set this Rotation_ object to a right-handed rotation of an angle (in radians) about an arbitrary vect...">setRotationFromAngleAboutUnitVector</a>( RealP angle, <span class="keyword">const</span> UnitVec3P&amp; unitVector );
<a name="l00155"></a>00155 
<a name="l00157"></a><a class="code" href="classSimTK_1_1Rotation__.html#a451308fdf619ff01b3b07a7d960cf354">00157</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a451308fdf619ff01b3b07a7d960cf354" title="Constructor for two-angle, two-axes, Body-fixed or Space-fixed rotation sequences (angles are in radi...">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, RealP angle1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, RealP angle2, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2 )                                            { <a class="code" href="classSimTK_1_1Rotation__.html#afc54e75b189a41cf6b0e9d23458eae32" title="Set this Rotation_ object to a two-angle, two-axes, Body-fixed or Space-fixed rotation sequences (ang...">setRotationFromTwoAnglesTwoAxes</a>(    bodyOrSpace,angle1,axis1,angle2,axis2); }
<a name="l00159"></a><a class="code" href="classSimTK_1_1Rotation__.html#a4de3e72e32205e18ea71b03dfdc08932">00159</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a4de3e72e32205e18ea71b03dfdc08932" title="Constructor for three-angle Body-fixed or Space-fixed rotation sequences (angles are in radians)...">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, RealP angle1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, RealP angle2, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2, RealP angle3, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis3 )  { <a class="code" href="classSimTK_1_1Rotation__.html#ad19a5140a685462e498d6d5c2c42c8c4" title="Set this Rotation_ object to a three-angle Body-fixed or Space-fixed rotation sequences (angles are i...">setRotationFromThreeAnglesThreeAxes</a>(bodyOrSpace,angle1,axis1,angle2,axis2,angle3,axis3); }
<a name="l00161"></a>00161     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#afc54e75b189a41cf6b0e9d23458eae32" title="Set this Rotation_ object to a two-angle, two-axes, Body-fixed or Space-fixed rotation sequences (ang...">setRotationFromTwoAnglesTwoAxes</a>(     <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, RealP angle1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, RealP angle2, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2 ); 
<a name="l00163"></a>00163     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#ad19a5140a685462e498d6d5c2c42c8c4" title="Set this Rotation_ object to a three-angle Body-fixed or Space-fixed rotation sequences (angles are i...">setRotationFromThreeAnglesThreeAxes</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, RealP angle1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, RealP angle2, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2, RealP angle3, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis3 );
<a name="l00164"></a>00164 
<a name="l00168"></a><a class="code" href="classSimTK_1_1Rotation__.html#af44ae0c01f7118c690a0c47cbf44e9a7">00168</a>     <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1Rotation__.html#af44ae0c01f7118c690a0c47cbf44e9a7" title="Set this Rotation_ to represent a rotation characterized by subsequent rotations of: +v[0] about the ...">setRotationToBodyFixedXY</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; v)   { <a class="code" href="classSimTK_1_1Rotation__.html#afc54e75b189a41cf6b0e9d23458eae32" title="Set this Rotation_ object to a two-angle, two-axes, Body-fixed or Space-fixed rotation sequences (ang...">setRotationFromTwoAnglesTwoAxes</a>(     <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, v[0], <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, v[1], <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00173"></a><a class="code" href="classSimTK_1_1Rotation__.html#a1b5b9946341290a869fdf36263c6e901">00173</a>     <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1Rotation__.html#a1b5b9946341290a869fdf36263c6e901" title="Set this Rotation_ to represent a rotation characterized by subsequent rotations of: +v[0] about the ...">setRotationToBodyFixedXYZ</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; v)  { <a class="code" href="classSimTK_1_1Rotation__.html#ad19a5140a685462e498d6d5c2c42c8c4" title="Set this Rotation_ object to a three-angle Body-fixed or Space-fixed rotation sequences (angles are i...">setRotationFromThreeAnglesThreeAxes</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, v[0], <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, v[1], <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a>, v[2], <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a> ); }
<a name="l00174"></a>00174 
<a name="l00176"></a><a class="code" href="classSimTK_1_1Rotation__.html#a511a6db1f00e0b2e535f70fb01d4009e">00176</a>     <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Rotation__.html#a511a6db1f00e0b2e535f70fb01d4009e" title="Constructor for creating a rotation matrix from a quaternion.">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Quaternion__.html" title="A Quaternion is a Vec4 with the following behavior:">QuaternionP</a>&amp; q )  { <a class="code" href="classSimTK_1_1Rotation__.html#aed39e831fc2c774c769b4afb72830874" title="Method for creating a rotation matrix from a quaternion.">setRotationFromQuaternion</a>(q); }
<a name="l00178"></a>00178     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#aed39e831fc2c774c769b4afb72830874" title="Method for creating a rotation matrix from a quaternion.">setRotationFromQuaternion</a>( <span class="keyword">const</span> QuaternionP&amp; q );
<a name="l00179"></a>00179 
<a name="l00181"></a><a class="code" href="classSimTK_1_1Rotation__.html#a9c751d1b449be1eba50a5b026a18b907">00181</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a9c751d1b449be1eba50a5b026a18b907" title="Construct a Rotation_ directly from a Mat33P (we trust that m is a valid Rotation_!)">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; m, <span class="keywordtype">bool</span> ) : <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(m) {}
<a name="l00182"></a>00182 
<a name="l00184"></a><a class="code" href="classSimTK_1_1Rotation__.html#a8c1c1cf9f8c55f4371795eab53da933e">00184</a>     <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Rotation__.html#a8c1c1cf9f8c55f4371795eab53da933e" title="Constructs an (hopefully nearby) orthogonal rotation matrix from a generic Mat33P.">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; m )  { <a class="code" href="classSimTK_1_1Rotation__.html#acf320049f0aa881075905d781eee032f" title="Set this Rotation_ object to an (hopefully nearby) orthogonal rotation matrix from a generic Mat33P...">setRotationFromApproximateMat33</a>(m); }
<a name="l00186"></a>00186     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#acf320049f0aa881075905d781eee032f" title="Set this Rotation_ object to an (hopefully nearby) orthogonal rotation matrix from a generic Mat33P...">setRotationFromApproximateMat33</a>( <span class="keyword">const</span> Mat33P&amp; m );
<a name="l00187"></a>00187 
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="classSimTK_1_1Rotation__.html#a297f4ad4b10f009c4cb18830af8da154">00191</a>     <a class="code" href="classSimTK_1_1Rotation__.html#a297f4ad4b10f009c4cb18830af8da154" title="Calculate R_AB by knowing one of B&#39;s unit vector expressed in A.">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; uvec, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a> axis )  { <a class="code" href="classSimTK_1_1Rotation__.html#a1716a6bd3d8ae76bbd59b139edcc2e2d" title="Calculate R_AB by knowing one of B&#39;s unit vector expressed in A.">setRotationFromOneAxis</a>(uvec,axis); }
<a name="l00192"></a>00192     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a1716a6bd3d8ae76bbd59b139edcc2e2d" title="Calculate R_AB by knowing one of B&#39;s unit vector expressed in A.">setRotationFromOneAxis</a>( <span class="keyword">const</span> UnitVec3P&amp; uvec, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a> axis );
<a name="l00194"></a>00194 
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="classSimTK_1_1Rotation__.html#abf7001ed401fb3f4550a6fae494a0c7a">00202</a>     <a class="code" href="classSimTK_1_1Rotation__.html#abf7001ed401fb3f4550a6fae494a0c7a" title="Calculate R_AB by knowing one of B&#39;s unit vectors u1 (could be Bx, By, or Bz) expressed in A and a ve...">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; uveci, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axisi, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; vecjApprox, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axisjApprox )  { <a class="code" href="classSimTK_1_1Rotation__.html#a7efe475b1e8a00f0628a74e660e84dfa" title="Calculate R_AB by knowing one of B&#39;s unit vectors u1 (could be Bx, By, or Bz) expressed in A and a ve...">setRotationFromTwoAxes</a>(uveci,axisi,vecjApprox,axisjApprox); }
<a name="l00203"></a>00203     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a7efe475b1e8a00f0628a74e660e84dfa" title="Calculate R_AB by knowing one of B&#39;s unit vectors u1 (could be Bx, By, or Bz) expressed in A and a ve...">setRotationFromTwoAxes</a>( <span class="keyword">const</span> UnitVec3P&amp; uveci, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axisi, <span class="keyword">const</span> Vec3P&amp; vecjApprox, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axisjApprox );
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="comment">// Converts rotation matrix to one or two or three orientation angles.</span>
<a name="l00207"></a>00207     <span class="comment">// Note:  The result is most meaningful if the Rotation_ matrix is one that can be produced by such a sequence.</span>
<a name="l00208"></a>00208     <span class="comment">// Use1:  someRotation.convertOneAxisRotationToOneAngle( XAxis );</span>
<a name="l00209"></a>00209     <span class="comment">// Use2:  someRotation.convertTwoAxesRotationToTwoAngles(     SpaceRotationSequence, YAxis, ZAxis );</span>
<a name="l00210"></a>00210     <span class="comment">// Use3:  someRotation.convertThreeAxesRotationToThreeAngles( SpaceRotationSequence, ZAxis, YAxis, XAxis );</span>
<a name="l00211"></a>00211     <span class="comment">// Use4:  someRotation.convertRotationToAngleAxis();   Return: [angleInRadians, unitVectorX, unitVectorY, unitVectorZ].</span>
<a name="l00212"></a>00212 
<a name="l00215"></a>00215     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> RealP  <a class="code" href="classSimTK_1_1Rotation__.html#ac24f6d58ac08a8aa027bd04dc294b4d5" title="Converts rotation matrix to a single orientation angle.">convertOneAxisRotationToOneAngle</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1 ) <span class="keyword">const</span>;
<a name="l00218"></a>00218     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> Vec2P  <a class="code" href="classSimTK_1_1Rotation__.html#a0670932d36daa77ab1bec1dfc9a2dbd9" title="Converts rotation matrix to two orientation angles.">convertTwoAxesRotationToTwoAngles</a>(     <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2 ) <span class="keyword">const</span>;
<a name="l00221"></a>00221     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> Vec3P  <a class="code" href="classSimTK_1_1Rotation__.html#a8fedf3e4f467b4c46cb3d75c72d1cbe7" title="Converts rotation matrix to three orientation angles.">convertThreeAxesRotationToThreeAngles</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082">BodyOrSpaceType</a> bodyOrSpace, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis2, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1CoordinateAxis.html" title="This class, along with its sister class CoordinateDirection, provides convenient manipulation of the ...">CoordinateAxis</a>&amp; axis3 ) <span class="keyword">const</span>;
<a name="l00223"></a>00223     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> QuaternionP <a class="code" href="classSimTK_1_1Rotation__.html#aeb0dbfbe9692728363f19291a36582fd" title="Converts rotation matrix to a quaternion.">convertRotationToQuaternion</a>() <span class="keyword">const</span>;
<a name="l00225"></a><a class="code" href="classSimTK_1_1Rotation__.html#af32d025ec1a522a1f97a420bdc1c542f">00225</a>     <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>  <a class="code" href="classSimTK_1_1Rotation__.html#af32d025ec1a522a1f97a420bdc1c542f" title="Converts rotation matrix to angle-axis form.">convertRotationToAngleAxis</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aeb0dbfbe9692728363f19291a36582fd" title="Converts rotation matrix to a quaternion.">convertRotationToQuaternion</a>().<a class="code" href="classSimTK_1_1Quaternion__.html#af7b9f5cde7c1058faf6233dd15b68b8a" title="Returns [ a vx vy vz ] with (a,v) in canonical form, i.e.,.">convertQuaternionToAngleAxis</a>(); }
<a name="l00226"></a>00226 
<a name="l00228"></a><a class="code" href="classSimTK_1_1Rotation__.html#ae8fde87c8bfcd30533f47cbaa96d2fc9">00228</a>     <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>  <a class="code" href="classSimTK_1_1Rotation__.html#ae8fde87c8bfcd30533f47cbaa96d2fc9" title="A convenient special case of convertTwoAxesRotationToTwoAngles().">convertRotationToBodyFixedXY</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a0670932d36daa77ab1bec1dfc9a2dbd9" title="Converts rotation matrix to two orientation angles.">convertTwoAxesRotationToTwoAngles</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00230"></a><a class="code" href="classSimTK_1_1Rotation__.html#a852ebf23b0a5075f89079184eea129ef">00230</a>     <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>  <a class="code" href="classSimTK_1_1Rotation__.html#a852ebf23b0a5075f89079184eea129ef" title="A convenient special case of convertThreeAxesRotationToThreeAngles().">convertRotationToBodyFixedXYZ</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a8fedf3e4f467b4c46cb3d75c72d1cbe7" title="Converts rotation matrix to three orientation angles.">convertThreeAxesRotationToThreeAngles</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a>, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a> ); }
<a name="l00231"></a>00231 
<a name="l00239"></a>00239     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> SymMat33P <a class="code" href="classSimTK_1_1Rotation__.html#a9408d46027f2faf546417095f9da84d8" title="Perform an efficient transform of a symmetric matrix that must be re-expressed with a multiply from b...">reexpressSymMat33</a>(<span class="keyword">const</span> SymMat33P&amp; S_BB) <span class="keyword">const</span>;
<a name="l00240"></a>00240 
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <span class="keywordtype">bool</span>  <a class="code" href="classSimTK_1_1Rotation__.html#a44abc241c4d901a0a784a94d8ffa40a6" title="Return true if &quot;this&quot; Rotation is nearly identical to &quot;R&quot; within a specified pointing angle error...">isSameRotationToWithinAngle</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R, RealP okPointingAngleErrorRads ) <span class="keyword">const</span>;
<a name="l00244"></a><a class="code" href="classSimTK_1_1Rotation__.html#ac725bd972c9c54809b4b63880cb84fd2">00244</a>     <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1Rotation__.html#ac725bd972c9c54809b4b63880cb84fd2" title="Return true if &quot;this&quot; Rotation is nearly identical to &quot;R&quot; within a specified pointing angle error...">isSameRotationToWithinAngleOfMachinePrecision</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R)<span class="keyword"> const       </span>
<a name="l00245"></a>00245 <span class="keyword">    </span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a44abc241c4d901a0a784a94d8ffa40a6" title="Return true if &quot;this&quot; Rotation is nearly identical to &quot;R&quot; within a specified pointing angle error...">isSameRotationToWithinAngle</a>( R, <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;P&gt;::getSignificant</a>() ); }
<a name="l00247"></a><a class="code" href="classSimTK_1_1Rotation__.html#a5f79467f7a137c87f11fd50dad4f5f64">00247</a>     RealP  <a class="code" href="classSimTK_1_1Rotation__.html#a5f79467f7a137c87f11fd50dad4f5f64">getMaxAbsDifferenceInRotationElements</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R )<span class="keyword"> const </span>{            
<a name="l00248"></a>00248         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; A = <a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>();  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; B = R.<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>();  RealP maxDiff = 0;  
<a name="l00249"></a>00249         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0;  i&lt;=2; i++ ) <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j=0; j&lt;=2; j++ ) 
<a name="l00250"></a>00250         {   RealP absDiff = std::fabs(A[i][j] - B[i][j]);  
<a name="l00251"></a>00251             <span class="keywordflow">if</span>( absDiff &gt; maxDiff ) maxDiff = absDiff; }  
<a name="l00252"></a>00252         <span class="keywordflow">return</span> maxDiff; 
<a name="l00253"></a>00253     } 
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="classSimTK_1_1Rotation__.html#aa137c322dd6f46282e335365ae1a24ce">00255</a>     <span class="keywordtype">bool</span>  <a class="code" href="classSimTK_1_1Rotation__.html#aa137c322dd6f46282e335365ae1a24ce">areAllRotationElementsSameToEpsilon</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R, RealP epsilon )<span class="keyword"> const </span>
<a name="l00256"></a>00256 <span class="keyword">    </span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a5f79467f7a137c87f11fd50dad4f5f64">getMaxAbsDifferenceInRotationElements</a>(R) &lt;= epsilon ; }
<a name="l00257"></a><a class="code" href="classSimTK_1_1Rotation__.html#ac1db1f3a440a79ad2e5b403913f44042">00257</a>     <span class="keywordtype">bool</span>  <a class="code" href="classSimTK_1_1Rotation__.html#ac1db1f3a440a79ad2e5b403913f44042">areAllRotationElementsSameToMachinePrecision</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; R )<span class="keyword"> const       </span>
<a name="l00258"></a>00258 <span class="keyword">    </span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aa137c322dd6f46282e335365ae1a24ce">areAllRotationElementsSameToEpsilon</a>( R, <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;P&gt;::getSignificant</a>() ); } 
<a name="l00259"></a>00259 
<a name="l00261"></a>00261     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; );
<a name="l00263"></a>00263     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp; <a class="code" href="classSimTK_1_1Rotation__.html#ad66e7d173f96a983c32d011bb0d91fc7">operator=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; );
<a name="l00264"></a>00264 
<a name="l00266"></a><a class="code" href="classSimTK_1_1Rotation__.html#a29dabf3d119461ff356a6536ff2859d9">00266</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a29dabf3d119461ff356a6536ff2859d9" title="Convert from Rotation_ to InverseRotation_ (no cost). Overrides base class invert().">invert</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00268"></a><a class="code" href="classSimTK_1_1Rotation__.html#abcf61a10b96a4320c991e55caa582386">00268</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;        <a class="code" href="classSimTK_1_1Rotation__.html#abcf61a10b96a4320c991e55caa582386" title="Convert from Rotation_ to writable InverseRotation_ (no cost).">updInvert</a>()     { <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00269"></a>00269 
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="classSimTK_1_1Rotation__.html#a5440d77a9933a385260197de908d8798">00273</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a5440d77a9933a385260197de908d8798" title="Transpose, and transpose operators.">transpose</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a29dabf3d119461ff356a6536ff2859d9" title="Convert from Rotation_ to InverseRotation_ (no cost). Overrides base class invert().">invert</a>(); }
<a name="l00274"></a><a class="code" href="classSimTK_1_1Rotation__.html#a94968ae3dab970ba1c9ef24e58989673">00274</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a94968ae3dab970ba1c9ef24e58989673" title="Transpose, and transpose operators.">operator~</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a29dabf3d119461ff356a6536ff2859d9" title="Convert from Rotation_ to InverseRotation_ (no cost). Overrides base class invert().">invert</a>(); }
<a name="l00275"></a><a class="code" href="classSimTK_1_1Rotation__.html#a83d8ca5d3b3edd6630b5fb7a0a577d72">00275</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;        <a class="code" href="classSimTK_1_1Rotation__.html#a83d8ca5d3b3edd6630b5fb7a0a577d72" title="Transpose, and transpose operators.">updTranspose</a>()     { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#abcf61a10b96a4320c991e55caa582386" title="Convert from Rotation_ to writable InverseRotation_ (no cost).">updInvert</a>(); }
<a name="l00276"></a><a class="code" href="classSimTK_1_1Rotation__.html#aec15e73cf4dbcdc7e1c6ac90f68fdef3">00276</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp;        <a class="code" href="classSimTK_1_1Rotation__.html#aec15e73cf4dbcdc7e1c6ac90f68fdef3" title="Transpose, and transpose operators.">operator~</a>()        { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#abcf61a10b96a4320c991e55caa582386" title="Convert from Rotation_ to writable InverseRotation_ (no cost).">updInvert</a>(); }
<a name="l00278"></a>00278 
<a name="l00280"></a>00280 
<a name="l00281"></a>00281     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a26169557db013c2a8779098d00d5c846" title="In-place composition of Rotation matrices.">operator*=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R );
<a name="l00282"></a>00282     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#ab38257532c21876c8629b224f0431080" title="In-place composition of Rotation matrices.">operator/=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R );
<a name="l00283"></a>00283     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a26169557db013c2a8779098d00d5c846" title="In-place composition of Rotation matrices.">operator*=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; );
<a name="l00284"></a>00284     <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#ab38257532c21876c8629b224f0431080" title="In-place composition of Rotation matrices.">operator/=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; );
<a name="l00286"></a>00286 
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e">00290</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00291"></a><a class="code" href="classSimTK_1_1Rotation__.html#a02a8b19b9c7dab9b72762bd339cdb6a1">00291</a>     <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>         <a class="code" href="classSimTK_1_1Rotation__.html#a02a8b19b9c7dab9b72762bd339cdb6a1" title="Conversion from Rotation to its base class Mat33.">toMat33</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>(); }
<a name="l00293"></a>00293 
<a name="l00295"></a><a class="code" href="classSimTK_1_1Rotation__.html#a8156453423742aa7ab103650c3ffa4a2">00295</a>     <span class="keyword">typedef</span>  <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,Mat33P::RowSpacing&gt;</a>  <a class="code" href="classSimTK_1_1Rotation__.html#a8156453423742aa7ab103650c3ffa4a2" title="The column and row unit vector types do not necessarily have unit spacing.">ColType</a>;
<a name="l00296"></a><a class="code" href="classSimTK_1_1Rotation__.html#a0c41f591c9926e8436596f924967f45c">00296</a>     <span class="keyword">typedef</span>  <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,Mat33P::ColSpacing&gt;</a>  <a class="code" href="classSimTK_1_1Rotation__.html#a0c41f591c9926e8436596f924967f45c">RowType</a>;
<a name="l00297"></a><a class="code" href="classSimTK_1_1Rotation__.html#aeaccae1010b6c9cc9427d2a39b686c76">00297</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#aeaccae1010b6c9cc9427d2a39b686c76">row</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>()[i]); }
<a name="l00298"></a><a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">00298</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">col</a>( <span class="keywordtype">int</span> j )<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>()(j)); }
<a name="l00299"></a><a class="code" href="classSimTK_1_1Rotation__.html#af36bd122d1e1b06b05d6f6a518f9bc52">00299</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#af36bd122d1e1b06b05d6f6a518f9bc52">x</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">col</a>(0); }
<a name="l00300"></a><a class="code" href="classSimTK_1_1Rotation__.html#a5ea9cb2cb1301a551be2f575ec5dc39c">00300</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a5ea9cb2cb1301a551be2f575ec5dc39c">y</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">col</a>(1); }
<a name="l00301"></a><a class="code" href="classSimTK_1_1Rotation__.html#a635c34523b636e2b0e767cbcae7185a5">00301</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a635c34523b636e2b0e767cbcae7185a5">z</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">col</a>(2); }
<a name="l00302"></a><a class="code" href="classSimTK_1_1Rotation__.html#a84f0d8ba224b1b812be0f354d5d407be">00302</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a84f0d8ba224b1b812be0f354d5d407be">operator[]</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aeaccae1010b6c9cc9427d2a39b686c76">row</a>(i); }
<a name="l00303"></a><a class="code" href="classSimTK_1_1Rotation__.html#a64e2dae5549468bf72dfa6dfe83f1555">00303</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a64e2dae5549468bf72dfa6dfe83f1555">operator()</a>( <span class="keywordtype">int</span> j )<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a914bb4f7f7e7c1e82aa7cc095e6704f2">col</a>(j); }
<a name="l00304"></a>00304 
<a name="l00306"></a>00306 
<a name="l00307"></a><a class="code" href="classSimTK_1_1Rotation__.html#a34a70e677a952560b2ab8d972ed79801">00307</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a34a70e677a952560b2ab8d972ed79801" title="Set the Rotation_ matrix directly - but you had better know what you are doing!">setRotationFromMat33TrustMe</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; m )  
<a name="l00308"></a>00308     {   <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>; R=m;  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }   
<a name="l00309"></a><a class="code" href="classSimTK_1_1Rotation__.html#a9913668d30b526d87c63b175ccef9c56">00309</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a9913668d30b526d87c63b175ccef9c56" title="Set the Rotation_ matrix directly - but you had better know what you are doing!">setRotationColFromUnitVecTrustMe</a>( <span class="keywordtype">int</span> colj, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; uvecj )  
<a name="l00310"></a>00310     {   <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>; R(colj)=uvecj.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }   
<a name="l00311"></a><a class="code" href="classSimTK_1_1Rotation__.html#a38115244428f8fc0f4411dd092ee5fe4">00311</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_</a>&amp;  <a class="code" href="classSimTK_1_1Rotation__.html#a38115244428f8fc0f4411dd092ee5fe4" title="Set the Rotation_ matrix directly - but you had better know what you are doing!">setRotationFromUnitVecsTrustMe</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; colA, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; colB, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec3P</a>&amp; colC )  
<a name="l00312"></a>00312     {   <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>; R(0)=colA.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(); R(1)=colB.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(); R(2)=colC.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }  
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 <span class="comment">//--------------------------- PAUL CONTINUE FROM HERE --------------------------</span>
<a name="l00316"></a>00316 <span class="keyword">public</span>:
<a name="l00317"></a>00317 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00318"></a>00318 
<a name="l00319"></a>00319     <span class="comment">// These are ad hoc routines that don&#39;t match the nice API Paul Mitiguy</span>
<a name="l00320"></a>00320     <span class="comment">// implemented above.</span>
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 
<a name="l00326"></a><a class="code" href="classSimTK_1_1Rotation__.html#a6d2d3b70084a3a474bf2c8ac1f598bf6">00326</a>     <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1Rotation__.html#a6d2d3b70084a3a474bf2c8ac1f598bf6" title="Given cosines and sines (in that order) of three angles, set this Rotation matrix to the body-fixed 1...">setRotationToBodyFixedXYZ</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; c, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; s) {
<a name="l00327"></a>00327         <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; R = *<span class="keyword">this</span>;
<a name="l00328"></a>00328         <span class="keyword">const</span> RealP s0s1=s[0]*s[1], s2c0=s[2]*c[0], c0c2=c[0]*c[2], nc1= -c[1];
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         R = <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(     c[1]*c[2]      ,         s[2]*nc1       ,    s[1]  ,
<a name="l00331"></a>00331                     s2c0 + s0s1*c[2]   ,     c0c2 - s0s1*s[2]   , s[0]*nc1 ,
<a name="l00332"></a>00332                  s[0]*s[2] - s[1]*c0c2 ,  s[0]*c[2] + s[1]*s2c0 , c[0]*c[1] );
<a name="l00333"></a>00333     }
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 
<a name="l00341"></a><a class="code" href="classSimTK_1_1Rotation__.html#ada7be536a78529d455a292a04fc267bf">00341</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#ada7be536a78529d455a292a04fc267bf" title="Given Euler angles forming a body-fixed 3-2-1 sequence, and the relative angular velocity vector of B...">convertAngVelToBodyFixed321Dot</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B) {
<a name="l00342"></a>00342         <span class="keyword">const</span> RealP s1 = std::sin(q[1]), c1 = std::cos(q[1]);
<a name="l00343"></a>00343         <span class="keyword">const</span> RealP s2 = std::sin(q[2]), c2 = std::cos(q[2]);
<a name="l00344"></a>00344         <span class="keyword">const</span> RealP ooc1 = RealP(1)/c1;
<a name="l00345"></a>00345         <span class="keyword">const</span> RealP s2oc1 = s2*ooc1, c2oc1 = c2*ooc1;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> E( 0,    s2oc1  ,  c2oc1  ,
<a name="l00348"></a>00348                         0,      c2   ,   -s2   ,
<a name="l00349"></a>00349                         1,  s1*s2oc1 , s1*c2oc1 );
<a name="l00350"></a>00350         <span class="keywordflow">return</span> E * w_PB_B;
<a name="l00351"></a>00351     }
<a name="l00352"></a>00352 
<a name="l00355"></a><a class="code" href="classSimTK_1_1Rotation__.html#a0b2274baac7bc6e82343040f1850f59c">00355</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a0b2274baac7bc6e82343040f1850f59c" title="Inverse of the above routine.">convertBodyFixed321DotToAngVel</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qd) {
<a name="l00356"></a>00356         <span class="keyword">const</span> RealP s1 = std::sin(q[1]), c1 = std::cos(q[1]);
<a name="l00357"></a>00357         <span class="keyword">const</span> RealP s2 = std::sin(q[2]), c2 = std::cos(q[2]);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> Einv(  -s1  ,  0  ,  1 ,
<a name="l00360"></a>00360                            c1*s2 ,  c2 ,  0 ,
<a name="l00361"></a>00361                            c1*c2 , -s2 ,  0 );
<a name="l00362"></a>00362         <span class="keywordflow">return</span> Einv*qd;
<a name="l00363"></a>00363     }
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="comment">// TODO: sherm: is this right? Warning: everything is measured in the</span>
<a name="l00366"></a>00366     <span class="comment">// *PARENT* frame, but angular velocities and accelerations are</span>
<a name="l00367"></a>00367     <span class="comment">// expressed in the *BODY* frame.</span>
<a name="l00368"></a>00368     <span class="comment">// TODO: this is not an efficient way to do this computation.</span>
<a name="l00369"></a>00369     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#a41b70da72a012a4e248150759ae09a0b">convertAngVelDotToBodyFixed321DotDot</a>
<a name="l00370"></a><a class="code" href="classSimTK_1_1Rotation__.html#a41b70da72a012a4e248150759ae09a0b">00370</a>         (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; wdot_PB_B)
<a name="l00371"></a>00371     {
<a name="l00372"></a>00372         <span class="keyword">const</span> RealP s1 = std::sin(q[1]), c1 = std::cos(q[1]);
<a name="l00373"></a>00373         <span class="keyword">const</span> RealP s2 = std::sin(q[2]), c2 = std::cos(q[2]);
<a name="l00374"></a>00374         <span class="keyword">const</span> RealP ooc1  = 1/c1;
<a name="l00375"></a>00375         <span class="keyword">const</span> RealP s2oc1 = s2*ooc1, c2oc1 = c2*ooc1, s1oc1 = s1*ooc1;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> E( 0 ,   s2oc1  ,  c2oc1  ,
<a name="l00378"></a>00378                        0 ,     c2   ,   -s2   ,
<a name="l00379"></a>00379                        1 , s1*s2oc1 , s1*c2oc1 );
<a name="l00380"></a>00380         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> qdot = E * w_PB_B;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382         <span class="keyword">const</span> RealP t = qdot[1]*s1oc1;
<a name="l00383"></a>00383         <span class="keyword">const</span> RealP a = t*s2oc1 + qdot[2]*c2oc1; <span class="comment">// d/dt s2oc1</span>
<a name="l00384"></a>00384         <span class="keyword">const</span> RealP b = t*c2oc1 - qdot[2]*s2oc1; <span class="comment">// d/dt c2oc1</span>
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> Edot( 0 ,       a           ,         b         ,
<a name="l00387"></a>00387                           0 ,   -qdot[2]*s2     ,    -qdot[2]*c2    ,
<a name="l00388"></a>00388                           0 , s1*a + qdot[1]*s2 , s1*b + qdot[1]*c2 );
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <span class="keywordflow">return</span> E*wdot_PB_B + Edot*w_PB_B;
<a name="l00391"></a>00391     }
<a name="l00392"></a>00392     
<a name="l00404"></a><a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a">00404</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a" title="Given Euler angles q forming a body-fixed X-Y-Z sequence return the block N_B of the system N matrix ...">calcNForBodyXYZInBodyFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q) {
<a name="l00405"></a>00405         <span class="comment">// Note: q[0] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00406"></a>00406         <span class="comment">// its cosine and sine here.</span>
<a name="l00407"></a>00407         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a" title="Given Euler angles q forming a body-fixed X-Y-Z sequence return the block N_B of the system N matrix ...">calcNForBodyXYZInBodyFrame</a>
<a name="l00408"></a>00408            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00409"></a>00409             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])));
<a name="l00410"></a>00410     }
<a name="l00411"></a>00411 
<a name="l00417"></a><a class="code" href="classSimTK_1_1Rotation__.html#aaaa54243d974e2c0a8bb80c201343ad4">00417</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#aaaa54243d974e2c0a8bb80c201343ad4" title="This faster version of calcNForBodyXYZInBodyFrame() assumes you have already calculated the cosine an...">calcNForBodyXYZInBodyFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq) {
<a name="l00418"></a>00418         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00419"></a>00419         <span class="keyword">const</span> RealP s2 = sq[2], c2 = cq[2];
<a name="l00420"></a>00420         <span class="keyword">const</span> RealP ooc1  = 1/c1;
<a name="l00421"></a>00421         <span class="keyword">const</span> RealP s2oc1 = s2*ooc1, c2oc1 = c2*ooc1;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(    c2oc1  , -s2oc1  , 0,
<a name="l00424"></a>00424                             s2   ,    c2   , 0,
<a name="l00425"></a>00425                        -s1*c2oc1 , s1*s2oc1, 1 );
<a name="l00426"></a>00426     }
<a name="l00427"></a>00427 
<a name="l00440"></a><a class="code" href="classSimTK_1_1Rotation__.html#a0127cac78bdb1aea48a1b8294d2f13a5">00440</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a0127cac78bdb1aea48a1b8294d2f13a5" title="Given Euler angles q forming a body-fixed X-Y-Z (123) sequence return the block N_P of the system N m...">calcNForBodyXYZInParentFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q) {
<a name="l00441"></a>00441         <span class="comment">// Note: q[2] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00442"></a>00442         <span class="comment">// its cosine and sine here.</span>
<a name="l00443"></a>00443         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a0127cac78bdb1aea48a1b8294d2f13a5" title="Given Euler angles q forming a body-fixed X-Y-Z (123) sequence return the block N_P of the system N m...">calcNForBodyXYZInParentFrame</a>
<a name="l00444"></a>00444            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(std::cos(q[0]), std::cos(q[1]), 0),
<a name="l00445"></a>00445             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(std::sin(q[0]), std::sin(q[1]), 0));
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447 
<a name="l00454"></a><a class="code" href="classSimTK_1_1Rotation__.html#aabd585adb5a86dc06adc011d46c4d2a4">00454</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#aabd585adb5a86dc06adc011d46c4d2a4" title="This faster version of calcNForBodyXYZInParentFrame() assumes you have already calculated the cosine ...">calcNForBodyXYZInParentFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq) {
<a name="l00455"></a>00455         <span class="keyword">const</span> RealP s0 = sq[0], c0 = cq[0];
<a name="l00456"></a>00456         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00457"></a>00457         <span class="keyword">const</span> RealP ooc1  = 1/c1;
<a name="l00458"></a>00458         <span class="keyword">const</span> RealP s0oc1 = s0*ooc1, c0oc1 = c0*ooc1;
<a name="l00459"></a>00459 
<a name="l00460"></a>00460         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>( 1 , s1*s0oc1 , -s1*c0oc1,
<a name="l00461"></a>00461                        0 ,    c0    ,    s0,
<a name="l00462"></a>00462                        0 ,  -s0oc1  ,  c0oc1 );
<a name="l00463"></a>00463     }
<a name="l00464"></a>00464 
<a name="l00471"></a><a class="code" href="classSimTK_1_1Rotation__.html#a3d8d055de40c8993a4bb9bb2d86c784a">00471</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a3d8d055de40c8993a4bb9bb2d86c784a" title="This is the fastest way to form the product qdot=N_P*w_PB for a body-fixed XYZ sequence where angular...">multiplyByBodyXYZ_N_P</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,
<a name="l00472"></a>00472                                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,
<a name="l00473"></a>00473                                        RealP        oocosy,
<a name="l00474"></a>00474                                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB)
<a name="l00475"></a>00475     {
<a name="l00476"></a>00476         <span class="keyword">const</span> RealP s0 = sinxy[0], c0 = cosxy[0];
<a name="l00477"></a>00477         <span class="keyword">const</span> RealP s1 = sinxy[1];
<a name="l00478"></a>00478         <span class="keyword">const</span> RealP w0 = w_PB[0], w1 = w_PB[1], w2 = w_PB[2];
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         <span class="keyword">const</span> RealP t = (s0*w1-c0*w2)*oocosy;
<a name="l00481"></a>00481         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>( w0 + t*s1, c0*w1 + s0*w2, -t ); <span class="comment">// qdot</span>
<a name="l00482"></a>00482     }
<a name="l00483"></a>00483 
<a name="l00487"></a><a class="code" href="classSimTK_1_1Rotation__.html#a776789cb0d7ba32361b1b43813591754">00487</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a776789cb0d7ba32361b1b43813591754" title="This is the fastest way to form the product v_P=~N_P*q=~(~q*N_P); see the untransposed method multipl...">multiplyByBodyXYZ_NT_P</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,
<a name="l00488"></a>00488                                         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,
<a name="l00489"></a>00489                                         RealP        oocosy,
<a name="l00490"></a>00490                                         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q)
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492         <span class="keyword">const</span> RealP s0 = sinxy[0], c0 = cosxy[0];
<a name="l00493"></a>00493         <span class="keyword">const</span> RealP s1 = sinxy[1];
<a name="l00494"></a>00494         <span class="keyword">const</span> RealP q0 = q[0], q1 = q[1], q2 = q[2];
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         <span class="keyword">const</span> RealP t = (q0*s1-q2) * oocosy;
<a name="l00497"></a>00497         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>( q0, c0*q1 + t*s0, s0*q1 - t*c0 ); <span class="comment">// v_P</span>
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499 
<a name="l00506"></a>00506     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#ad8b111f6521a2001a2c2dbc00414d5ad" title="Calculate first time derivative qdot of body-fixed XYZ Euler angles q given sines and cosines of the ...">convertAngVelInParentToBodyXYZDot</a>
<a name="l00507"></a><a class="code" href="classSimTK_1_1Rotation__.html#ad8b111f6521a2001a2c2dbc00414d5ad">00507</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,  
<a name="l00508"></a>00508         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,  
<a name="l00509"></a>00509         RealP        oocosy, 
<a name="l00510"></a>00510         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB)   
<a name="l00511"></a>00511     {
<a name="l00512"></a>00512         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a3d8d055de40c8993a4bb9bb2d86c784a" title="This is the fastest way to form the product qdot=N_P*w_PB for a body-fixed XYZ sequence where angular...">multiplyByBodyXYZ_N_P</a>(cosxy,sinxy,oocosy,w_PB);
<a name="l00513"></a>00513     }
<a name="l00514"></a>00514 
<a name="l00526"></a>00526     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#aa5ee4bdfde750e6cb198494b1b522b20" title="Calculate second time derivative qdotdot of body-fixed XYZ Euler angles q given sines and cosines of ...">convertAngAccInParentToBodyXYZDotDot</a>
<a name="l00527"></a><a class="code" href="classSimTK_1_1Rotation__.html#aa5ee4bdfde750e6cb198494b1b522b20">00527</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,  
<a name="l00528"></a>00528         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,  
<a name="l00529"></a>00529         RealP        oocosy, 
<a name="l00530"></a>00530         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot,   
<a name="l00531"></a>00531         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; b_PB)   
<a name="l00532"></a>00532     {
<a name="l00533"></a>00533         <span class="keyword">const</span> RealP s1 = sinxy[1], c1 = cosxy[1];
<a name="l00534"></a>00534         <span class="keyword">const</span> RealP q0 = qdot[0], q1 = qdot[1], q2 = qdot[2];
<a name="l00535"></a>00535 
<a name="l00536"></a>00536         <span class="comment">// 10 flops</span>
<a name="l00537"></a>00537         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> Nb = <a class="code" href="classSimTK_1_1Rotation__.html#a3d8d055de40c8993a4bb9bb2d86c784a" title="This is the fastest way to form the product qdot=N_P*w_PB for a body-fixed XYZ sequence where angular...">multiplyByBodyXYZ_N_P</a>(cosxy,sinxy,oocosy,b_PB);
<a name="l00538"></a>00538 
<a name="l00539"></a>00539         <span class="keyword">const</span> RealP q1oc1 = q1*oocosy;
<a name="l00540"></a>00540         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> NDotw((q0*s1-q2)*q1oc1,     <span class="comment">//   NDot_P*w_PB</span>
<a name="l00541"></a>00541                            q0*q2*c1,            <span class="comment">// = NDot_P*(NInv_P*qdot)</span>
<a name="l00542"></a>00542                           (q2*s1-q0)*q1oc1 );   <span class="comment">// (9 flops)</span>
<a name="l00543"></a>00543 
<a name="l00544"></a>00544         <span class="keywordflow">return</span> Nb + NDotw; <span class="comment">// 3 flops</span>
<a name="l00545"></a>00545     }
<a name="l00546"></a>00546 
<a name="l00547"></a>00547 
<a name="l00550"></a><a class="code" href="classSimTK_1_1Rotation__.html#ad0edcb1b005f9a4980302c60cec1840d">00550</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#ad0edcb1b005f9a4980302c60cec1840d" title="Fastest way to form the product w_PB=NInv_P*qdot.">multiplyByBodyXYZ_NInv_P</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,
<a name="l00551"></a>00551                                           <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,
<a name="l00552"></a>00552                                           <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot)
<a name="l00553"></a>00553     {
<a name="l00554"></a>00554         <span class="keyword">const</span> RealP s0 = sinxy[0], c0 = cosxy[0];
<a name="l00555"></a>00555         <span class="keyword">const</span> RealP s1 = sinxy[1], c1 = cosxy[1];
<a name="l00556"></a>00556         <span class="keyword">const</span> RealP q0 = qdot[0], q1 = qdot[1], q2 = qdot[2];
<a name="l00557"></a>00557         <span class="keyword">const</span> RealP c1q2 = c1*q2;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>( q0 + s1*q2,           <span class="comment">// w_PB</span>
<a name="l00560"></a>00560                       c0*q1 - s0*c1q2, 
<a name="l00561"></a>00561                       s0*q1 + c0*c1q2 );
<a name="l00562"></a>00562     }
<a name="l00563"></a>00563 
<a name="l00566"></a><a class="code" href="classSimTK_1_1Rotation__.html#ae19740559fc48c4651696e8e1d4ff6d8">00566</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#ae19740559fc48c4651696e8e1d4ff6d8" title="Fastest way to form the product q=~NInv_P*v_P=~(~v_P*NInv_P).">multiplyByBodyXYZ_NInvT_P</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cosxy,
<a name="l00567"></a>00567                                            <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sinxy,
<a name="l00568"></a>00568                                            <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; v_P)
<a name="l00569"></a>00569     {
<a name="l00570"></a>00570         <span class="keyword">const</span> RealP s0 = sinxy[0], c0 = cosxy[0];
<a name="l00571"></a>00571         <span class="keyword">const</span> RealP s1 = sinxy[1], c1 = cosxy[1];
<a name="l00572"></a>00572         <span class="keyword">const</span> RealP w0 = v_P[0], w1 = v_P[1], w2 = v_P[2];
<a name="l00573"></a>00573 
<a name="l00574"></a>00574         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>( w0,                           <span class="comment">// qdot-like</span>
<a name="l00575"></a>00575                       c0*w1 + s0*w2,
<a name="l00576"></a>00576                       s1*w0 - s0*c1*w1 + c0*c1*w2);
<a name="l00577"></a>00577     }
<a name="l00578"></a>00578 
<a name="l00588"></a>00588     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#a57cc6b4aa8b35bb60f885bc8c07927ed" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInBodyFrame</a>
<a name="l00589"></a><a class="code" href="classSimTK_1_1Rotation__.html#a57cc6b4aa8b35bb60f885bc8c07927ed">00589</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) {
<a name="l00590"></a>00590         <span class="comment">// Note: q[0] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00591"></a>00591         <span class="comment">// its cosine and sine here.</span>
<a name="l00592"></a>00592         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a57cc6b4aa8b35bb60f885bc8c07927ed" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInBodyFrame</a>
<a name="l00593"></a>00593            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00594"></a>00594             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])),
<a name="l00595"></a>00595             qdot);
<a name="l00596"></a>00596     }
<a name="l00597"></a>00597 
<a name="l00603"></a>00603     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#a57cc6b4aa8b35bb60f885bc8c07927ed" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInBodyFrame</a>
<a name="l00604"></a><a class="code" href="classSimTK_1_1Rotation__.html#af1a07a41343d026e5f95c7072aa180b1">00604</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) 
<a name="l00605"></a>00605     {
<a name="l00606"></a>00606         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00607"></a>00607         <span class="keyword">const</span> RealP s2 = sq[2], c2 = cq[2];
<a name="l00608"></a>00608         <span class="keyword">const</span> RealP ooc1  = 1/c1;
<a name="l00609"></a>00609         <span class="keyword">const</span> RealP s2oc1 = s2*ooc1, c2oc1 = c2*ooc1;
<a name="l00610"></a>00610 
<a name="l00611"></a>00611         <span class="keyword">const</span> RealP t = qdot[1]*s1*ooc1;
<a name="l00612"></a>00612         <span class="keyword">const</span> RealP a = t*s2oc1 + qdot[2]*c2oc1; <span class="comment">// d/dt s2oc1</span>
<a name="l00613"></a>00613         <span class="keyword">const</span> RealP b = t*c2oc1 - qdot[2]*s2oc1; <span class="comment">// d/dt c2oc1</span>
<a name="l00614"></a>00614 
<a name="l00615"></a>00615         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(       b             ,        -a         , 0,
<a name="l00616"></a>00616                           qdot[2]*c2       ,    -qdot[2]*s2    , 0,
<a name="l00617"></a>00617                       -(s1*b + qdot[1]*c2) , s1*a + qdot[1]*s2 , 0 );
<a name="l00618"></a>00618     }
<a name="l00619"></a>00619 
<a name="l00629"></a>00629     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#a713ce2d2d7aa5e3ba6bc4107f715bca2" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInParentFrame</a>
<a name="l00630"></a><a class="code" href="classSimTK_1_1Rotation__.html#a713ce2d2d7aa5e3ba6bc4107f715bca2">00630</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) {
<a name="l00631"></a>00631         <span class="comment">// Note: q[2] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00632"></a>00632         <span class="comment">// its cosine and sine here.</span>
<a name="l00633"></a>00633         <span class="keyword">const</span> RealP cy = std::cos(q[1]); <span class="comment">// cos(y)</span>
<a name="l00634"></a>00634         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a713ce2d2d7aa5e3ba6bc4107f715bca2" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInParentFrame</a>
<a name="l00635"></a>00635            (<a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>(std::cos(q[0]), cy), 
<a name="l00636"></a>00636             <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>(std::sin(q[0]), std::sin(q[1])),
<a name="l00637"></a>00637             1/cy, qdot);
<a name="l00638"></a>00638     }
<a name="l00639"></a>00639 
<a name="l00644"></a>00644     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#a713ce2d2d7aa5e3ba6bc4107f715bca2" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInParentFrame</a>
<a name="l00645"></a><a class="code" href="classSimTK_1_1Rotation__.html#a731e89578e363e9c42f998b542682a35">00645</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>&amp; sq, RealP ooc1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) {
<a name="l00646"></a>00646         <span class="keyword">const</span> RealP s0 = sq[0], c0 = cq[0];
<a name="l00647"></a>00647         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00648"></a>00648         <span class="keyword">const</span> RealP s0oc1 = s0*ooc1, c0oc1 = c0*ooc1;
<a name="l00649"></a>00649 
<a name="l00650"></a>00650         <span class="keyword">const</span> RealP t = qdot[1]*s1*ooc1;
<a name="l00651"></a>00651         <span class="keyword">const</span> RealP a = t*s0oc1 + qdot[0]*c0oc1; <span class="comment">// d/dt s0oc1</span>
<a name="l00652"></a>00652         <span class="keyword">const</span> RealP b = t*c0oc1 - qdot[0]*s0oc1; <span class="comment">// d/dt c0oc1</span>
<a name="l00653"></a>00653 
<a name="l00654"></a>00654         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>( 0,  s1*a + qdot[1]*s0, -(s1*b + qdot[1]*c0), 
<a name="l00655"></a>00655                        0,    -qdot[0]*s0    ,     qdot[0]*c0      ,
<a name="l00656"></a>00656                        0,        -a         ,         b            );
<a name="l00657"></a>00657     }
<a name="l00658"></a>00658 
<a name="l00667"></a><a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753">00667</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753" title="Inverse of routine calcNForBodyXYZInBodyFrame().">calcNInvForBodyXYZInBodyFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q) {
<a name="l00668"></a>00668         <span class="comment">// Note: q[0] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00669"></a>00669         <span class="comment">// its cosine and sine here.</span>
<a name="l00670"></a>00670         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753" title="Inverse of routine calcNForBodyXYZInBodyFrame().">calcNInvForBodyXYZInBodyFrame</a>
<a name="l00671"></a>00671            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00672"></a>00672             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])));
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674 
<a name="l00680"></a>00680     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753" title="Inverse of routine calcNForBodyXYZInBodyFrame().">calcNInvForBodyXYZInBodyFrame</a>
<a name="l00681"></a><a class="code" href="classSimTK_1_1Rotation__.html#a05421fe60aadcdc2c5b9a02747568a73">00681</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq) {
<a name="l00682"></a>00682         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00683"></a>00683         <span class="keyword">const</span> RealP s2 = sq[2], c2 = cq[2];
<a name="l00684"></a>00684 
<a name="l00685"></a>00685         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>( c1*c2 ,  s2 , 0 ,
<a name="l00686"></a>00686                       -c1*s2 ,  c2 , 0 ,
<a name="l00687"></a>00687                         s1   ,  0  , 1 );
<a name="l00688"></a>00688     }
<a name="l00689"></a>00689 
<a name="l00697"></a><a class="code" href="classSimTK_1_1Rotation__.html#a37fc3fe5bd8a98217aafeb5a6639ccbc">00697</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a37fc3fe5bd8a98217aafeb5a6639ccbc" title="Inverse of the above routine.">calcNInvForBodyXYZInParentFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q) {
<a name="l00698"></a>00698         <span class="comment">// Note: q[0] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00699"></a>00699         <span class="comment">// its cosine and sine here.</span>
<a name="l00700"></a>00700         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a37fc3fe5bd8a98217aafeb5a6639ccbc" title="Inverse of the above routine.">calcNInvForBodyXYZInParentFrame</a>
<a name="l00701"></a>00701            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(std::cos(q[0]), std::cos(q[1]), 0),
<a name="l00702"></a>00702             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(std::sin(q[0]), std::sin(q[1]), 0));
<a name="l00703"></a>00703     }
<a name="l00704"></a>00704 
<a name="l00710"></a>00710     <span class="keyword">static</span> Mat33P <a class="code" href="classSimTK_1_1Rotation__.html#a37fc3fe5bd8a98217aafeb5a6639ccbc" title="Inverse of the above routine.">calcNInvForBodyXYZInParentFrame</a>
<a name="l00711"></a><a class="code" href="classSimTK_1_1Rotation__.html#a020a2169bc07b8e28414b75892986c9f">00711</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq) {
<a name="l00712"></a>00712         <span class="keyword">const</span> RealP s0 = sq[0], c0 = cq[0];
<a name="l00713"></a>00713         <span class="keyword">const</span> RealP s1 = sq[1], c1 = cq[1];
<a name="l00714"></a>00714 
<a name="l00715"></a>00715         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>( 1 ,  0  ,   s1   ,
<a name="l00716"></a>00716                        0 ,  c0 , -s0*c1 ,
<a name="l00717"></a>00717                        0 ,  s0 ,  c0*c1 );
<a name="l00718"></a>00718     }
<a name="l00719"></a>00719 
<a name="l00728"></a>00728     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#ae87f86eb9a0b8dff3202c35e39f1b16d" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence, and the relative angular velocity vecto...">convertAngVelInBodyFrameToBodyXYZDot</a>
<a name="l00729"></a><a class="code" href="classSimTK_1_1Rotation__.html#ae87f86eb9a0b8dff3202c35e39f1b16d">00729</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B) {  
<a name="l00730"></a>00730         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#ae87f86eb9a0b8dff3202c35e39f1b16d" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence, and the relative angular velocity vecto...">convertAngVelInBodyFrameToBodyXYZDot</a>
<a name="l00731"></a>00731            (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00732"></a>00732             <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])),
<a name="l00733"></a>00733             w_PB_B); 
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735 
<a name="l00741"></a>00741     <span class="comment">//TODO: reimplement</span>
<a name="l00742"></a>00742     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#ae87f86eb9a0b8dff3202c35e39f1b16d" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence, and the relative angular velocity vecto...">convertAngVelInBodyFrameToBodyXYZDot</a>
<a name="l00743"></a><a class="code" href="classSimTK_1_1Rotation__.html#aa59271d0544a807b0d43617485365efd">00743</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B) 
<a name="l00744"></a>00744     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a" title="Given Euler angles q forming a body-fixed X-Y-Z sequence return the block N_B of the system N matrix ...">calcNForBodyXYZInBodyFrame</a>(cq,sq)*w_PB_B; }
<a name="l00745"></a>00745 
<a name="l00751"></a>00751     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#afc7286af6f32e76ddc0b5f90f7efd22e" title="Inverse of the above routine.">convertBodyXYZDotToAngVelInBodyFrame</a>
<a name="l00752"></a><a class="code" href="classSimTK_1_1Rotation__.html#afc7286af6f32e76ddc0b5f90f7efd22e">00752</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) {   
<a name="l00753"></a>00753            <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#afc7286af6f32e76ddc0b5f90f7efd22e" title="Inverse of the above routine.">convertBodyXYZDotToAngVelInBodyFrame</a>
<a name="l00754"></a>00754                        (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00755"></a>00755                         <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])),
<a name="l00756"></a>00756                         qdot); 
<a name="l00757"></a>00757     }
<a name="l00758"></a>00758 
<a name="l00764"></a>00764     <span class="comment">// TODO: reimplement</span>
<a name="l00765"></a>00765     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#afc7286af6f32e76ddc0b5f90f7efd22e" title="Inverse of the above routine.">convertBodyXYZDotToAngVelInBodyFrame</a>
<a name="l00766"></a><a class="code" href="classSimTK_1_1Rotation__.html#aaed9d79a18b05275c469d18d58413ca5">00766</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; qdot) 
<a name="l00767"></a>00767     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753" title="Inverse of routine calcNForBodyXYZInBodyFrame().">calcNInvForBodyXYZInBodyFrame</a>(cq,sq)*qdot; }
<a name="l00768"></a>00768 
<a name="l00774"></a>00774     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#aed514d5990532404a82da26793049900" title="TODO: sherm: is this right? Warning: everything is measured in the PARENT* frame, but has to be expre...">convertAngVelDotInBodyFrameToBodyXYZDotDot</a>
<a name="l00775"></a><a class="code" href="classSimTK_1_1Rotation__.html#aed514d5990532404a82da26793049900">00775</a>         (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; wdot_PB_B)
<a name="l00776"></a>00776     {
<a name="l00777"></a>00777         <span class="comment">// Note: q[0] is not referenced so we won&#39;t waste time calculating</span>
<a name="l00778"></a>00778         <span class="comment">// its cosine and sine here.</span>
<a name="l00779"></a>00779         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aed514d5990532404a82da26793049900" title="TODO: sherm: is this right? Warning: everything is measured in the PARENT* frame, but has to be expre...">convertAngVelDotInBodyFrameToBodyXYZDotDot</a>
<a name="l00780"></a>00780                    (<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::cos(q[1]), std::cos(q[2])),
<a name="l00781"></a>00781                     <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0, std::sin(q[1]), std::sin(q[2])),
<a name="l00782"></a>00782                     w_PB_B, wdot_PB_B);
<a name="l00783"></a>00783     }
<a name="l00784"></a>00784 
<a name="l00791"></a>00791     <span class="comment">// TODO: reimplement</span>
<a name="l00792"></a>00792     <span class="keyword">static</span> Vec3P <a class="code" href="classSimTK_1_1Rotation__.html#aed514d5990532404a82da26793049900" title="TODO: sherm: is this right? Warning: everything is measured in the PARENT* frame, but has to be expre...">convertAngVelDotInBodyFrameToBodyXYZDotDot</a>
<a name="l00793"></a><a class="code" href="classSimTK_1_1Rotation__.html#a4ae5a0d854e698521bde92dfe17b84a7">00793</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; cq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; sq, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_B, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; wdot_PB_B)
<a name="l00794"></a>00794     {
<a name="l00795"></a>00795         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> N      = <a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a" title="Given Euler angles q forming a body-fixed X-Y-Z sequence return the block N_B of the system N matrix ...">calcNForBodyXYZInBodyFrame</a>(cq,sq);
<a name="l00796"></a>00796         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>  qdot   = N * w_PB_B; <span class="comment">// 15 flops</span>
<a name="l00797"></a>00797         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> NDot   = <a class="code" href="classSimTK_1_1Rotation__.html#a57cc6b4aa8b35bb60f885bc8c07927ed" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence q, and their time derivatives qdot...">calcNDotForBodyXYZInBodyFrame</a>(cq,sq,qdot);
<a name="l00798"></a>00798 
<a name="l00799"></a>00799         <span class="keywordflow">return</span> N*wdot_PB_B + NDot*w_PB_B; <span class="comment">// 33 flops</span>
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801 
<a name="l00807"></a><a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d">00807</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a> <a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d" title="Given a possibly unnormalized quaternion q, calculate the 4x3 matrix N which maps angular velocity w ...">calcUnnormalizedNForQuaternion</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q) {
<a name="l00808"></a>00808         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a> e = q/2;
<a name="l00809"></a>00809         <span class="keyword">const</span> RealP ne1 = -e[1], ne2 = -e[2], ne3 = -e[3];
<a name="l00810"></a>00810         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a>( ne1,  ne2,  ne3,
<a name="l00811"></a>00811                        e[0], e[3], ne2,
<a name="l00812"></a>00812                        ne3,  e[0], e[1],
<a name="l00813"></a>00813                        e[2], ne1,  e[0]);
<a name="l00814"></a>00814     }
<a name="l00815"></a>00815 
<a name="l00822"></a><a class="code" href="classSimTK_1_1Rotation__.html#a30c0b4373719c68c0a14783d8fa8e8aa">00822</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a30c0b4373719c68c0a14783d8fa8e8aa" title="Given the time derivative qdot of a possibly unnormalized quaternion q, calculate the 4x3 matrix NDot...">calcUnnormalizedNDotForQuaternion</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; qdot) {
<a name="l00823"></a>00823         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a> ed = qdot/2;
<a name="l00824"></a>00824         <span class="keyword">const</span> RealP ned1 = -ed[1], ned2 = -ed[2], ned3 = -ed[3];
<a name="l00825"></a>00825         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a>( ned1,  ned2,  ned3,
<a name="l00826"></a>00826                        ed[0], ed[3], ned2,
<a name="l00827"></a>00827                        ned3,  ed[0], ed[1],
<a name="l00828"></a>00828                        ed[2], ned1,  ed[0]);
<a name="l00829"></a>00829     }
<a name="l00830"></a>00830 
<a name="l00839"></a><a class="code" href="classSimTK_1_1Rotation__.html#a939de389a2ef2d6516aee271d1f04ad7">00839</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat34P</a> <a class="code" href="classSimTK_1_1Rotation__.html#a939de389a2ef2d6516aee271d1f04ad7" title="Given a (possibly unnormalized) quaternion q, calculate the 3x4 matrix NInv (= N^-1) which maps quate...">calcUnnormalizedNInvForQuaternion</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q) {
<a name="l00840"></a>00840         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a> e = 2*q;
<a name="l00841"></a>00841         <span class="keyword">const</span> RealP ne1 = -e[1], ne2 = -e[2], ne3 = -e[3];
<a name="l00842"></a>00842         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat34P</a>(ne1, e[0], ne3,  e[2],
<a name="l00843"></a>00843                       ne2, e[3], e[0], ne1,
<a name="l00844"></a>00844                       ne3, ne2,  e[1], e[0]);
<a name="l00845"></a>00845     }
<a name="l00846"></a>00846 
<a name="l00847"></a>00847 
<a name="l00852"></a><a class="code" href="classSimTK_1_1Rotation__.html#aea472db472765197f6daf4624b9a0700">00852</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a> <a class="code" href="classSimTK_1_1Rotation__.html#aea472db472765197f6daf4624b9a0700" title="Given a possibly unnormalized quaternion (0th element is the scalar) and the relative angular velocit...">convertAngVelToQuaternionDot</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_P) {
<a name="l00853"></a>00853         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d" title="Given a possibly unnormalized quaternion q, calculate the 4x3 matrix N which maps angular velocity w ...">calcUnnormalizedNForQuaternion</a>(q)*w_PB_P;
<a name="l00854"></a>00854     }
<a name="l00855"></a>00855 
<a name="l00859"></a><a class="code" href="classSimTK_1_1Rotation__.html#adc55fc1b16c0df4962094d3173ae4372">00859</a>     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1Rotation__.html#adc55fc1b16c0df4962094d3173ae4372" title="Inverse of the above routine.">convertQuaternionDotToAngVel</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; qdot) {
<a name="l00860"></a>00860         <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a939de389a2ef2d6516aee271d1f04ad7" title="Given a (possibly unnormalized) quaternion q, calculate the 3x4 matrix NInv (= N^-1) which maps quate...">calcUnnormalizedNInvForQuaternion</a>(q)*qdot;
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862 
<a name="l00868"></a>00868     <span class="comment">// TODO: reimplement</span>
<a name="l00869"></a>00869     <span class="keyword">static</span> Vec4P <a class="code" href="classSimTK_1_1Rotation__.html#a8891cd55bbfc43e47421b7534c17b947" title="Given a quaternion q representing R_PB, angular velocity of B in P, and the time derivative of the an...">OLDconvertAngVelDotToQuaternionDotDot</a>
<a name="l00870"></a><a class="code" href="classSimTK_1_1Rotation__.html#a8891cd55bbfc43e47421b7534c17b947">00870</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB_P, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; wdot_PB_P)
<a name="l00871"></a>00871     {
<a name="l00872"></a>00872         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a> N    = <a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d" title="Given a possibly unnormalized quaternion q, calculate the 4x3 matrix N which maps angular velocity w ...">calcUnnormalizedNForQuaternion</a>(q);
<a name="l00873"></a>00873         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>      qdot = N*w_PB_P;   <span class="comment">// 20 flops</span>
<a name="l00874"></a>00874         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a> NDot = <a class="code" href="classSimTK_1_1Rotation__.html#a30c0b4373719c68c0a14783d8fa8e8aa" title="Given the time derivative qdot of a possibly unnormalized quaternion q, calculate the 4x3 matrix NDot...">calcUnnormalizedNDotForQuaternion</a>(qdot);
<a name="l00875"></a>00875 
<a name="l00876"></a>00876         <span class="keywordflow">return</span>  N*wdot_PB_P + NDot*w_PB_P;  <span class="comment">// 44 flops</span>
<a name="l00877"></a>00877     }
<a name="l00878"></a>00878 
<a name="l00885"></a>00885     <span class="keyword">static</span> Vec4P <a class="code" href="classSimTK_1_1Rotation__.html#ac39e2b91d6d396f2002afb7f26335e64" title="We want to differentiate qdot=N(q)*w to get qdotdot=N*b+NDot*w where b is angular acceleration wdot...">convertAngVelDotToQuaternionDotDot</a>
<a name="l00886"></a><a class="code" href="classSimTK_1_1Rotation__.html#ac39e2b91d6d396f2002afb7f26335e64">00886</a>        (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; w_PB, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; b_PB)
<a name="l00887"></a>00887     {
<a name="l00888"></a>00888         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat43P</a> N     = <a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d" title="Given a possibly unnormalized quaternion q, calculate the 4x3 matrix N which maps angular velocity w ...">calcUnnormalizedNForQuaternion</a>(q); <span class="comment">//  7 flops</span>
<a name="l00889"></a>00889         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>  Nb    = N*b_PB;                            <span class="comment">// 20 flops</span>
<a name="l00890"></a>00890         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec4P</a>  NDotw = RealP(-.25)*w_PB.<a class="code" href="classSimTK_1_1Vec.html#a95575b22850f63eaa64858660c8c8c64">normSqr</a>()*q;      <span class="comment">// 10 flops</span>
<a name="l00891"></a>00891         <span class="keywordflow">return</span> Nb + NDotw;                                      <span class="comment">//  4 flops</span>
<a name="l00892"></a>00892     }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 
<a name="l00895"></a>00895 <span class="keyword">private</span>:
<a name="l00896"></a>00896     <span class="comment">// This is only for the most trustworthy of callers, that is, methods of </span>
<a name="l00897"></a>00897     <span class="comment">// the Rotation_ class.  There are a lot of ways for this NOT to be a </span>
<a name="l00898"></a>00898     <span class="comment">// legitimate rotation matrix -- be careful!!</span>
<a name="l00899"></a>00899     <span class="comment">// Note that these are supplied in rows.</span>
<a name="l00900"></a>00900     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; xy, <span class="keyword">const</span> RealP&amp; xz,
<a name="l00901"></a>00901                <span class="keyword">const</span> RealP&amp; yx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; yz,
<a name="l00902"></a>00902                <span class="keyword">const</span> RealP&amp; zx, <span class="keyword">const</span> RealP&amp; zy, <span class="keyword">const</span> RealP&amp; zz )
<a name="l00903"></a>00903     :   Mat33P( xx,xy,xz, yx,yy,yz, zx,zy,zz ) {}
<a name="l00904"></a>00904 
<a name="l00905"></a>00905     <span class="comment">// These next methods are highly-efficient power-user methods. Read the </span>
<a name="l00906"></a>00906     <span class="comment">// code to understand them.</span>
<a name="l00907"></a>00907     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setTwoAngleTwoAxesBodyFixedForwardCyclicalRotation(     RealP cosAngle1, RealP sinAngle1, <span class="keyword">const</span> CoordinateAxis&amp; axis1, RealP cosAngle2, RealP sinAngle2, <span class="keyword">const</span> CoordinateAxis&amp; axis2 );
<a name="l00908"></a>00908     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setThreeAngleTwoAxesBodyFixedForwardCyclicalRotation(   RealP cosAngle1, RealP sinAngle1, <span class="keyword">const</span> CoordinateAxis&amp; axis1, RealP cosAngle2, RealP sinAngle2, <span class="keyword">const</span> CoordinateAxis&amp; axis2, RealP cosAngle3, RealP sinAngle3 );
<a name="l00909"></a>00909     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setThreeAngleThreeAxesBodyFixedForwardCyclicalRotation( RealP cosAngle1, RealP sinAngle1, <span class="keyword">const</span> CoordinateAxis&amp; axis1, RealP cosAngle2, RealP sinAngle2, <span class="keyword">const</span> CoordinateAxis&amp; axis2, RealP cosAngle3, RealP sinAngle3, <span class="keyword">const</span> CoordinateAxis&amp; axis3 );
<a name="l00910"></a>00910 
<a name="l00911"></a>00911     <span class="comment">// These next methods are highly-efficient power-user methods to convert </span>
<a name="l00912"></a>00912     <span class="comment">// Rotation matrices to orientation angles.  Read the code to understand them.</span>
<a name="l00913"></a>00913     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> Vec2P  convertTwoAxesBodyFixedRotationToTwoAngles(     <span class="keyword">const</span> CoordinateAxis&amp; axis1, <span class="keyword">const</span> CoordinateAxis&amp; axis2 ) <span class="keyword">const</span>;
<a name="l00914"></a>00914     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> Vec3P  convertTwoAxesBodyFixedRotationToThreeAngles(   <span class="keyword">const</span> CoordinateAxis&amp; axis1, <span class="keyword">const</span> CoordinateAxis&amp; axis2 ) <span class="keyword">const</span>;
<a name="l00915"></a>00915     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> Vec3P  convertThreeAxesBodyFixedRotationToThreeAngles( <span class="keyword">const</span> CoordinateAxis&amp; axis1, <span class="keyword">const</span> CoordinateAxis&amp; axis2, <span class="keyword">const</span> CoordinateAxis&amp; axis3 ) <span class="keyword">const</span>;
<a name="l00916"></a>00916 
<a name="l00917"></a>00917 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00918"></a>00918 <span class="comment">// These are obsolete names from a previous release, listed here so that </span>
<a name="l00919"></a>00919 <span class="comment">// users will get a decipherable compilation error. (sherm 091101)</span>
<a name="l00920"></a>00920 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00921"></a>00921 <span class="keyword">private</span>:
<a name="l00922"></a>00922     <span class="comment">// REPLACED BY: calcNForBodyXYZInBodyFrame()</span>
<a name="l00923"></a>00923     <span class="keyword">static</span> Mat33P calcQBlockForBodyXYZInBodyFrame(<span class="keyword">const</span> Vec3P&amp; a)
<a name="l00924"></a>00924     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a3eb22f98f2a9088cf1012a5559548e3a" title="Given Euler angles q forming a body-fixed X-Y-Z sequence return the block N_B of the system N matrix ...">calcNForBodyXYZInBodyFrame</a>(a); }
<a name="l00925"></a>00925     <span class="comment">// REPLACED BY: calcNInvForBodyXYZInBodyFrame()</span>
<a name="l00926"></a>00926     <span class="keyword">static</span> Mat33P calcQInvBlockForBodyXYZInBodyFrame(<span class="keyword">const</span> Vec3P&amp; a)
<a name="l00927"></a>00927     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aba5b6c3e33f68fc8105d2f2099969753" title="Inverse of routine calcNForBodyXYZInBodyFrame().">calcNInvForBodyXYZInBodyFrame</a>(a); }
<a name="l00928"></a>00928     <span class="comment">// REPLACED BY: calcUnnormalizedNForQuaternion()</span>
<a name="l00929"></a>00929     <span class="keyword">static</span> Mat&lt;4,3,P&gt; calcUnnormalizedQBlockForQuaternion(<span class="keyword">const</span> Vec4P&amp; q)
<a name="l00930"></a>00930     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#af8b7a0f3971e33ca93521589eeb7cc1d" title="Given a possibly unnormalized quaternion q, calculate the 4x3 matrix N which maps angular velocity w ...">calcUnnormalizedNForQuaternion</a>(q); }
<a name="l00931"></a>00931     <span class="comment">// REPLACED BY: calcUnnormalizedNInvForQuaternion()</span>
<a name="l00932"></a>00932     <span class="keyword">static</span> Mat&lt;3,4,P&gt; calcUnnormalizedQInvBlockForQuaternion(<span class="keyword">const</span> Vec4P&amp; q)
<a name="l00933"></a>00933     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a939de389a2ef2d6516aee271d1f04ad7" title="Given a (possibly unnormalized) quaternion q, calculate the 3x4 matrix NInv (= N^-1) which maps quate...">calcUnnormalizedNInvForQuaternion</a>(q); }
<a name="l00934"></a>00934     <span class="comment">// REPLACED BY: convertAngVelInBodyFrameToBodyXYZDot</span>
<a name="l00935"></a>00935     <span class="keyword">static</span> Vec3P convertAngVelToBodyFixed123Dot(<span class="keyword">const</span> Vec3P&amp; q, <span class="keyword">const</span> Vec3P&amp; w_PB_B) 
<a name="l00936"></a>00936     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#ae87f86eb9a0b8dff3202c35e39f1b16d" title="Given Euler angles forming a body-fixed X-Y-Z (123) sequence, and the relative angular velocity vecto...">convertAngVelInBodyFrameToBodyXYZDot</a>(q,w_PB_B); }
<a name="l00937"></a>00937     <span class="comment">// REPLACED BY: convertBodyXYZDotToAngVelInBodyFrame</span>
<a name="l00938"></a>00938     <span class="keyword">static</span> Vec3P convertBodyFixed123DotToAngVel(<span class="keyword">const</span> Vec3P&amp; q, <span class="keyword">const</span> Vec3P&amp; qdot) 
<a name="l00939"></a>00939     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#afc7286af6f32e76ddc0b5f90f7efd22e" title="Inverse of the above routine.">convertBodyXYZDotToAngVelInBodyFrame</a>(q,qdot); }
<a name="l00940"></a>00940     <span class="comment">// REPLACED BY: convertAngVelDotInBodyFrameToBodyXYZDotDot</span>
<a name="l00941"></a>00941     <span class="keyword">static</span> Vec3P convertAngVelDotToBodyFixed123DotDot
<a name="l00942"></a>00942         (<span class="keyword">const</span> Vec3P&amp; q, <span class="keyword">const</span> Vec3P&amp; w_PB_B, <span class="keyword">const</span> Vec3P&amp; wdot_PB_B)
<a name="l00943"></a>00943     {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aed514d5990532404a82da26793049900" title="TODO: sherm: is this right? Warning: everything is measured in the PARENT* frame, but has to be expre...">convertAngVelDotInBodyFrameToBodyXYZDotDot</a>(q,w_PB_B,wdot_PB_B); }
<a name="l00944"></a>00944 
<a name="l00945"></a>00945 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00946"></a>00946 <span class="comment">// The following code is obsolete - it is here temporarily for backward </span>
<a name="l00947"></a>00947 <span class="comment">// compatibility (Mitiguy 9/5/2007)</span>
<a name="l00948"></a>00948 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00949"></a>00949 <span class="keyword">private</span>:
<a name="l00950"></a>00950     <span class="comment">// These static methods are like constructors with friendlier names.</span>
<a name="l00951"></a>00951     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> zero() { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>(); }
<a name="l00952"></a>00952     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> NaN()  { <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> r;  r.setRotationToNaN();  <span class="keywordflow">return</span> r; }
<a name="l00953"></a>00953 
<a name="l00955"></a>00955     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setToZero()            { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a352f6087f76d893011d1cf4a168d58d4">setRotationToIdentityMatrix</a>(); }
<a name="l00956"></a>00956     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setToIdentityMatrix()  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a352f6087f76d893011d1cf4a168d58d4">setRotationToIdentityMatrix</a>(); }
<a name="l00957"></a>00957     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>&amp;  setToNaN()             { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a360123fced580910bb805feb3a602258">setRotationToNaN</a>(); }
<a name="l00958"></a>00958     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>  trustMe( <span class="keyword">const</span> Mat33P&amp; m )  { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>(m,<span class="keyword">true</span>); }
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     <span class="comment">// One-angle rotations.</span>
<a name="l00961"></a>00961     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutX( <span class="keyword">const</span> RealP&amp; angleInRad ) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( angleInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a> ); }
<a name="l00962"></a>00962     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutY( <span class="keyword">const</span> RealP&amp; angleInRad ) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( angleInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00963"></a>00963     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutZ( <span class="keyword">const</span> RealP&amp; angleInRad ) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( angleInRad, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a> ); }
<a name="l00964"></a>00964     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutAxis( <span class="keyword">const</span> RealP&amp; angleInRad, <span class="keyword">const</span> UnitVec3P&amp; axis ) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>(angleInRad,axis); }
<a name="l00965"></a>00965     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutAxis( <span class="keyword">const</span> RealP&amp; angleInRad, <span class="keyword">const</span> Vec3P&amp; axis )     { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>(angleInRad,axis); }
<a name="l00966"></a>00966     <span class="keywordtype">void</span>  setToRotationAboutZ( <span class="keyword">const</span> RealP&amp; q ) { <a class="code" href="classSimTK_1_1Rotation__.html#a019d1ba576917c1294376af5d5c07684" title="Set this Rotation_ object to a right-handed rotation by an angle (in radians) about a coordinate axis...">setRotationFromAngleAboutZ</a>( q ); }
<a name="l00967"></a>00967 
<a name="l00968"></a>00968     <span class="comment">// Two-angle space-fixed rotations.</span>
<a name="l00969"></a>00969     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutXThenOldY(<span class="keyword">const</span> RealP&amp; xInRad, <span class="keyword">const</span> RealP&amp; yInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, xInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, yInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00970"></a>00970     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutYThenOldX(<span class="keyword">const</span> RealP&amp; yInRad, <span class="keyword">const</span> RealP&amp; xInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, yInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a>, xInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a> ); }
<a name="l00971"></a>00971     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutXThenOldZ(<span class="keyword">const</span> RealP&amp; xInRad, <span class="keyword">const</span> RealP&amp; zInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, xInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, zInRad, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a> ); }
<a name="l00972"></a>00972     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutZThenOldX(<span class="keyword">const</span> RealP&amp; zInRad, <span class="keyword">const</span> RealP&amp; xInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, zInRad, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a>, xInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a> ); }
<a name="l00973"></a>00973     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutYThenOldZ(<span class="keyword">const</span> RealP&amp; yInRad, <span class="keyword">const</span> RealP&amp; zInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, yInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a>, zInRad, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a> ); }
<a name="l00974"></a>00974     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutZThenOldY(<span class="keyword">const</span> RealP&amp; zInRad, <span class="keyword">const</span> RealP&amp; yInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, zInRad, <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a>, yInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00975"></a>00975 
<a name="l00976"></a>00976     <span class="comment">// Two-angle body fixed rotations (reversed space-fixed ones).</span>
<a name="l00977"></a>00977     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutXThenNewY(<span class="keyword">const</span> RealP&amp; xInRad, <span class="keyword">const</span> RealP&amp; yInRad) { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, xInRad, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, yInRad, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00978"></a>00978     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutYThenNewX(<span class="keyword">const</span> RealP&amp; yInRad, <span class="keyword">const</span> RealP&amp; xInRad) { <span class="keywordflow">return</span> aboutXThenOldY(xInRad, yInRad); }
<a name="l00979"></a>00979     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutXThenNewZ(<span class="keyword">const</span> RealP&amp; xInRad, <span class="keyword">const</span> RealP&amp; zInRad) { <span class="keywordflow">return</span> aboutZThenOldX(zInRad, xInRad); }
<a name="l00980"></a>00980     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutZThenNewX(<span class="keyword">const</span> RealP&amp; zInRad, <span class="keyword">const</span> RealP&amp; xInRad) { <span class="keywordflow">return</span> aboutXThenOldZ(xInRad, zInRad); }
<a name="l00981"></a>00981     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutYThenNewZ(<span class="keyword">const</span> RealP&amp; yInRad, <span class="keyword">const</span> RealP&amp; zInRad) { <span class="keywordflow">return</span> aboutZThenOldY(zInRad, yInRad); }
<a name="l00982"></a>00982     <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a> aboutZThenNewY(<span class="keyword">const</span> RealP&amp; zInRad, <span class="keyword">const</span> RealP&amp; yInRad) { <span class="keywordflow">return</span> aboutYThenOldZ(yInRad, zInRad); }
<a name="l00983"></a>00983 
<a name="l00986"></a>00986     <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <span class="keyword">const</span> UnitVec3P&amp; uvecZ )  { <a class="code" href="classSimTK_1_1Rotation__.html#a1716a6bd3d8ae76bbd59b139edcc2e2d" title="Calculate R_AB by knowing one of B&#39;s unit vector expressed in A.">setRotationFromOneAxis</a>(uvecZ,<a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a>); }
<a name="l00987"></a>00987 
<a name="l00989"></a>00989     <span class="comment">//  We will take x seriously after normalizing, but use the y only to create z = normalize(x X y), </span>
<a name="l00990"></a>00990     <span class="comment">//  then y = z X x. Bad things happen if x and y are aligned but we may not catch it.</span>
<a name="l00991"></a>00991     <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_</a>( <span class="keyword">const</span> Vec3P&amp; <a class="code" href="classSimTK_1_1Rotation__.html#af36bd122d1e1b06b05d6f6a518f9bc52">x</a>, <span class="keyword">const</span> Vec3P&amp; yish )  { <a class="code" href="classSimTK_1_1Rotation__.html#a7efe475b1e8a00f0628a74e660e84dfa" title="Calculate R_AB by knowing one of B&#39;s unit vectors u1 (could be Bx, By, or Bz) expressed in A and a ve...">setRotationFromTwoAxes</a>( UnitVec3P(x), <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, yish, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l00992"></a>00992 
<a name="l00994"></a>00994     <span class="keywordtype">void</span> setToQuaternion( <span class="keyword">const</span> QuaternionP&amp; q )  { <a class="code" href="classSimTK_1_1Rotation__.html#aed39e831fc2c774c769b4afb72830874" title="Method for creating a rotation matrix from a quaternion.">setRotationFromQuaternion</a>(q); }
<a name="l00995"></a>00995 
<a name="l01000"></a>01000     <span class="comment">//  Similarly for BodyFixed123.</span>
<a name="l01001"></a>01001     <span class="keywordtype">void</span> setToBodyFixed321( <span class="keyword">const</span> Vec3P&amp; v)  { <a class="code" href="classSimTK_1_1Rotation__.html#ad19a5140a685462e498d6d5c2c42c8c4" title="Set this Rotation_ object to a three-angle Body-fixed or Space-fixed rotation sequences (angles are i...">setRotationFromThreeAnglesThreeAxes</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082a09b19887fda64e235788a45fad909651">BodyRotationSequence</a>, v[0], <a class="code" href="namespaceSimTK.html#a2e014e2731959bba79efa02e1d12e0e1" title="Constant representing the Z coordinate axis; will implicitly convert to the integer 2 when used in a ...">ZAxis</a>, v[1], <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a>, v[2], <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a> ); }
<a name="l01002"></a>01002     <span class="keywordtype">void</span> setToBodyFixed123( <span class="keyword">const</span> Vec3P&amp; v)  { <a class="code" href="classSimTK_1_1Rotation__.html#a1b5b9946341290a869fdf36263c6e901" title="Set this Rotation_ to represent a rotation characterized by subsequent rotations of: +v[0] about the ...">setRotationToBodyFixedXYZ</a>(v); }
<a name="l01003"></a>01003 
<a name="l01006"></a>01006     Vec4P convertToAngleAxis()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#af32d025ec1a522a1f97a420bdc1c542f" title="Converts rotation matrix to angle-axis form.">convertRotationToAngleAxis</a>(); }
<a name="l01007"></a>01007 
<a name="l01009"></a>01009     QuaternionP convertToQuaternion()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#aeb0dbfbe9692728363f19291a36582fd" title="Converts rotation matrix to a quaternion.">convertRotationToQuaternion</a>(); }
<a name="l01010"></a>01010 
<a name="l01013"></a>01013     <span class="keywordtype">void</span> setToSpaceFixed12( <span class="keyword">const</span> Vec2P&amp; q ) { <a class="code" href="classSimTK_1_1Rotation__.html#afc54e75b189a41cf6b0e9d23458eae32" title="Set this Rotation_ object to a two-angle, two-axes, Body-fixed or Space-fixed rotation sequences (ang...">setRotationFromTwoAnglesTwoAxes</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, q[0], <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, q[1], <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l01014"></a>01014 
<a name="l01018"></a>01018     Vec3P  convertToBodyFixed123()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a852ebf23b0a5075f89079184eea129ef" title="A convenient special case of convertThreeAxesRotationToThreeAngles().">convertRotationToBodyFixedXYZ</a>(); }
<a name="l01019"></a>01019     Vec2P  convertToBodyFixed12()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#ae8fde87c8bfcd30533f47cbaa96d2fc9" title="A convenient special case of convertTwoAxesRotationToTwoAngles().">convertRotationToBodyFixedXY</a>(); }
<a name="l01020"></a>01020     Vec2P  convertToSpaceFixed12()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html#a0670932d36daa77ab1bec1dfc9a2dbd9" title="Converts rotation matrix to two orientation angles.">convertTwoAxesRotationToTwoAngles</a>( <a class="code" href="namespaceSimTK.html#a187a6e6aa955d2c754226793d2056082aeb72c74f63529881130e798f144ad057">SpaceRotationSequence</a>, <a class="code" href="namespaceSimTK.html#ae7ef72313bd2927b2dac68bd8e80915c" title="Constant representing the X coordinate axis; will implicitly convert to the integer 0 when used in a ...">XAxis</a>, <a class="code" href="namespaceSimTK.html#a5bf507620ec3ac8aac653700d455ee81" title="Constant representing the Y coordinate axis; will implicitly convert to the integer 1 when used in a ...">YAxis</a> ); }
<a name="l01021"></a>01021 };
<a name="l01022"></a>01022 
<a name="l01023"></a>01023 
<a name="l01028"></a>01028 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt;
<a name="l01029"></a><a class="code" href="classSimTK_1_1InverseRotation__.html">01029</a> <span class="keyword">class </span><a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_</a> : <span class="keyword">public</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat</a>&lt;3,3,P&gt;::<a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">TransposeType</a> {
<a name="l01030"></a>01030     <span class="keyword">typedef</span> P               RealP;
<a name="l01031"></a>01031     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l01032"></a>01032     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>; <span class="comment">// not the base type!</span>
<a name="l01033"></a>01033     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l01034"></a>01034     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat22P</a>;
<a name="l01035"></a>01035     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;3,2,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat32P</a>;
<a name="l01036"></a>01036     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec2P</a>;
<a name="l01037"></a>01037     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l01038"></a>01038     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;4,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec4P</a>;
<a name="l01039"></a>01039     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Quaternion__.html" title="A Quaternion is a Vec4 with the following behavior:">Quaternion_&lt;P&gt;</a>  <a class="code" href="classSimTK_1_1Quaternion__.html" title="A Quaternion is a Vec4 with the following behavior:">QuaternionP</a>;
<a name="l01040"></a>01040 <span class="keyword">public</span>:
<a name="l01043"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee">01043</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;3,3,P&gt;::TransposeType</a>  <a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>;
<a name="l01044"></a>01044 
<a name="l01047"></a>01047 
<a name="l01048"></a>01048 
<a name="l01049"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a7b807bb585370af8970d8fbf7210c982">01049</a>     <span class="keyword">typedef</span>  <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,BaseMat::RowSpacing&gt;</a>  <a class="code" href="classSimTK_1_1InverseRotation__.html#a7b807bb585370af8970d8fbf7210c982" title="Note that the unit vectors representing the rows and columns of this matrix do not necessarily have u...">ColType</a>;
<a name="l01051"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#ad00b413d7248407f17dc1aac9b6dabdb">01051</a>     <span class="keyword">typedef</span>  <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,BaseMat::ColSpacing&gt;</a>  <a class="code" href="classSimTK_1_1InverseRotation__.html#ad00b413d7248407f17dc1aac9b6dabdb" title="This is the type of a row of this InverseRotation.">RowType</a>;
<a name="l01053"></a>01053 
<a name="l01057"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#aacabd3b7fc7e7bae0cf2c1641af47e70">01057</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html#aacabd3b7fc7e7bae0cf2c1641af47e70" title="You should not ever construct one of these as they should only occur as expression intermediates resu...">InverseRotation_</a>() : <a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>(1) {}
<a name="l01058"></a>01058 
<a name="l01060"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a394720c8a67e9eaa4b42f0b9da5ccbc2">01060</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html#a394720c8a67e9eaa4b42f0b9da5ccbc2" title="This is an explicit implementation of the default copy constructor.">InverseRotation_</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_</a>&amp; R ) : <a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>(R) {}
<a name="l01062"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a409f37f203fdee1cc7761b3272fef4b4">01062</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a409f37f203fdee1cc7761b3272fef4b4" title="This is an explicit implementation of the default copy assignment operator.">operator=</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_</a>&amp; R )  
<a name="l01063"></a>01063     {   <a class="code" href="classSimTK_1_1InverseRotation__.html#a409f37f203fdee1cc7761b3272fef4b4" title="This is an explicit implementation of the default copy assignment operator.">BaseMat::operator=</a>(R.<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>());  <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01064"></a>01064 
<a name="l01071"></a>01071     <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> SymMat33P <a class="code" href="classSimTK_1_1InverseRotation__.html#a104b75456e9ff57aab3c45c8c4fbbc0f" title="Assuming this InverseRotation_ is R_AB, and given a symmetric dyadic matrix S_BB expressed in B...">reexpressSymMat33</a>(<span class="keyword">const</span> SymMat33P&amp; S_BB) <span class="keyword">const</span>;
<a name="l01072"></a>01072 
<a name="l01074"></a>01074 
<a name="l01075"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a3ecc896b191bb71192ab747c7f965293">01075</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a3ecc896b191bb71192ab747c7f965293" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">invert</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);}
<a name="l01076"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a2c397bfb5758d75c7b3f378bd4580406">01076</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;        <a class="code" href="classSimTK_1_1InverseRotation__.html#a2c397bfb5758d75c7b3f378bd4580406" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">updInvert</a>() {<span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);}
<a name="l01078"></a>01078 
<a name="l01081"></a>01081 
<a name="l01082"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a96ec7569a8d9763d14e318032bc753e6">01082</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a96ec7569a8d9763d14e318032bc753e6" title="Transpose, and transpose operators (override BaseMat versions of transpose).">transpose</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a3ecc896b191bb71192ab747c7f965293" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">invert</a>(); }
<a name="l01083"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#ad15558be6e9c8913bfe6ccc7117fbee8">01083</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#ad15558be6e9c8913bfe6ccc7117fbee8" title="Transpose, and transpose operators (override BaseMat versions of transpose).">operator~</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a3ecc896b191bb71192ab747c7f965293" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">invert</a>(); }
<a name="l01084"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a59cfa15d24d3437dbedacda2ee471a1c">01084</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;        <a class="code" href="classSimTK_1_1InverseRotation__.html#a59cfa15d24d3437dbedacda2ee471a1c" title="Transpose, and transpose operators (override BaseMat versions of transpose).">updTranspose</a>()     { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a2c397bfb5758d75c7b3f378bd4580406" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">updInvert</a>(); }
<a name="l01085"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a3c125204b5cfe1889f3affb84c562c37">01085</a>     <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp;        <a class="code" href="classSimTK_1_1InverseRotation__.html#a3c125204b5cfe1889f3affb84c562c37" title="Transpose, and transpose operators (override BaseMat versions of transpose).">operator~</a>()        { <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a2c397bfb5758d75c7b3f378bd4580406" title="We can invert an InverseRotation just by recasting it to a Rotation at zero cost.">updInvert</a>(); }
<a name="l01087"></a>01087 
<a name="l01093"></a>01093 
<a name="l01094"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a74c56d9d4549c931a92d67cfb8353af7">01094</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a74c56d9d4549c931a92d67cfb8353af7" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">row</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>()[i]); }
<a name="l01095"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8">01095</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">col</a>( <span class="keywordtype">int</span> j )<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>()(j)); }
<a name="l01096"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a9d66e73eb2d68489ec6b9de0af664e0a">01096</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a9d66e73eb2d68489ec6b9de0af664e0a" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">x</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">col</a>(0); }
<a name="l01097"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#aa5b01ea454161b33222e5573cc155aeb">01097</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#aa5b01ea454161b33222e5573cc155aeb" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">y</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">col</a>(1); }
<a name="l01098"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a9d117a45f52ec87564ef454e33b2aa6f">01098</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a9d117a45f52ec87564ef454e33b2aa6f" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">z</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">col</a>(2); }
<a name="l01099"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#ae3b64cc93ee5914c6853c07368cab30b">01099</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">RowType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#ae3b64cc93ee5914c6853c07368cab30b" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">operator[]</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a74c56d9d4549c931a92d67cfb8353af7" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">row</a>(i); }
<a name="l01100"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a7ffea334cbc41bb07e8bd714cadf7324">01100</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">ColType</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a7ffea334cbc41bb07e8bd714cadf7324" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">operator()</a>( <span class="keywordtype">int</span> j )<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#ada253ca39f5eaa7698689e17d1a43fb8" title="Access individual rows and columns of this InverseRotation; no cost or copying since suitably-cast re...">col</a>(j); }
<a name="l01102"></a>01102 
<a name="l01105"></a>01105 
<a name="l01106"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389">01106</a>     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>&amp;  <a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l01107"></a><a class="code" href="classSimTK_1_1InverseRotation__.html#a9bd4f756500444842b7454a6dea3a840">01107</a>     <a class="code" href="classSimTK_1_1InverseRotation__.html#ab016d53e68089ef68d86b7a244cb53ee" title="This is the type of the underlying 3x3 matrix; note that it will have unusual row and column spacing ...">BaseMat</a>         <a class="code" href="classSimTK_1_1InverseRotation__.html#a9bd4f756500444842b7454a6dea3a840" title="Conversion from InverseRotation_ to BaseMat.">toMat33</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>(); }
<a name="l01109"></a>01109 };
<a name="l01110"></a>01110 
<a name="l01112"></a>01112 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> std::ostream&amp; 
<a name="l01113"></a>01113 operator&lt;&lt;(std::ostream&amp;, const Rotation_&lt;P&gt;&amp;);
<a name="l01115"></a>01115 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> std::ostream&amp; 
<a name="l01116"></a>01116 operator&lt;&lt;(std::ostream&amp;, const InverseRotation_&lt;P&gt;&amp;);
<a name="l01117"></a>01117 
<a name="l01121"></a>01121 
<a name="l01122"></a>01122 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P, <span class="keywordtype">int</span> S&gt; <span class="keyword">inline</span> UnitVec&lt;P,1&gt;  
<a name="l01123"></a><a class="code" href="namespaceSimTK.html#a583d9ec25c572b240b0bb566ca701159">01123</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,S&gt;</a>&amp; v)        {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,1&gt;</a>(R.<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>()* v.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(),  <span class="keyword">true</span>);}
<a name="l01124"></a>01124 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P, <span class="keywordtype">int</span> S&gt; <span class="keyword">inline</span> UnitRow&lt;P,1&gt;  
<a name="l01125"></a><a class="code" href="namespaceSimTK.html#ad35dfc094fc3550f3c72b76a2e02e874">01125</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,S&gt;</a>&amp; r, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R)        {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,1&gt;</a>(r.<a class="code" href="classSimTK_1_1UnitRow.html#a84c2a61390ffac25d90e85646673c2e0" title="Return a const reference to the Row3 underlying this UnitRow.">asRow3</a>() * R.<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>(), <span class="keyword">true</span>);}
<a name="l01126"></a>01126 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P, <span class="keywordtype">int</span> S&gt; <span class="keyword">inline</span> UnitVec&lt;P,1&gt;  
<a name="l01127"></a><a class="code" href="namespaceSimTK.html#ab7a7c6fc11de66a6a19d2a61336afeff">01127</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,S&gt;</a>&amp; v) {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitVec.html" title="This class is a Vec3 plus an ironclad guarantee either that:">UnitVec&lt;P,1&gt;</a>(R.<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>()* v.<a class="code" href="classSimTK_1_1UnitVec.html#a89577691cf2757ee8986e1e19ff149e1" title="Return a reference to the underlying Vec3 (no copying here).">asVec3</a>(),  <span class="keyword">true</span>);}
<a name="l01128"></a>01128 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P, <span class="keywordtype">int</span> S&gt; <span class="keyword">inline</span> UnitRow&lt;P,1&gt;  
<a name="l01129"></a><a class="code" href="namespaceSimTK.html#a95fa57d06ef4720fff781ad82ffd3f6a">01129</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,S&gt;</a>&amp; r, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R) {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitRow.html" title="This type is used for the transpose of UnitVec, and as the returned row type of a Rotation...">UnitRow&lt;P,1&gt;</a>(r.<a class="code" href="classSimTK_1_1UnitRow.html#a84c2a61390ffac25d90e85646673c2e0" title="Return a const reference to the Row3 underlying this UnitRow.">asRow3</a>() * R.<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>(), <span class="keyword">true</span>);}
<a name="l01131"></a>01131 
<a name="l01132"></a>01132 <span class="comment">// Couldn&#39;t implement these Rotation_ methods until InverseRotation_ was defined.</span>
<a name="l01133"></a>01133 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span>
<a name="l01134"></a><a class="code" href="classSimTK_1_1Rotation__.html#a125229971a87b9405c6943687ae5cb6c">01134</a> <a class="code" href="classSimTK_1_1Rotation__.html#a7dc8a355b0476f8fc3897225bcec0028">Rotation_&lt;P&gt;::Rotation_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R) : <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat</a>&lt;3,3,P&gt;( R.asMat33() ) {}
<a name="l01135"></a>01135 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;  
<a name="l01136"></a><a class="code" href="classSimTK_1_1Rotation__.html#a4ac773d1fe4e964aebf5c62c51f1cb1a">01136</a> <a class="code" href="classSimTK_1_1Rotation__.html#ad66e7d173f96a983c32d011bb0d91fc7">Rotation_&lt;P&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R)  {<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>&amp;<span class="keyword">&gt;</span>(*this)  = R.<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>();    <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01137"></a>01137 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;  
<a name="l01138"></a><a class="code" href="classSimTK_1_1Rotation__.html#a26169557db013c2a8779098d00d5c846">01138</a> <a class="code" href="classSimTK_1_1Rotation__.html#a26169557db013c2a8779098d00d5c846" title="In-place composition of Rotation matrices.">Rotation_&lt;P&gt;::operator*=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R)        {<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>&amp;<span class="keyword">&gt;</span>(*this) *= R.<a class="code" href="classSimTK_1_1Rotation__.html#a97e3dd684128236abdd4729ddffb208e" title="Conversion from Rotation to its base class Mat33.">asMat33</a>();    <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01139"></a>01139 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;  
<a name="l01140"></a><a class="code" href="classSimTK_1_1Rotation__.html#ab38257532c21876c8629b224f0431080">01140</a> <a class="code" href="classSimTK_1_1Rotation__.html#ab38257532c21876c8629b224f0431080" title="In-place composition of Rotation matrices.">Rotation_&lt;P&gt;::operator/=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R)        {<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>&amp;<span class="keyword">&gt;</span>(*this) *= (~R).asMat33(); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01141"></a>01141 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;  
<a name="l01142"></a><a class="code" href="classSimTK_1_1Rotation__.html#a7fa2ee262d79bf91ba2465bdbecb40c2">01142</a> <a class="code" href="classSimTK_1_1Rotation__.html#a26169557db013c2a8779098d00d5c846" title="In-place composition of Rotation matrices.">Rotation_&lt;P&gt;::operator*=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R) {<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>&amp;<span class="keyword">&gt;</span>(*this) *= R.<a class="code" href="classSimTK_1_1InverseRotation__.html#a9b31dcfb60f7bdb512b3705ab4918389" title="Conversion from InverseRotation_ to BaseMat.">asMat33</a>();    <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01143"></a>01143 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;  
<a name="l01144"></a><a class="code" href="classSimTK_1_1Rotation__.html#a94079169da0047a42fe96411f36f9f42">01144</a> <a class="code" href="classSimTK_1_1Rotation__.html#ab38257532c21876c8629b224f0431080" title="In-place composition of Rotation matrices.">Rotation_&lt;P&gt;::operator/=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R) {<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>&amp;<span class="keyword">&gt;</span>(*this) *= (~R).asMat33(); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01145"></a>01145 
<a name="l01147"></a>01147 
<a name="l01148"></a>01148 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>
<a name="l01149"></a><a class="code" href="namespaceSimTK.html#a90cc404afe6ff2c4926fd93d0454dfd7">01149</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R2)  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) *= R2;}
<a name="l01150"></a>01150 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01151"></a><a class="code" href="namespaceSimTK.html#aec4d2f4a828242204bfa78f0e3f75399">01151</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R2)  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) *= R2;}
<a name="l01152"></a>01152 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01153"></a><a class="code" href="namespaceSimTK.html#aaf8091d0c9ede8026aa6a282dd472e6f">01153</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R2)  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) *= R2;}
<a name="l01154"></a>01154 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01155"></a><a class="code" href="namespaceSimTK.html#a0f0440a8494866f40833fec49f4b2897">01155</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R2)  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) *= R2;}
<a name="l01157"></a>01157 
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01162"></a><a class="code" href="namespaceSimTK.html#a2d961d548f1e122aabc19cb7a66aa3ca">01162</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R2 )  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) /= R2;}
<a name="l01163"></a>01163 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01164"></a><a class="code" href="namespaceSimTK.html#ad250fb571f1a5878fe9005d79e7d18fe">01164</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation</a>&amp;     R2 )  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) /= R2;}
<a name="l01165"></a>01165 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01166"></a><a class="code" href="namespaceSimTK.html#a4982667a60f9659bc8e8185e667b32f0">01166</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp;        R2 )  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) /= R2;}
<a name="l01167"></a>01167 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Rotation_&lt;P&gt;
<a name="l01168"></a><a class="code" href="namespaceSimTK.html#a0d1a8a958ad5807a933ddb3fa3c9bf30">01168</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R2 )  {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>(R1) /= R2;}
<a name="l01170"></a>01170 
<a name="l01171"></a>01171 
<a name="l01172"></a>01172 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01173"></a>01173 }  <span class="comment">// End of namespace SimTK</span>
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 <span class="comment">//--------------------------------------------------------------------------</span>
<a name="l01176"></a>01176 <span class="preprocessor">#endif // SimTK_SimTKCOMMON_ROTATION_H_</span>
<a name="l01177"></a>01177 <span class="preprocessor"></span><span class="comment">//--------------------------------------------------------------------------</span>
<a name="l01178"></a>01178 
<a name="l01179"></a>01179 
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="Rotation_8h.html">Rotation.h</a>      </li>

    <li class="footer">Generated on Mon Jul 14 2014 23:25:52 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
