<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Simbody: SimbodyMatterSubsystem.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.4 (development)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('SimbodyMatterSubsystem_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">SimbodyMatterSubsystem.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SimbodyMatterSubsystem_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SimTK_SIMBODY_MATTER_SUBSYSTEM_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SimTK_SIMBODY_MATTER_SUBSYSTEM_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="comment">/* -------------------------------------------------------------------------- *</span>
<a name="l00005"></a>00005 <span class="comment"> *                               Simbody(tm)                                  *</span>
<a name="l00006"></a>00006 <span class="comment"> * -------------------------------------------------------------------------- *</span>
<a name="l00007"></a>00007 <span class="comment"> * This is part of the SimTK biosimulation toolkit originating from           *</span>
<a name="l00008"></a>00008 <span class="comment"> * Simbios, the NIH National Center for Physics-Based Simulation of           *</span>
<a name="l00009"></a>00009 <span class="comment"> * Biological Structures at Stanford, funded under the NIH Roadmap for        *</span>
<a name="l00010"></a>00010 <span class="comment"> * Medical Research, grant U54 GM072970. See https://simtk.org/home/simbody.  *</span>
<a name="l00011"></a>00011 <span class="comment"> *                                                                            *</span>
<a name="l00012"></a>00012 <span class="comment"> * Portions copyright (c) 2006-12 Stanford University and the Authors.        *</span>
<a name="l00013"></a>00013 <span class="comment"> * Authors: Michael Sherman                                                   *</span>
<a name="l00014"></a>00014 <span class="comment"> * Contributors: Paul Mitiguy                                                 *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                            *</span>
<a name="l00016"></a>00016 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may    *</span>
<a name="l00017"></a>00017 <span class="comment"> * not use this file except in compliance with the License. You may obtain a  *</span>
<a name="l00018"></a>00018 <span class="comment"> * copy of the License at http://www.apache.org/licenses/LICENSE-2.0.         *</span>
<a name="l00019"></a>00019 <span class="comment"> *                                                                            *</span>
<a name="l00020"></a>00020 <span class="comment"> * Unless required by applicable law or agreed to in writing, software        *</span>
<a name="l00021"></a>00021 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,          *</span>
<a name="l00022"></a>00022 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *</span>
<a name="l00023"></a>00023 <span class="comment"> * See the License for the specific language governing permissions and        *</span>
<a name="l00024"></a>00024 <span class="comment"> * limitations under the License.                                             *</span>
<a name="l00025"></a>00025 <span class="comment"> * -------------------------------------------------------------------------- */</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="SimTKcommon_8h.html" title="Includes internal headers providing declarations for the basic SimTK Core classes, including Simmatrix.">SimTKcommon.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="Simbody_2include_2simbody_2internal_2common_8h.html" title="Every Simbody header and source file should include this header before any other Simbody header...">simbody/internal/common.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="MobilizedBody_8h.html" title="This defines the MobilizedBody class, which associates a new body (the &quot;child&quot;, &quot;outboard&quot;, or &quot;successor&quot; body) with a mobilizer and a reference frame on an existing body (the &quot;parent&quot;, &quot;inboard&quot;, or &quot;predecessor&quot; body) that is already part of a SimbodyMatterSubsystem.">simbody/internal/MobilizedBody.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">class </span>SimbodyMatterSubsystemRep;
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="keyword">namespace </span>SimTK {
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">class </span>MobilizedBody;
<a name="l00040"></a>00040 <span class="keyword">class </span>MultibodySystem;
<a name="l00041"></a>00041 <span class="keyword">class </span>Constraint;
<a name="l00042"></a>00042 
<a name="l00130"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html">00130</a> <span class="keyword">class </span><a class="code" href="Simbody_2include_2simbody_2internal_2common_8h.html#aa0f7284742cf4beb9809d72f02f470b7">SimTK_SIMBODY_EXPORT</a> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a> : <span class="keyword">public</span> <a class="code" href="classSimTK_1_1Subsystem.html" title="The abstract parent of all Subsystems.">Subsystem</a> {
<a name="l00131"></a>00131 <span class="keyword">public</span>:
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="comment">//==============================================================================</span>
<a name="l00149"></a>00149 <span class="comment"></span><span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a>(<a class="code" href="classSimTK_1_1MultibodySystem.html" title="The job of the MultibodySystem class is to coordinate the activities of various subsystems which can ...">MultibodySystem</a>&amp;);
<a name="l00153"></a>00153 <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a>();
<a name="l00158"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ac49f39cefdaee87456ea572c72e1f1a1">00158</a> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ac49f39cefdaee87456ea572c72e1f1a1" title="The destructor destroys the subsystem implementation object only if this handle is the last reference...">~SimbodyMatterSubsystem</a>() {} <span class="comment">// invokes ~Subsystem()</span>
<a name="l00159"></a>00159 
<a name="l00164"></a>00164 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1MobilizedBody.html" title="A MobilizedBody is Simbody&#39;s fundamental body-and-joint object used to parameterize a system&#39;s motion...">MobilizedBody</a>&amp; getMobilizedBody(<a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>) <span class="keyword">const</span>;
<a name="l00165"></a>00165 
<a name="l00170"></a>00170 <a class="code" href="classSimTK_1_1MobilizedBody.html" title="A MobilizedBody is Simbody&#39;s fundamental body-and-joint object used to parameterize a system&#39;s motion...">MobilizedBody</a>&amp; updMobilizedBody(<a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>);
<a name="l00171"></a>00171 
<a name="l00174"></a>00174 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1MobilizedBody_1_1Ground.html" title="This is a special type of &quot;mobilized&quot; body generated automatically by Simbody as a placeholder for ...">MobilizedBody::Ground</a>&amp; getGround() <span class="keyword">const</span>;
<a name="l00178"></a>00178 <a class="code" href="classSimTK_1_1MobilizedBody_1_1Ground.html" title="This is a special type of &quot;mobilized&quot; body generated automatically by Simbody as a placeholder for ...">MobilizedBody::Ground</a>&amp; updGround();
<a name="l00185"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a7776baa71fc6d342f3140284b56553fb">00185</a> <a class="code" href="classSimTK_1_1MobilizedBody_1_1Ground.html" title="This is a special type of &quot;mobilized&quot; body generated automatically by Simbody as a placeholder for ...">MobilizedBody::Ground</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a7776baa71fc6d342f3140284b56553fb" title="This is a synonym for updGround() that makes for nicer-looking examples.">Ground</a>() {<span class="keywordflow">return</span> updGround();}
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00191"></a>00191 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Constraint.html" title="This is the base class for all Constraint classes, which is just a handle for the underlying hidden i...">Constraint</a>&amp; getConstraint(<a class="code" href="classSimTK_1_1ConstraintIndex.html" title="This is for arrays indexed by constraint number within a subsystem (typically the SimbodyMatterSubsys...">ConstraintIndex</a>) <span class="keyword">const</span>;
<a name="l00192"></a>00192 
<a name="l00196"></a>00196 <a class="code" href="classSimTK_1_1Constraint.html" title="This is the base class for all Constraint classes, which is just a handle for the underlying hidden i...">Constraint</a>&amp; updConstraint(<a class="code" href="classSimTK_1_1ConstraintIndex.html" title="This is for arrays indexed by constraint number within a subsystem (typically the SimbodyMatterSubsys...">ConstraintIndex</a>);
<a name="l00197"></a>00197 
<a name="l00201"></a>00201 <span class="keywordtype">void</span> setShowDefaultGeometry(<span class="keywordtype">bool</span> show);
<a name="l00204"></a>00204 <span class="keywordtype">bool</span> getShowDefaultGeometry() <span class="keyword">const</span>;
<a name="l00205"></a>00205 
<a name="l00216"></a>00216 <span class="keywordtype">int</span> getNumBodies() <span class="keyword">const</span>;
<a name="l00217"></a>00217 
<a name="l00221"></a>00221 <span class="keywordtype">int</span> getNumConstraints() <span class="keyword">const</span>;
<a name="l00222"></a>00222 
<a name="l00225"></a>00225 <span class="keywordtype">int</span> getNumMobilities() <span class="keyword">const</span>;
<a name="l00226"></a>00226 
<a name="l00229"></a>00229 <span class="keywordtype">int</span> getTotalQAlloc() <span class="keyword">const</span>;
<a name="l00230"></a>00230 
<a name="l00234"></a>00234 <span class="keywordtype">int</span> getTotalMultAlloc() <span class="keyword">const</span>;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 
<a name="l00249"></a>00249 <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   adoptMobilizedBody(<a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>  parent, 
<a name="l00250"></a>00250                                         <a class="code" href="classSimTK_1_1MobilizedBody.html" title="A MobilizedBody is Simbody&#39;s fundamental body-and-joint object used to parameterize a system&#39;s motion...">MobilizedBody</a>&amp;      child);
<a name="l00251"></a>00251 
<a name="l00262"></a>00262 <a class="code" href="classSimTK_1_1ConstraintIndex.html" title="This is for arrays indexed by constraint number within a subsystem (typically the SimbodyMatterSubsys...">ConstraintIndex</a>   adoptConstraint(<a class="code" href="classSimTK_1_1Constraint.html" title="This is the base class for all Constraint classes, which is just a handle for the underlying hidden i...">Constraint</a>&amp;);
<a name="l00263"></a>00263 
<a name="l00265"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#af874cd8e7ca24c492042a0eef52ec9e8">00265</a> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#af874cd8e7ca24c492042a0eef52ec9e8" title="Copy constructor is not very useful.">SimbodyMatterSubsystem</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a>&amp; ss) : <a class="code" href="classSimTK_1_1Subsystem.html" title="The abstract parent of all Subsystems.">Subsystem</a>(ss) {}
<a name="l00267"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a29e07d273b578e2d1ae9935de12da608">00267</a> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html" title="This subsystem contains the bodies (&quot;matter&quot;) in the multibody system, the mobilizers (joints) that d...">SimbodyMatterSubsystem</a>&amp; ss) 
<a name="l00268"></a>00268 {   <a class="code" href="classSimTK_1_1Subsystem.html#a839f580d4f23447f6f3f39fffae0831d">Subsystem::operator=</a>(ss); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">//==============================================================================</span>
<a name="l00286"></a>00286 <span class="comment"></span><span class="keywordtype">void</span> setUseEulerAngles(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <span class="keywordtype">bool</span> useEulerAngles) <span class="keyword">const</span>;
<a name="l00287"></a>00287 
<a name="l00290"></a>00290 <span class="keywordtype">bool</span> getUseEulerAngles  (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l00291"></a>00291 
<a name="l00296"></a>00296 <span class="keywordtype">int</span>  getNumQuaternionsInUse(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l00297"></a>00297 
<a name="l00302"></a>00302 <span class="keywordtype">bool</span> isUsingQuaternion(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mobodIx) <span class="keyword">const</span>;
<a name="l00308"></a>00308 QuaternionPoolIndex getQuaternionPoolIndex(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, 
<a name="l00309"></a>00309                                            <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mobodIx) <span class="keyword">const</span>;
<a name="l00310"></a>00310 
<a name="l00317"></a>00317 <span class="keywordtype">void</span> setConstraintIsDisabled(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;          state, 
<a name="l00318"></a>00318                              <a class="code" href="classSimTK_1_1ConstraintIndex.html" title="This is for arrays indexed by constraint number within a subsystem (typically the SimbodyMatterSubsys...">ConstraintIndex</a> constraintIx, 
<a name="l00319"></a>00319                              <span class="keywordtype">bool</span>            shouldDisableConstraint) <span class="keyword">const</span>;
<a name="l00320"></a>00320 
<a name="l00324"></a>00324 <span class="keywordtype">bool</span> isConstraintDisabled(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;, <a class="code" href="classSimTK_1_1ConstraintIndex.html" title="This is for arrays indexed by constraint number within a subsystem (typically the SimbodyMatterSubsys...">ConstraintIndex</a> constraint) <span class="keyword">const</span>;
<a name="l00325"></a>00325 
<a name="l00332"></a>00332 <span class="keywordtype">void</span> convertToEulerAngles(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; inputState, <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; outputState) <span class="keyword">const</span>;
<a name="l00333"></a>00333 
<a name="l00340"></a>00340 <span class="keywordtype">void</span> convertToQuaternions(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; inputState, <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; outputState) <span class="keyword">const</span>; 
<a name="l00341"></a>00341 
<a name="l00345"></a>00345 <span class="comment">//==============================================================================</span>
<a name="l00359"></a>00359 <span class="comment"></span>Real calcSystemMass(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00360"></a>00360 
<a name="l00365"></a>00365 <a class="code" href="classSimTK_1_1Vec.html">Vec3</a> calcSystemMassCenterLocationInGround(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00366"></a>00366 
<a name="l00371"></a>00371 <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties</a> calcSystemMassPropertiesInGround(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00372"></a>00372 
<a name="l00377"></a>00377 <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia</a> calcSystemCentralInertiaInGround(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00378"></a>00378 
<a name="l00383"></a>00383 <a class="code" href="classSimTK_1_1Vec.html">Vec3</a> calcSystemMassCenterVelocityInGround(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00384"></a>00384 
<a name="l00389"></a>00389 <a class="code" href="classSimTK_1_1Vec.html">Vec3</a> calcSystemMassCenterAccelerationInGround(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00390"></a>00390 
<a name="l00397"></a>00397 <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a> calcSystemMomentumAboutGroundOrigin(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00398"></a>00398 
<a name="l00406"></a>00406 <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a> calcSystemCentralMomentum(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l00407"></a>00407 
<a name="l00412"></a>00412 Real calcKineticEnergy(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l00415"></a>00415 <span class="comment">//==============================================================================</span>
<a name="l00528"></a>00528 <span class="comment"></span><span class="keywordtype">void</span> multiplyBySystemJacobian( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00529"></a>00529                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        u,
<a name="l00530"></a>00530                                <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; Ju) <span class="keyword">const</span>;
<a name="l00531"></a>00531 
<a name="l00559"></a>00559 <span class="keywordtype">void</span> calcBiasForSystemJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00560"></a>00560                                <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; JDotu) <span class="keyword">const</span>;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 
<a name="l00566"></a>00566 <span class="keywordtype">void</span> calcBiasForSystemJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00567"></a>00567                                <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              JDotu) <span class="keyword">const</span>;
<a name="l00568"></a>00568 
<a name="l00620"></a>00620 <span class="keywordtype">void</span> multiplyBySystemJacobianTranspose( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                state,
<a name="l00621"></a>00621                                         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;  F_G,
<a name="l00622"></a>00622                                         <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                     f) <span class="keyword">const</span>;
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 
<a name="l00657"></a>00657 <span class="keywordtype">void</span> calcSystemJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;            state,
<a name="l00658"></a>00658                         <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix_&lt;SpatialVec&gt;</a>&amp;    J_G) <span class="keyword">const</span>; <span class="comment">// nb X nu</span>
<a name="l00659"></a>00659 
<a name="l00664"></a>00664 <span class="keywordtype">void</span> calcSystemJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;            state,
<a name="l00665"></a>00665                         <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;                 J_G) <span class="keyword">const</span>; <span class="comment">// 6 nb X nu</span>
<a name="l00666"></a>00666 
<a name="l00667"></a>00667 
<a name="l00713"></a>00713 <span class="keywordtype">void</span> multiplyByStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                      state,
<a name="l00714"></a>00714                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp; onBodyB,
<a name="l00715"></a>00715                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;               stationPInB,
<a name="l00716"></a>00716                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                     u,
<a name="l00717"></a>00717                                <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp;                    JSu) <span class="keyword">const</span>;
<a name="l00718"></a>00718 
<a name="l00721"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a9c7930b8c008e0699398a05e8fc6cb62">00721</a> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a> multiplyByStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00722"></a>00722                                <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   onBodyB,
<a name="l00723"></a>00723                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          stationPInB,
<a name="l00724"></a>00724                                <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        u)<span class="keyword"> const</span>
<a name="l00725"></a>00725 <span class="keyword"></span>{
<a name="l00726"></a>00726     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00727"></a>00727     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;stationPInB, &amp;stationPInB+1);
<a name="l00728"></a>00728     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>                       JSu(1);
<a name="l00729"></a>00729     multiplyByStationJacobian(state, bodies, stations, u, JSu);
<a name="l00730"></a>00730     <span class="keywordflow">return</span> JSu[0];
<a name="l00731"></a>00731 }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 
<a name="l00746"></a>00746 <span class="keywordtype">void</span> multiplyByStationJacobianTranspose
<a name="l00747"></a>00747    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l00748"></a>00748     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l00749"></a>00749     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 stationPInB,
<a name="l00750"></a>00750     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp;                f_GP,
<a name="l00751"></a>00751     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                             f) <span class="keyword">const</span>;
<a name="l00752"></a>00752 
<a name="l00754"></a>00754 <span class="keywordtype">void</span> multiplyByStationJacobianTranspose
<a name="l00755"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a423ed4c2c53722921594aa7c4fc6ce17">00755</a>    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l00756"></a>00756     <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>                  onBodyB,
<a name="l00757"></a>00757     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;                         stationPInB,
<a name="l00758"></a>00758     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;                         f_GP,
<a name="l00759"></a>00759     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                             f) <span class="keyword">const</span>
<a name="l00760"></a>00760 {
<a name="l00761"></a>00761     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00762"></a>00762     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;stationPInB, &amp;stationPInB+1);
<a name="l00763"></a>00763     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>                       forces(1, f_GP);
<a name="l00764"></a>00764     multiplyByStationJacobianTranspose(state, bodies, stations, forces, f);
<a name="l00765"></a>00765 }
<a name="l00766"></a>00766 
<a name="l00807"></a>00807 <span class="keywordtype">void</span> calcStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l00808"></a>00808                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l00809"></a>00809                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 stationPInB,
<a name="l00810"></a>00810                          <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix_&lt;Vec3&gt;</a>&amp;                      JS) <span class="keyword">const</span>;
<a name="l00811"></a>00811 
<a name="l00813"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a0f8546ca7e873b1d4377dd4b779f32ea">00813</a> <span class="keywordtype">void</span> calcStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;       state,
<a name="l00814"></a>00814                          <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> onBodyB,
<a name="l00815"></a>00815                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;        stationPInB,
<a name="l00816"></a>00816                          <a class="code" href="classSimTK_1_1RowVector__.html" title="RowVectors are much less common than Vectors.">RowVector_&lt;Vec3&gt;</a>&amp;  JS)<span class="keyword"> const</span>
<a name="l00817"></a>00817 <span class="keyword"></span>{
<a name="l00818"></a>00818     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00819"></a>00819     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;stationPInB, &amp;stationPInB+1);
<a name="l00820"></a>00820     calcStationJacobian(state, bodies, stations, JS);
<a name="l00821"></a>00821 }
<a name="l00822"></a>00822 
<a name="l00826"></a>00826 <span class="keywordtype">void</span> calcStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l00827"></a>00827                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l00828"></a>00828                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 stationPInB,
<a name="l00829"></a>00829                          <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;                             JS) <span class="keyword">const</span>;
<a name="l00830"></a>00830 
<a name="l00832"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a32199636039f7a63a6b4270b0f6a26be">00832</a> <span class="keywordtype">void</span> calcStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;       state,
<a name="l00833"></a>00833                          <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> onBodyB,
<a name="l00834"></a>00834                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;        stationPInB,
<a name="l00835"></a>00835                          <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;            JS)<span class="keyword"> const</span>
<a name="l00836"></a>00836 <span class="keyword"></span>{
<a name="l00837"></a>00837     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00838"></a>00838     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;stationPInB, &amp;stationPInB+1);
<a name="l00839"></a>00839     calcStationJacobian(state, bodies, stations, JS);
<a name="l00840"></a>00840 }
<a name="l00841"></a>00841 
<a name="l00842"></a>00842 
<a name="l00879"></a>00879 <span class="keywordtype">void</span> calcBiasForStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                      state,
<a name="l00880"></a>00880                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp; onBodyB,
<a name="l00881"></a>00881                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;               stationPInB,
<a name="l00882"></a>00882                                 <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp;                    JSDotu) <span class="keyword">const</span>;
<a name="l00883"></a>00883 
<a name="l00887"></a>00887 <span class="keywordtype">void</span> calcBiasForStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                      state,
<a name="l00888"></a>00888                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp; onBodyB,
<a name="l00889"></a>00889                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;               stationPInB,
<a name="l00890"></a>00890                                 <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                           JSDotu) <span class="keyword">const</span>;
<a name="l00891"></a>00891 
<a name="l00894"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#aff992b923c429d78a922d71d15b8f491">00894</a> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a> calcBiasForStationJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00895"></a>00895                                 <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   onBodyB,
<a name="l00896"></a>00896                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          stationPInB)<span class="keyword"> const</span>
<a name="l00897"></a>00897 <span class="keyword"></span>{
<a name="l00898"></a>00898     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00899"></a>00899     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;stationPInB, &amp;stationPInB+1);
<a name="l00900"></a>00900     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>                       JSDotu(1);
<a name="l00901"></a>00901     calcBiasForStationJacobian(state, bodies, stations, JSDotu);
<a name="l00902"></a>00902     <span class="keywordflow">return</span> JSDotu[0];
<a name="l00903"></a>00903 }
<a name="l00904"></a>00904 
<a name="l00905"></a>00905 
<a name="l00962"></a>00962 <span class="keywordtype">void</span> multiplyByFrameJacobian
<a name="l00963"></a>00963    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l00964"></a>00964     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l00965"></a>00965     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 originAoInB,
<a name="l00966"></a>00966     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                       u,
<a name="l00967"></a>00967     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;                JFu) <span class="keyword">const</span>;
<a name="l00968"></a>00968 
<a name="l00972"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a8b20283e113f7a36eba47b25c80f9cb8">00972</a> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a> multiplyByFrameJacobian( <span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l00973"></a>00973                                     <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   onBodyB,
<a name="l00974"></a>00974                                     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          originAoInB,
<a name="l00975"></a>00975                                     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        u)<span class="keyword"> const</span>
<a name="l00976"></a>00976 <span class="keyword"></span>{
<a name="l00977"></a>00977     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l00978"></a>00978     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;originAoInB, &amp;originAoInB+1);
<a name="l00979"></a>00979     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>                 JFu(1);
<a name="l00980"></a>00980     multiplyByFrameJacobian(state, bodies, stations, u, JFu);
<a name="l00981"></a>00981     <span class="keywordflow">return</span> JFu[0];
<a name="l00982"></a>00982 }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984 
<a name="l01027"></a>01027 <span class="keywordtype">void</span> multiplyByFrameJacobianTranspose
<a name="l01028"></a>01028    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l01029"></a>01029     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l01030"></a>01030     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 originAoInB,
<a name="l01031"></a>01031     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;          F_GAo,
<a name="l01032"></a>01032     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                             f) <span class="keyword">const</span>;
<a name="l01033"></a>01033 
<a name="l01036"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a19548c59a4769a51109ec7c57e65fd08">01036</a> <span class="keywordtype">void</span> multiplyByFrameJacobianTranspose(  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;        state,
<a name="l01037"></a>01037                                         <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>  onBodyB,
<a name="l01038"></a>01038                                         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;         originAoInB,
<a name="l01039"></a>01039                                         <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp;   F_GAo,
<a name="l01040"></a>01040                                         <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;             f)<span class="keyword"> const</span>
<a name="l01041"></a>01041 <span class="keyword"></span>{
<a name="l01042"></a>01042     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l01043"></a>01043     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;originAoInB, &amp;originAoInB+1);
<a name="l01044"></a>01044     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>           forces(1, F_GAo);
<a name="l01045"></a>01045     multiplyByFrameJacobianTranspose(state, bodies, stations, forces, f);
<a name="l01046"></a>01046 }
<a name="l01047"></a>01047 
<a name="l01048"></a>01048 
<a name="l01049"></a>01049 
<a name="l01094"></a>01094 <span class="keywordtype">void</span> calcFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                         state,
<a name="l01095"></a>01095                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;    onBodyB,
<a name="l01096"></a>01096                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                  originAoInB,
<a name="l01097"></a>01097                        <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix_&lt;SpatialVec&gt;</a>&amp;                 JF) <span class="keyword">const</span>;
<a name="l01098"></a>01098 
<a name="l01101"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a9502959cb6062ea34dfff2bdcba570fc">01101</a> <span class="keywordtype">void</span> calcFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;             state,
<a name="l01102"></a>01102                        <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>       onBodyB,
<a name="l01103"></a>01103                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;              originAoInB,
<a name="l01104"></a>01104                        <a class="code" href="classSimTK_1_1RowVector__.html" title="RowVectors are much less common than Vectors.">RowVector_&lt;SpatialVec&gt;</a>&amp;  JF)<span class="keyword"> const</span>
<a name="l01105"></a>01105 <span class="keyword"></span>{
<a name="l01106"></a>01106     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l01107"></a>01107     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;originAoInB, &amp;originAoInB+1);
<a name="l01108"></a>01108     calcFrameJacobian(state, bodies, stations, JF);
<a name="l01109"></a>01109 }
<a name="l01110"></a>01110 
<a name="l01114"></a>01114 <span class="keywordtype">void</span> calcFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                         state,
<a name="l01115"></a>01115                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;    onBodyB,
<a name="l01116"></a>01116                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                  originAoInB,
<a name="l01117"></a>01117                        <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;                              JF) <span class="keyword">const</span>;
<a name="l01118"></a>01118 
<a name="l01121"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#aeace3f635f35b438f32b217a4fd85b75">01121</a> <span class="keywordtype">void</span> calcFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;             state,
<a name="l01122"></a>01122                        <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>       onBodyB,
<a name="l01123"></a>01123                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;              originAoInB,
<a name="l01124"></a>01124                        <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;                  JF)<span class="keyword"> const </span>
<a name="l01125"></a>01125 <span class="keyword"></span>{
<a name="l01126"></a>01126     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l01127"></a>01127     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;originAoInB, &amp;originAoInB+1);
<a name="l01128"></a>01128     calcFrameJacobian(state, bodies, stations, JF);
<a name="l01129"></a>01129 }
<a name="l01130"></a>01130 
<a name="l01173"></a>01173 <span class="keywordtype">void</span> calcBiasForFrameJacobian
<a name="l01174"></a>01174    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                        state,
<a name="l01175"></a>01175     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp;   onBodyB,
<a name="l01176"></a>01176     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;                 originAoInB,
<a name="l01177"></a>01177     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;                JFDotu) <span class="keyword">const</span>;
<a name="l01178"></a>01178 
<a name="l01182"></a>01182 <span class="keywordtype">void</span> calcBiasForFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                      state,
<a name="l01183"></a>01183                               <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;MobilizedBodyIndex&gt;</a>&amp; onBodyB,
<a name="l01184"></a>01184                               <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;Vec3&gt;</a>&amp;               originAoInB,
<a name="l01185"></a>01185                               <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                           JFDotu) <span class="keyword">const</span>;
<a name="l01186"></a>01186 
<a name="l01190"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a180d39d0a828fd7dcaf39581fd2ed309">01190</a> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a> calcBiasForFrameJacobian(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l01191"></a>01191                                     <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   onBodyB,
<a name="l01192"></a>01192                                     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          originAoInB)<span class="keyword"> const</span>
<a name="l01193"></a>01193 <span class="keyword"></span>{
<a name="l01194"></a>01194     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;MobilizedBodyIndex&gt;</a> bodies(&amp;onBodyB, &amp;onBodyB+1);
<a name="l01195"></a>01195     <a class="code" href="classSimTK_1_1ArrayViewConst__.html" title="This Array_ helper class is the base class for ArrayView_ which is the base class for Array_; here we...">ArrayViewConst_&lt;Vec3&gt;</a>               stations(&amp;originAoInB, &amp;originAoInB+1);
<a name="l01196"></a>01196     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>                 JFDotu(1);
<a name="l01197"></a>01197     calcBiasForFrameJacobian(state, bodies, stations, JFDotu);
<a name="l01198"></a>01198     <span class="keywordflow">return</span> JFDotu[0];
<a name="l01199"></a>01199 }
<a name="l01200"></a>01200 
<a name="l01203"></a>01203 <span class="comment">//==============================================================================</span>
<a name="l01236"></a>01236 <span class="comment"></span><span class="keywordtype">void</span> multiplyByM(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; a, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; Ma) <span class="keyword">const</span>;
<a name="l01237"></a>01237 
<a name="l01317"></a>01317 <span class="keywordtype">void</span> multiplyByMInv(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state,
<a name="l01318"></a>01318     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;               v,
<a name="l01319"></a>01319     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                     MinvV) <span class="keyword">const</span>;
<a name="l01320"></a>01320 
<a name="l01330"></a>01330 <span class="keywordtype">void</span> calcM(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; M) <span class="keyword">const</span>;
<a name="l01331"></a>01331 
<a name="l01345"></a>01345 <span class="keywordtype">void</span> calcMInv(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; MInv) <span class="keyword">const</span>;
<a name="l01346"></a>01346 
<a name="l01391"></a>01391 <span class="keywordtype">void</span> calcProjectedMInv(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;   s,
<a name="l01392"></a>01392                        <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp;        GMInvGt) <span class="keyword">const</span>;
<a name="l01393"></a>01393 
<a name="l01438"></a>01438 <span class="keywordtype">void</span> solveForConstraintImpulses(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;     state,
<a name="l01439"></a>01439                                 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;    deltaV,
<a name="l01440"></a>01440                                 <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;          impulse) <span class="keyword">const</span>;
<a name="l01441"></a>01441 
<a name="l01442"></a>01442 
<a name="l01466"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a90a34ce745cbf5a0bf34f4a62d9ddb2e">01466</a> <span class="keywordtype">void</span> multiplyByG(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01467"></a>01467                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ulike,
<a name="l01468"></a>01468                  <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       Gulike)<span class="keyword"> const </span>{
<a name="l01469"></a>01469     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a> bias;
<a name="l01470"></a>01470     calcBiasForMultiplyByG(state, bias);
<a name="l01471"></a>01471     multiplyByG(state, ulike, bias, Gulike);
<a name="l01472"></a>01472 }
<a name="l01473"></a>01473 
<a name="l01474"></a>01474 
<a name="l01478"></a>01478 <span class="keywordtype">void</span> multiplyByG(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01479"></a>01479                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ulike,
<a name="l01480"></a>01480                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; bias,
<a name="l01481"></a>01481                  <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       Gulike) <span class="keyword">const</span>;
<a name="l01482"></a>01482 
<a name="l01508"></a>01508 <span class="keywordtype">void</span> calcBiasForMultiplyByG(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state,
<a name="l01509"></a>01509                             <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;      bias) <span class="keyword">const</span>;
<a name="l01510"></a>01510 
<a name="l01524"></a>01524 <span class="keywordtype">void</span> calcG(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; G) <span class="keyword">const</span>;
<a name="l01525"></a>01525 
<a name="l01526"></a>01526 
<a name="l01561"></a>01561 <span class="keywordtype">void</span> calcBiasForAccelerationConstraints(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state,
<a name="l01562"></a>01562                                         <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;      bias) <span class="keyword">const</span>;
<a name="l01563"></a>01563 
<a name="l01564"></a>01564 
<a name="l01598"></a>01598 <span class="keywordtype">void</span> multiplyByGTranspose(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01599"></a>01599                           <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; lambda,
<a name="l01600"></a>01600                           <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       f) <span class="keyword">const</span>;
<a name="l01601"></a>01601     
<a name="l01613"></a>01613 <span class="keywordtype">void</span> calcGTranspose(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; Gt) <span class="keyword">const</span>;
<a name="l01614"></a>01614 
<a name="l01615"></a>01615 
<a name="l01666"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#aea5e1f8641e547ae8bd317202236bfdc">01666</a> <span class="keywordtype">void</span> multiplyByPq(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01667"></a>01667                   <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; qlike,
<a name="l01668"></a>01668                   <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       PqXqlike)<span class="keyword"> const </span>{
<a name="l01669"></a>01669     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a> biasp;
<a name="l01670"></a>01670     calcBiasForMultiplyByPq(state, biasp);
<a name="l01671"></a>01671     multiplyByPq(state, qlike, biasp, PqXqlike);
<a name="l01672"></a>01672 }
<a name="l01673"></a>01673 
<a name="l01674"></a>01674 
<a name="l01678"></a>01678 <span class="keywordtype">void</span> multiplyByPq(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01679"></a>01679                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;  qlike,
<a name="l01680"></a>01680                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;  biasp,
<a name="l01681"></a>01681                  <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        PqXqlike) <span class="keyword">const</span>;
<a name="l01682"></a>01682 
<a name="l01699"></a>01699 <span class="keywordtype">void</span> calcBiasForMultiplyByPq(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state,
<a name="l01700"></a>01700                              <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;      biasp) <span class="keyword">const</span>;
<a name="l01701"></a>01701 
<a name="l01729"></a>01729 <span class="keywordtype">void</span> calcPq(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; Pq) <span class="keyword">const</span>;
<a name="l01730"></a>01730 
<a name="l01731"></a>01731 
<a name="l01764"></a>01764 <span class="keywordtype">void</span> multiplyByPqTranspose(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;  state,
<a name="l01765"></a>01765                            <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; lambdap,
<a name="l01766"></a>01766                            <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       f) <span class="keyword">const</span>;
<a name="l01767"></a>01767 
<a name="l01795"></a>01795 <span class="keywordtype">void</span> calcPqTranspose(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; Pqt) <span class="keyword">const</span>;
<a name="l01796"></a>01796 
<a name="l01813"></a>01813 <span class="keywordtype">void</span> calcP(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; P) <span class="keyword">const</span>;
<a name="l01814"></a>01814 
<a name="l01818"></a>01818 <span class="keywordtype">void</span> calcPt(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1Matrix__.html" title="This is the Matrix class intended to appear in user code.">Matrix</a>&amp; Pt) <span class="keyword">const</span>;
<a name="l01819"></a>01819 
<a name="l01820"></a>01820 
<a name="l01829"></a>01829 <span class="keywordtype">void</span> multiplyByN(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keywordtype">bool</span> <a class="code" href="namespaceSimTK.html#a8279fd7a157b0f4078ea245377484d82">transpose</a>, 
<a name="l01830"></a>01830                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; in, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; out) <span class="keyword">const</span>;
<a name="l01831"></a>01831 
<a name="l01840"></a>01840 <span class="keywordtype">void</span> multiplyByNInv(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keywordtype">bool</span> <a class="code" href="namespaceSimTK.html#a8279fd7a157b0f4078ea245377484d82">transpose</a>, 
<a name="l01841"></a>01841                     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; in, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; out) <span class="keyword">const</span>;
<a name="l01842"></a>01842 
<a name="l01852"></a>01852 <span class="keywordtype">void</span> multiplyByNDot(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keywordtype">bool</span> <a class="code" href="namespaceSimTK.html#a8279fd7a157b0f4078ea245377484d82">transpose</a>, 
<a name="l01853"></a>01853                     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; in, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; out) <span class="keyword">const</span>;
<a name="l01854"></a>01854 
<a name="l01858"></a>01858 <span class="comment">//==============================================================================</span>
<a name="l01919"></a>01919 <span class="comment"></span><span class="keywordtype">void</span> calcAcceleration
<a name="l01920"></a>01920    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;               state,
<a name="l01921"></a>01921     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              appliedMobilityForces,
<a name="l01922"></a>01922     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; appliedBodyForces,
<a name="l01923"></a>01923     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                    udot,    <span class="comment">// output only; no prescribed motions</span>
<a name="l01924"></a>01924     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;       A_GB) <span class="keyword">const</span>;
<a name="l01925"></a>01925 
<a name="l01949"></a>01949 <span class="keywordtype">void</span> calcAccelerationIgnoringConstraints
<a name="l01950"></a>01950    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;                state,
<a name="l01951"></a>01951     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;               appliedMobilityForces,
<a name="l01952"></a>01952     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;  appliedBodyForces,
<a name="l01953"></a>01953     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                     udot,    
<a name="l01954"></a>01954     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;        A_GB) <span class="keyword">const</span>;
<a name="l01955"></a>01955 
<a name="l01956"></a>01956 
<a name="l01957"></a>01957 
<a name="l02012"></a>02012 <span class="keywordtype">void</span> calcResidualForceIgnoringConstraints
<a name="l02013"></a>02013    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;               state,
<a name="l02014"></a>02014     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              appliedMobilityForces,
<a name="l02015"></a>02015     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; appliedBodyForces,
<a name="l02016"></a>02016     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              knownUdot,
<a name="l02017"></a>02017     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                    residualMobilityForces) <span class="keyword">const</span>;
<a name="l02018"></a>02018 
<a name="l02019"></a>02019 
<a name="l02082"></a>02082 <span class="keywordtype">void</span> calcResidualForce
<a name="l02083"></a>02083    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;               state,
<a name="l02084"></a>02084     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              appliedMobilityForces,
<a name="l02085"></a>02085     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; appliedBodyForces,
<a name="l02086"></a>02086     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              knownUdot,
<a name="l02087"></a>02087     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              knownLambda,
<a name="l02088"></a>02088     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                    residualMobilityForces) <span class="keyword">const</span>;
<a name="l02089"></a>02089 
<a name="l02090"></a>02090 
<a name="l02101"></a>02101 <span class="keywordtype">void</span> calcCompositeBodyInertias(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;    state,
<a name="l02102"></a>02102     <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;SpatialInertia,MobilizedBodyIndex&gt;</a>&amp; R) <span class="keyword">const</span>;
<a name="l02103"></a>02103 
<a name="l02104"></a>02104 
<a name="l02105"></a>02105 
<a name="l02143"></a>02143 <span class="keywordtype">void</span> calcBodyAccelerationFromUDot(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l02144"></a>02144                                   <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        knownUDot,
<a name="l02145"></a>02145                                   <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; A_GB) <span class="keyword">const</span>;
<a name="l02146"></a>02146 
<a name="l02147"></a>02147 
<a name="l02170"></a>02170 <span class="keywordtype">void</span> calcConstraintForcesFromMultipliers
<a name="l02171"></a>02171   (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state, 
<a name="l02172"></a>02172    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        multipliers,
<a name="l02173"></a>02173    <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; bodyForcesInG,
<a name="l02174"></a>02174    <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              mobilityForces) <span class="keyword">const</span>;
<a name="l02175"></a>02175 
<a name="l02258"></a>02258 <span class="keywordtype">void</span> calcMobilizerReactionForces
<a name="l02259"></a>02259    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state, 
<a name="l02260"></a>02260     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; forcesAtMInG) <span class="keyword">const</span>;
<a name="l02261"></a>02261 
<a name="l02268"></a>02268 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; getMotionMultipliers(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02269"></a>02269 
<a name="l02283"></a>02283 <a class="code" href="classSimTK_1_1Vector__.html">Vector</a> calcMotionErrors(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>&amp; stage) <span class="keyword">const</span>;
<a name="l02284"></a>02284 
<a name="l02290"></a>02290 <span class="keywordtype">void</span> findMotionForces
<a name="l02291"></a>02291    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l02292"></a>02292     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              mobilityForces) <span class="keyword">const</span>;
<a name="l02293"></a>02293 
<a name="l02300"></a>02300 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; getConstraintMultipliers(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02301"></a>02301 
<a name="l02306"></a>02306 <span class="keywordtype">void</span> findConstraintForces
<a name="l02307"></a>02307   (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state, 
<a name="l02308"></a>02308    <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; bodyForcesInG,
<a name="l02309"></a>02309    <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;              mobilityForces) <span class="keyword">const</span>;
<a name="l02310"></a>02310 
<a name="l02326"></a>02326 Real calcMotionPower(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02327"></a>02327 
<a name="l02354"></a>02354 Real calcConstraintPower(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02355"></a>02355 
<a name="l02361"></a>02361 <span class="keywordtype">void</span> calcTreeEquivalentMobilityForces(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;, 
<a name="l02362"></a>02362     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; bodyForces,
<a name="l02363"></a>02363     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;                    mobilityForces) <span class="keyword">const</span>;
<a name="l02364"></a>02364 
<a name="l02365"></a>02365 
<a name="l02370"></a>02370 <span class="keywordtype">void</span> calcQDot(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s,
<a name="l02371"></a>02371     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; u,
<a name="l02372"></a>02372     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       qdot) <span class="keyword">const</span>;
<a name="l02373"></a>02373 
<a name="l02379"></a>02379 <span class="keywordtype">void</span> calcQDotDot(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s,
<a name="l02380"></a>02380     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; udot,
<a name="l02381"></a>02381     <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;       qdotdot) <span class="keyword">const</span>;
<a name="l02382"></a>02382 
<a name="l02393"></a>02393 <span class="keywordtype">void</span> addInStationForce(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state, 
<a name="l02394"></a>02394                        <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>   bodyB, 
<a name="l02395"></a>02395                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          stationOnB, 
<a name="l02396"></a>02396                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;          forceInG, 
<a name="l02397"></a>02397                        <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; bodyForcesInG) <span class="keyword">const</span>;
<a name="l02398"></a>02398 
<a name="l02405"></a>02405 <span class="keywordtype">void</span> addInBodyTorque(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;           state, 
<a name="l02406"></a>02406                      <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>     mobodIx, 
<a name="l02407"></a>02407                      <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp;            torqueInG, 
<a name="l02408"></a>02408                      <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp;   bodyForcesInG) <span class="keyword">const</span>;
<a name="l02409"></a>02409 
<a name="l02418"></a>02418 <span class="keywordtype">void</span> addInMobilityForce(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;        state,
<a name="l02419"></a>02419                         <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a>  mobodIx, 
<a name="l02420"></a>02420                         <a class="code" href="classSimTK_1_1MobilizerUIndex.html" title="The Mobilizer associated with each MobilizedBody, once modeled, has a specific number of generalized ...">MobilizerUIndex</a>     which, 
<a name="l02421"></a>02421                         Real                f,
<a name="l02422"></a>02422                         <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;             mobilityForces) <span class="keyword">const</span>;
<a name="l02427"></a>02427 <span class="comment">//==============================================================================</span>
<a name="l02442"></a>02442 <span class="comment"></span>    <span class="comment">// POSITION STAGE realizations //</span>
<a name="l02443"></a>02443 
<a name="l02452"></a>02452 <span class="keywordtype">void</span> realizeCompositeBodyInertias(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02453"></a>02453 
<a name="l02463"></a>02463 <span class="keywordtype">void</span> realizeArticulatedBodyInertias(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02464"></a>02464 
<a name="l02465"></a>02465 
<a name="l02466"></a>02466     <span class="comment">// INSTANCE STAGE responses //</span>
<a name="l02467"></a>02467 
<a name="l02468"></a>02468 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html">Array_&lt;QIndex&gt;</a>&amp; getFreeQIndex(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02469"></a>02469 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;UIndex&gt;</a>&amp; getFreeUIndex(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02470"></a>02470 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;UIndex&gt;</a>&amp; getFreeUDotIndex(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02471"></a>02471 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Array__.html" title="The SimTK::Array_&lt;T&gt; container class is a plug-compatible replacement for the C++ standard template l...">Array_&lt;UIndex&gt;</a>&amp; getKnownUDotIndex(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02472"></a>02472 <span class="keywordtype">void</span> packFreeQ
<a name="l02473"></a>02473    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; allQ, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; packedFreeQ) <span class="keyword">const</span>;
<a name="l02474"></a>02474 <span class="keywordtype">void</span> unpackFreeQ
<a name="l02475"></a>02475    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; packedFreeQ, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; unpackedFreeQ) <span class="keyword">const</span>;
<a name="l02476"></a>02476 <span class="keywordtype">void</span> packFreeU
<a name="l02477"></a>02477    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; allU, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; packedFreeU) <span class="keyword">const</span>;
<a name="l02478"></a>02478 <span class="keywordtype">void</span> unpackFreeU
<a name="l02479"></a>02479    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; packedFreeU, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; unpackedFreeU) <span class="keyword">const</span>;
<a name="l02480"></a>02480 
<a name="l02481"></a>02481 
<a name="l02482"></a>02482     <span class="comment">// POSITION STAGE responses //</span>
<a name="l02483"></a>02483 
<a name="l02493"></a>02493 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia</a>&amp; 
<a name="l02494"></a>02494 getCompositeBodyInertia(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02495"></a>02495 
<a name="l02506"></a>02506 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia</a>&amp; 
<a name="l02507"></a>02507 getArticulatedBodyInertia(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02508"></a>02508 
<a name="l02509"></a>02509 
<a name="l02510"></a>02510     <span class="comment">// VELOCITY STAGE responses //</span>
<a name="l02511"></a>02511 
<a name="l02516"></a>02516 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp; 
<a name="l02517"></a>02517 getGyroscopicForce(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02518"></a>02518 
<a name="l02524"></a>02524 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp; 
<a name="l02525"></a>02525 getMobilizerCoriolisAcceleration(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;       state, 
<a name="l02526"></a>02526                                  <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02527"></a>02527 
<a name="l02536"></a>02536 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp; 
<a name="l02537"></a>02537 getTotalCoriolisAcceleration(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02538"></a>02538 
<a name="l02539"></a>02539 
<a name="l02540"></a>02540     <span class="comment">// DYNAMICS STAGE responses //</span>
<a name="l02541"></a>02541 
<a name="l02548"></a>02548 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp; 
<a name="l02549"></a>02549 getMobilizerCentrifugalForces(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02550"></a>02550 
<a name="l02556"></a>02556 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">SpatialVec</a>&amp; 
<a name="l02557"></a>02557 getTotalCentrifugalForces(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state, <a class="code" href="classSimTK_1_1MobilizedBodyIndex.html" title="This is for arrays indexed by mobilized body number within a subsystem (typically the SimbodyMatterSu...">MobilizedBodyIndex</a> mbx) <span class="keyword">const</span>;
<a name="l02562"></a>02562 <span class="comment">//==============================================================================</span>
<a name="l02593"></a>02593 <span class="comment"></span><span class="keywordtype">void</span> calcMobilizerReactionForcesUsingFreebodyMethod
<a name="l02594"></a>02594    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state, 
<a name="l02595"></a>02595     <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; forcesAtMInG) <span class="keyword">const</span>;
<a name="l02596"></a>02596 
<a name="l02600"></a>02600 <span class="keywordtype">void</span> invalidateCompositeBodyInertias(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02601"></a>02601 
<a name="l02607"></a>02607 <span class="keywordtype">void</span> invalidateArticulatedBodyInertias(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; state) <span class="keyword">const</span>;
<a name="l02611"></a>02611 <span class="comment">//==============================================================================</span>
<a name="l02622"></a>02622 <span class="comment"></span>
<a name="l02623"></a>02623 <span class="keywordtype">int</span> getNumParticles() <span class="keyword">const</span>;
<a name="l02624"></a>02624 
<a name="l02625"></a>02625 <span class="comment">// The generalized coordinates for a particle are always the three measure numbers</span>
<a name="l02626"></a>02626 <span class="comment">// (x,y,z) of the particle&#39;s Ground-relative Cartesian location vector. The generalized</span>
<a name="l02627"></a>02627 <span class="comment">// speeds are always the three corresponding measure numbers of the particle&#39;s</span>
<a name="l02628"></a>02628 <span class="comment">// Ground-relative Cartesian velocity. The generalized applied forces are</span>
<a name="l02629"></a>02629 <span class="comment">// always the three measure numbers of a Ground-relative force vector.</span>
<a name="l02630"></a>02630 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; getAllParticleLocations    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02631"></a>02631 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; getAllParticleVelocities   (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02632"></a>02632 
<a name="l02633"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#affe6bd028e997de598d994f5b982b969">02633</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#affe6bd028e997de598d994f5b982b969" title="TODO: total number of particles.">getParticleLocation</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p)<span class="keyword"> const </span>{
<a name="l02634"></a>02634     <span class="keywordflow">return</span> getAllParticleLocations(s)[p];
<a name="l02635"></a>02635 }
<a name="l02636"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a50c78ab6c6491600feec4368ec72ef05">02636</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a50c78ab6c6491600feec4368ec72ef05" title="TODO: total number of particles.">getParticleVelocity</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p)<span class="keyword"> const </span>{
<a name="l02637"></a>02637     <span class="keywordflow">return</span> getAllParticleVelocities(s)[p];
<a name="l02638"></a>02638 }
<a name="l02639"></a>02639 
<a name="l02640"></a>02640 <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; updAllParticleMasses(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s) <span class="keyword">const</span>;
<a name="l02641"></a>02641 
<a name="l02642"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a049f0dca3c1e1bc3d1dff875232d480f">02642</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a049f0dca3c1e1bc3d1dff875232d480f" title="TODO: total number of particles.">setAllParticleMasses</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; masses)<span class="keyword"> const </span>{
<a name="l02643"></a>02643     updAllParticleMasses(s) = masses;
<a name="l02644"></a>02644 }
<a name="l02645"></a>02645 
<a name="l02646"></a>02646 <span class="comment">// Note that particle generalized coordinates, speeds, and applied forces</span>
<a name="l02647"></a>02647 <span class="comment">// are defined to be the particle Cartesian locations, velocities, and</span>
<a name="l02648"></a>02648 <span class="comment">// applied force vectors, so can be set directly at Stage::Model or higher.</span>
<a name="l02649"></a>02649 
<a name="l02650"></a>02650 <span class="comment">// These are the only routines that must be provided by the concrete MatterSubsystem.</span>
<a name="l02651"></a>02651 <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; updAllParticleLocations(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;)     <span class="keyword">const</span>;
<a name="l02652"></a>02652 <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; updAllParticleVelocities(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;)    <span class="keyword">const</span>;
<a name="l02653"></a>02653 
<a name="l02654"></a>02654 <span class="comment">// The following inline routines are provided by the generic MatterSubsystem </span>
<a name="l02655"></a>02655 <span class="comment">// class for convenience.</span>
<a name="l02656"></a>02656 
<a name="l02657"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a90ee991274e97d76f1ab1d9f4e5e8e57">02657</a> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a90ee991274e97d76f1ab1d9f4e5e8e57" title="TODO: total number of particles.">updParticleLocation</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p)<span class="keyword"> const </span>{
<a name="l02658"></a>02658     <span class="keywordflow">return</span> updAllParticleLocations(s)[p];
<a name="l02659"></a>02659 }
<a name="l02660"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ac0d79e2ae7f878ad8cbe95c34fc1c9e0">02660</a> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ac0d79e2ae7f878ad8cbe95c34fc1c9e0" title="TODO: total number of particles.">updParticleVelocity</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p)<span class="keyword"> const </span>{
<a name="l02661"></a>02661     <span class="keywordflow">return</span> updAllParticleVelocities(s)[p];
<a name="l02662"></a>02662 }
<a name="l02663"></a>02663 
<a name="l02664"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ab25e295b1ce7f7a3cac8464f612ae4e1">02664</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#ab25e295b1ce7f7a3cac8464f612ae4e1" title="TODO: total number of particles.">setParticleLocation</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; r)<span class="keyword"> const </span>{
<a name="l02665"></a>02665     updAllParticleLocations(s)[p] = r;
<a name="l02666"></a>02666 }
<a name="l02667"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a5bd7fd868b468dc276778b6151198f0a">02667</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a5bd7fd868b468dc276778b6151198f0a" title="TODO: total number of particles.">setParticleVelocity</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; v)<span class="keyword"> const </span>{
<a name="l02668"></a>02668     updAllParticleVelocities(s)[p] = v;
<a name="l02669"></a>02669 }
<a name="l02670"></a>02670 
<a name="l02671"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a323defc86dc3b64003ebc5f30e6adbea">02671</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a323defc86dc3b64003ebc5f30e6adbea" title="TODO: total number of particles.">setAllParticleLocations</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; r)<span class="keyword"> const </span>{
<a name="l02672"></a>02672     updAllParticleLocations(s) = r;
<a name="l02673"></a>02673 }
<a name="l02674"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#aae6a6215af63f530fa402596ef2b268f">02674</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#aae6a6215af63f530fa402596ef2b268f" title="TODO: total number of particles.">setAllParticleVelocities</a>(<a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; v)<span class="keyword"> const </span>{
<a name="l02675"></a>02675     updAllParticleVelocities(s) = v;
<a name="l02676"></a>02676 }
<a name="l02677"></a>02677 
<a name="l02678"></a>02678 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; getAllParticleMasses(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02679"></a>02679 
<a name="l02680"></a>02680 <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;Vec3&gt;</a>&amp; getAllParticleAccelerations(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;) <span class="keyword">const</span>;
<a name="l02681"></a>02681 
<a name="l02682"></a><a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a24aa7dd470a3f94f88f90369698f5ff7">02682</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3</a>&amp; <a class="code" href="classSimTK_1_1SimbodyMatterSubsystem.html#a24aa7dd470a3f94f88f90369698f5ff7" title="TODO: total number of particles.">getParticleAcceleration</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp; s, ParticleIndex p)<span class="keyword"> const </span>{
<a name="l02683"></a>02683     <span class="keywordflow">return</span> getAllParticleAccelerations(s)[p];
<a name="l02684"></a>02684 }
<a name="l02687"></a>02687 <span class="comment">//==============================================================================</span>
<a name="l02696"></a>02696 <span class="comment"></span><span class="keyword">private</span>:
<a name="l02699"></a>02699 <span class="keywordtype">void</span> calcSpatialKinematicsFromInternal(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1State.html" title="This is the handle class for the hidden State implementation.">State</a>&amp;         state,
<a name="l02700"></a>02700                                        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp;        u,
<a name="l02701"></a>02701                                        <a class="code" href="classSimTK_1_1Vector__.html" title="This is the Vector class intended to appear in user code.">Vector_&lt;SpatialVec&gt;</a>&amp; Ju)<span class="keyword"> const</span>
<a name="l02702"></a>02702 <span class="keyword"></span>{   multiplyBySystemJacobian(state,u,Ju); }
<a name="l02703"></a>02703 
<a name="l02706"></a>02706 <span class="keywordtype">void</span> calcInternalGradientFromSpatial(<span class="keyword">const</span> State&amp;               state,
<a name="l02707"></a>02707                                      <span class="keyword">const</span> Vector_&lt;SpatialVec&gt;&amp; F_G,
<a name="l02708"></a>02708                                      <a class="code" href="namespaceSimTK.html#acd32706a1c8d3ee7c84c56bf048e7f1f" title="Read fixed-size VectorView from input stream.">Vector</a>&amp;                    f)<span class="keyword"> const</span>
<a name="l02709"></a>02709 <span class="keyword"></span>{   multiplyBySystemJacobianTranspose(state, F_G, f); }
<a name="l02710"></a>02710 
<a name="l02713"></a>02713 <span class="keywordtype">void</span> calcMV(<span class="keyword">const</span> State&amp; state, <span class="keyword">const</span> <a class="code" href="namespaceSimTK.html#acd32706a1c8d3ee7c84c56bf048e7f1f" title="Read fixed-size VectorView from input stream.">Vector</a>&amp; v, <a class="code" href="namespaceSimTK.html#acd32706a1c8d3ee7c84c56bf048e7f1f" title="Read fixed-size VectorView from input stream.">Vector</a>&amp; MV)<span class="keyword"> const</span>
<a name="l02714"></a>02714 <span class="keyword"></span>{   multiplyByM(state,v,MV); }
<a name="l02715"></a>02715 
<a name="l02718"></a>02718 <span class="keywordtype">void</span> calcMInverseV(<span class="keyword">const</span> State&amp; state,
<a name="l02719"></a>02719     <span class="keyword">const</span> <a class="code" href="namespaceSimTK.html#acd32706a1c8d3ee7c84c56bf048e7f1f" title="Read fixed-size VectorView from input stream.">Vector</a>&amp;               v,
<a name="l02720"></a>02720     <a class="code" href="namespaceSimTK.html#acd32706a1c8d3ee7c84c56bf048e7f1f" title="Read fixed-size VectorView from input stream.">Vector</a>&amp;                     MinvV)<span class="keyword"> const</span>
<a name="l02721"></a>02721 <span class="keyword"></span>{   multiplyByMInv(state,v,MinvV); }
<a name="l02722"></a>02722 
<a name="l02725"></a>02725 <span class="keywordtype">void</span> calcPNInv(<span class="keyword">const</span> State&amp; state, <a class="code" href="namespaceSimTK.html#a68f30258553b9b50cb6aefa6d82e3e8e" title="Read fixed-size VectorView from input stream.">Matrix</a>&amp; PNInv) <span class="keyword">const</span>;
<a name="l02726"></a>02726 
<a name="l02729"></a>02729 <span class="keywordtype">void</span> calcGt(<span class="keyword">const</span> State&amp;, <a class="code" href="namespaceSimTK.html#a68f30258553b9b50cb6aefa6d82e3e8e" title="Read fixed-size VectorView from input stream.">Matrix</a>&amp; Gt) <span class="keyword">const</span>;
<a name="l02730"></a>02730 
<a name="l02731"></a>02731 
<a name="l02735"></a>02735 <span class="comment">//==============================================================================</span>
<a name="l02736"></a>02736 <span class="comment">//     Bookkeeping methods and internal types -- hide from Doxygen</span>
<a name="l02738"></a>02738 <span class="comment"></span><span class="keyword">public</span>:
<a name="l02739"></a>02739 <span class="keyword">class </span>Subtree; <span class="comment">// used for working with a connected subgraph of the MobilizedBody tree</span>
<a name="l02740"></a>02740 <span class="keyword">class </span>SubtreeResults;
<a name="l02741"></a>02741 
<a name="l02742"></a>02742 
<a name="l02743"></a>02743 SimTK_PIMPL_DOWNCAST(SimbodyMatterSubsystem, Subsystem);
<a name="l02744"></a>02744 <span class="keyword">const</span> SimbodyMatterSubsystemRep&amp; getRep() <span class="keyword">const</span>;
<a name="l02745"></a>02745 SimbodyMatterSubsystemRep&amp;       updRep();
<a name="l02748"></a>02748 <span class="keyword">private</span>:
<a name="l02749"></a>02749 };
<a name="l02750"></a>02750 
<a name="l02754"></a>02754 <a class="code" href="Simbody_2include_2simbody_2internal_2common_8h.html#aa0f7284742cf4beb9809d72f02f470b7">SimTK_SIMBODY_EXPORT</a> std::ostream&amp; 
<a name="l02755"></a>02755 <a class="code" href="namespaceSimTK.html#a306139f1a6a0d5bf28030ca561aa0370">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> SimbodyMatterSubsystem&amp;);
<a name="l02756"></a>02756 
<a name="l02757"></a>02757 
<a name="l02758"></a>02758 } <span class="comment">// namespace SimTK</span>
<a name="l02759"></a>02759 
<a name="l02760"></a>02760 <span class="preprocessor">#endif // SimTK_SIMBODY_MATTER_SUBSYSTEM_H_</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="SimbodyMatterSubsystem_8h.html">SimbodyMatterSubsystem.h</a>      </li>

    <li class="footer">Generated on Mon Jul 14 2014 23:25:53 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
