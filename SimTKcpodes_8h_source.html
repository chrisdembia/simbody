<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Simbody: SimTKcpodes.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.4 (development)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('SimTKcpodes_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">SimTKcpodes.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SimTKcpodes_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SimTK_SIMMATH_CPODES_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SimTK_SIMMATH_CPODES_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="comment">/* -------------------------------------------------------------------------- *</span>
<a name="l00005"></a>00005 <span class="comment"> *                        Simbody(tm): SimTKmath                              *</span>
<a name="l00006"></a>00006 <span class="comment"> * -------------------------------------------------------------------------- *</span>
<a name="l00007"></a>00007 <span class="comment"> * This is part of the SimTK biosimulation toolkit originating from           *</span>
<a name="l00008"></a>00008 <span class="comment"> * Simbios, the NIH National Center for Physics-Based Simulation of           *</span>
<a name="l00009"></a>00009 <span class="comment"> * Biological Structures at Stanford, funded under the NIH Roadmap for        *</span>
<a name="l00010"></a>00010 <span class="comment"> * Medical Research, grant U54 GM072970. See https://simtk.org/home/simbody.  *</span>
<a name="l00011"></a>00011 <span class="comment"> *                                                                            *</span>
<a name="l00012"></a>00012 <span class="comment"> * Portions copyright (c) 2006-12 Stanford University and the Authors.        *</span>
<a name="l00013"></a>00013 <span class="comment"> * Authors: Michael Sherman                                                   *</span>
<a name="l00014"></a>00014 <span class="comment"> * Contributors:                                                              *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                            *</span>
<a name="l00016"></a>00016 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may    *</span>
<a name="l00017"></a>00017 <span class="comment"> * not use this file except in compliance with the License. You may obtain a  *</span>
<a name="l00018"></a>00018 <span class="comment"> * copy of the License at http://www.apache.org/licenses/LICENSE-2.0.         *</span>
<a name="l00019"></a>00019 <span class="comment"> *                                                                            *</span>
<a name="l00020"></a>00020 <span class="comment"> * Unless required by applicable law or agreed to in writing, software        *</span>
<a name="l00021"></a>00021 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,          *</span>
<a name="l00022"></a>00022 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *</span>
<a name="l00023"></a>00023 <span class="comment"> * See the License for the specific language governing permissions and        *</span>
<a name="l00024"></a>00024 <span class="comment"> * limitations under the License.                                             *</span>
<a name="l00025"></a>00025 <span class="comment"> * -------------------------------------------------------------------------- */</span>
<a name="l00026"></a>00026 
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="SimTKcommon_8h.html" title="Includes internal headers providing declarations for the basic SimTK Core classes, including Simmatrix.">SimTKcommon.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="SimTKmath_2include_2simmath_2internal_2common_8h.html" title="This is the header file that every Simmath compilation unit should include first.">simmath/internal/common.h</a>&quot;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;cstdio&gt;</span> <span class="comment">// Needed for &quot;FILE&quot;.</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">namespace </span>SimTK {
<a name="l00039"></a>00039 
<a name="l00049"></a><a class="code" href="classSimTK_1_1CPodesSystem.html">00049</a> <span class="keyword">class </span><a class="code" href="SimTKmath_2include_2simmath_2internal_2common_8h.html#a5696280cbb2e30d11fd3755c78efc519">SimTK_SIMMATH_EXPORT</a> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a> {
<a name="l00050"></a>00050 <span class="keyword">public</span>:
<a name="l00051"></a><a class="code" href="classSimTK_1_1CPodesSystem.html#a76ffd59e8ba3a3ae756d83bf5cbbdcfa">00051</a>     <span class="keyword">virtual</span> <a class="code" href="classSimTK_1_1CPodesSystem.html#a76ffd59e8ba3a3ae756d83bf5cbbdcfa">~CPodesSystem</a>() {}
<a name="l00052"></a>00052     <span class="comment">// The default implementations of these virtual functions</span>
<a name="l00053"></a>00053     <span class="comment">// just throw an &quot;unimplemented virtual function&quot; exception. </span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055     <span class="comment">// At least one of these two must be supplied by the concrete class.</span>
<a name="l00056"></a>00056     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  explicitODE(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout) <span class="keyword">const</span>;
<a name="l00057"></a>00057     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  implicitODE(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp, 
<a name="l00058"></a>00058                              <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout) <span class="keyword">const</span>;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  constraint(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, 
<a name="l00061"></a>00061                             <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; cout) <span class="keyword">const</span>;
<a name="l00062"></a>00062     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  project(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ycur, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; corr,
<a name="l00063"></a>00063                          Real epsProj, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; err) <span class="keyword">const</span>; <span class="comment">// err is in/out</span>
<a name="l00064"></a>00064     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  quadrature(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, 
<a name="l00065"></a>00065                             <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; qout) <span class="keyword">const</span>;
<a name="l00066"></a>00066     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  root(Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp,
<a name="l00067"></a>00067                       <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; gout) <span class="keyword">const</span>;
<a name="l00068"></a>00068     <span class="keyword">virtual</span> <span class="keywordtype">int</span>  weight(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; weights) <span class="keyword">const</span>;
<a name="l00069"></a>00069     <span class="keyword">virtual</span> <span class="keywordtype">void</span> errorHandler(<span class="keywordtype">int</span> error_code, <span class="keyword">const</span> <span class="keywordtype">char</span>* module,
<a name="l00070"></a>00070                               <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">function</span>, <span class="keywordtype">char</span>* msg) <span class="keyword">const</span>;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     <span class="comment">//TODO: Jacobian functions</span>
<a name="l00073"></a>00073 };
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">// These static functions are private to the current (client-side) compilation</span>
<a name="l00077"></a>00077 <span class="comment">// unit. They are used to navigate the client-side CPodesSystem virtual function</span>
<a name="l00078"></a>00078 <span class="comment">// table, which cannot be done on the library side. Note that these are defined</span>
<a name="l00079"></a>00079 <span class="comment">// in the SimTK namespace so don&#39;t need &quot;SimTK&quot; in their names.</span>
<a name="l00080"></a><a class="code" href="namespaceSimTK.html#a03a744f79ed1b8eafc314bb73c1ee86b">00080</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a03a744f79ed1b8eafc314bb73c1ee86b">explicitODE_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00081"></a>00081                               Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout) 
<a name="l00082"></a>00082   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#a4f9db0d782738dc5751c5af0310ed747">explicitODE</a>(t,y,fout); }
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="namespaceSimTK.html#a83c3bc1e9723bae2f75c643d789cac96">00084</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a83c3bc1e9723bae2f75c643d789cac96">implicitODE_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00085"></a>00085                               Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout)
<a name="l00086"></a>00086   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#a8dbe09b4f82b4ecade522a4d66dbf374">implicitODE</a>(t,y,yp,fout); }
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="namespaceSimTK.html#a637ce3bfc1ffe924a7071927033bb363">00088</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a637ce3bfc1ffe924a7071927033bb363">constraint_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00089"></a>00089                              Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; cout)
<a name="l00090"></a>00090   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#a5e66c807f1ba3d5b23ffa3cc5ced475b">constraint</a>(t,y,cout); }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="namespaceSimTK.html#a4b60261fe7cb14f844c3ba0950414b44">00092</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a4b60261fe7cb14f844c3ba0950414b44">project_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00093"></a>00093                           Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ycur, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; corr,
<a name="l00094"></a>00094                           Real epsProj, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; err)
<a name="l00095"></a>00095   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#ab9c4d24066ce635132635803f977a864">project</a>(t,ycur,corr,epsProj,err); }
<a name="l00096"></a>00096 
<a name="l00097"></a><a class="code" href="namespaceSimTK.html#a1d14c3decdbfd9b247463d4880739a34">00097</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a1d14c3decdbfd9b247463d4880739a34">quadrature_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00098"></a>00098                              Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; qout)
<a name="l00099"></a>00099   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#aedba519faf73dd89e9b933528ec53f0a">quadrature</a>(t,y,qout); }
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="namespaceSimTK.html#a25d3170b1b969b3c14b2fe0b4b7690e3">00101</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a25d3170b1b969b3c14b2fe0b4b7690e3">root_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00102"></a>00102                        Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; gout)
<a name="l00103"></a>00103   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#a72f4db9b63d063a3d4809b286f3f12a1">root</a>(t,y,yp,gout); }
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="namespaceSimTK.html#a00576eff653847f4d19b4218e5955265">00105</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceSimTK.html#a00576eff653847f4d19b4218e5955265">weight_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00106"></a>00106                          <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; weights)
<a name="l00107"></a>00107   { <span class="keywordflow">return</span> sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#a2a05d8656c591edb90f34c4d5b504de5">weight</a>(y,weights); }
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="namespaceSimTK.html#a7bf734cd87406a40d4403b5f90763976">00109</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceSimTK.html#a7bf734cd87406a40d4403b5f90763976">errorHandler_static</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys, 
<a name="l00110"></a>00110                                 <span class="keywordtype">int</span> error_code, <span class="keyword">const</span> <span class="keywordtype">char</span>* module, 
<a name="l00111"></a>00111                                 <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">function</span>, <span class="keywordtype">char</span>* msg)
<a name="l00112"></a>00112   { sys.<a class="code" href="classSimTK_1_1CPodesSystem.html#aab8ea829d0862034761109e8263eb30c">errorHandler</a>(error_code,module,<span class="keyword">function</span>,msg); }
<a name="l00113"></a>00113 
<a name="l00122"></a><a class="code" href="classSimTK_1_1CPodes.html">00122</a> <span class="keyword">class </span><a class="code" href="SimTKmath_2include_2simmath_2internal_2common_8h.html#a5696280cbb2e30d11fd3755c78efc519">SimTK_SIMMATH_EXPORT</a> <a class="code" href="classSimTK_1_1CPodes.html" title="This is a straightforward translation of the Sundials CPODES C interface into C++.">CPodes</a> {
<a name="l00123"></a>00123 <span class="keyword">public</span>:
<a name="l00124"></a>00124     <span class="comment">// no default constructor</span>
<a name="l00125"></a>00125     <span class="comment">// copy constructor and default assignment are suppressed</span>
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5">00127</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5">ODEType</a> {
<a name="l00128"></a><a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5a483b6fc98aad69ed588f8a6699826d3b">00128</a>         UnspecifiedODEType=0,
<a name="l00129"></a><a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5ac335661ae00d83740d5fef20d0d0f5d0">00129</a>         <a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5ac335661ae00d83740d5fef20d0d0f5d0">ExplicitODE</a>,
<a name="l00130"></a><a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5af110493f08936ee18afa5b64d7f593e4">00130</a>         ImplicitODE
<a name="l00131"></a>00131     };
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6">00133</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6">LinearMultistepMethod</a> {
<a name="l00134"></a><a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6a22d3591b25b058a8ba09864957bdc33e">00134</a>         UnspecifiedLinearMultistepMethod=0,
<a name="l00135"></a><a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6a84f9d971049e38af7d7b7386dd6d4a6c">00135</a>         <a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6a84f9d971049e38af7d7b7386dd6d4a6c">BDF</a>,
<a name="l00136"></a><a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6ae150c05b30608863f7b818b116d96087">00136</a>         Adams
<a name="l00137"></a>00137     };
<a name="l00138"></a>00138 
<a name="l00139"></a><a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577">00139</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577">NonlinearSystemIterationType</a> {
<a name="l00140"></a><a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577a0b1a5ed1cdc2778502f32cc95944019d">00140</a>         UnspecifiedNonlinearSystemIterationType=0,
<a name="l00141"></a><a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577ad8814af9ad8567f02d41bb19334549b2">00141</a>         <a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577ad8814af9ad8567f02d41bb19334549b2">Newton</a>,
<a name="l00142"></a><a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577a2c3c22b8103cdc6a0c019962707c86f9">00142</a>         Functional
<a name="l00143"></a>00143     };
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edc">00145</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edc">ToleranceType</a> {
<a name="l00146"></a><a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edcae7eaaf2623e6904d71f33c8ec02bcdc1">00146</a>         UnspecifiedToleranceType=0,
<a name="l00147"></a><a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edca4d6cf8691881250c8104292a02ab7632">00147</a>         <a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edca4d6cf8691881250c8104292a02ab7632">ScalarScalar</a>,
<a name="l00148"></a><a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edcae9ff9d438408bac328227af42d4e78a4">00148</a>         <a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edcae9ff9d438408bac328227af42d4e78a4">ScalarVector</a>,
<a name="l00149"></a><a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edcac7cdcaba45eb82b451fc456d900c1309">00149</a>         WeightFunction
<a name="l00150"></a>00150     };
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715">00152</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715">ProjectionNorm</a> {
<a name="l00153"></a><a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715a286496b076b5efbb4cec4a7cece6e644">00153</a>         UnspecifiedProjectionNorm=0,
<a name="l00154"></a><a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715a94ad31469e3a857cb189782cf9c597ef">00154</a>         <a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715a94ad31469e3a857cb189782cf9c597ef">L2Norm</a>,
<a name="l00155"></a><a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715a1f5779f419eaabaa92724dcadaf6be0f">00155</a>         ErrorNorm
<a name="l00156"></a>00156     };
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446">00158</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446">ConstraintLinearity</a> {
<a name="l00159"></a><a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446a49c9238f876392d402c01feb08245fac">00159</a>         UnspecifiedConstraintLinearity=0,
<a name="l00160"></a><a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446a98dd2c914e7b95fa445d87a86092ab3e">00160</a>         <a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446a98dd2c914e7b95fa445d87a86092ab3e">Linear</a>,
<a name="l00161"></a><a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446a48a3dedff5649772259435a628f58361">00161</a>         Nonlinear
<a name="l00162"></a>00162     };
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6e">00164</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6e">ProjectionFactorizationType</a> {
<a name="l00165"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea8378c492f188776f4b3a02fb6b137084">00165</a>         UnspecifiedProjectionFactorizationType=0,
<a name="l00166"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6eaa8badaa3552c292db7204bbdd885247f">00166</a>         <a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6eaa8badaa3552c292db7204bbdd885247f">ProjectWithLU</a>,
<a name="l00167"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea1c698263c8d06277f572f5effcd27e25">00167</a>         <a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea1c698263c8d06277f572f5effcd27e25">ProjectWithQR</a>,
<a name="l00168"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea39922bc24169790231f580a2933a60ad">00168</a>         <a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea39922bc24169790231f580a2933a60ad">ProjectWithSchurComplement</a>,
<a name="l00169"></a><a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6ea971dfcd38e5b4079877325e0b4472d09">00169</a>         ProjectWithQRPivot  <span class="comment">// for handling redundancy</span>
<a name="l00170"></a>00170     };
<a name="l00171"></a>00171 
<a name="l00172"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ff">00172</a>     <span class="keyword">enum</span> <a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ff">StepMode</a> {
<a name="l00173"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa089b06f1dbe6a7ca829757de1c094c7b">00173</a>         UnspecifiedStepMode=0,
<a name="l00174"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa99b3d779847a89b25acdaeaecd34cef3">00174</a>         <a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa99b3d779847a89b25acdaeaecd34cef3">Normal</a>,
<a name="l00175"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffacc085cd939ca7eddb772a10ae27b88f3">00175</a>         <a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffacc085cd939ca7eddb772a10ae27b88f3">OneStep</a>,
<a name="l00176"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa440c83665f3ec749e31697004d17e212">00176</a>         <a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa440c83665f3ec749e31697004d17e212">NormalTstop</a>,
<a name="l00177"></a><a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ffa64b0b5a4651b2095bd9816cbf3cb9892">00177</a>         OneStepTstop
<a name="l00178"></a>00178     };
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1CPodes.html" title="This is a straightforward translation of the Sundials CPODES C interface into C++.">CPodes</a>
<a name="l00181"></a><a class="code" href="classSimTK_1_1CPodes.html#a9306e9497071c349a64d3478d5985f3f">00181</a>        (<a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5">ODEType</a>                      ode=UnspecifiedODEType, 
<a name="l00182"></a>00182         <a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6">LinearMultistepMethod</a>        lmm=UnspecifiedLinearMultistepMethod, 
<a name="l00183"></a>00183         <a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577">NonlinearSystemIterationType</a> nls=UnspecifiedNonlinearSystemIterationType)
<a name="l00184"></a>00184     {
<a name="l00185"></a>00185         <span class="comment">// Perform construction of the CPodesRep on the library side.</span>
<a name="l00186"></a>00186         librarySideCPodesConstructor(ode, lmm, nls);
<a name="l00187"></a>00187         <span class="comment">// But fill in function pointers from the client side.</span>
<a name="l00188"></a>00188         clientSideCPodesConstructor();
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <span class="comment">// Values for &#39;flag&#39; return values. These are just the &quot;normal&quot; return</span>
<a name="l00192"></a>00192     <span class="comment">// values; there are many more which are all negative and represent</span>
<a name="l00193"></a>00193     <span class="comment">// error conditions.</span>
<a name="l00194"></a><a class="code" href="classSimTK_1_1CPodes.html#a463d3a1d22d6730a3186d9199e445896">00194</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Success     = 0;
<a name="l00195"></a><a class="code" href="classSimTK_1_1CPodes.html#a75086d26299ad18882773b37882caa1f">00195</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> TstopReturn = 1;
<a name="l00196"></a><a class="code" href="classSimTK_1_1CPodes.html#a599c357d46f45345474893434eea2b9a">00196</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> RootReturn  = 2;
<a name="l00197"></a><a class="code" href="classSimTK_1_1CPodes.html#acf668e53f95f64168342c66862e8632e">00197</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Warning     = 99;
<a name="l00198"></a><a class="code" href="classSimTK_1_1CPodes.html#a765ae78c07173a362f941f729e52d0c4">00198</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> TooMuchWork = -1;
<a name="l00199"></a><a class="code" href="classSimTK_1_1CPodes.html#a165232111a15e45c6dc01dac4c82e9d9">00199</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> TooClose    = -27;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <span class="comment">// These values should be used by user routines. &quot;Success&quot; is the</span>
<a name="l00202"></a>00202     <span class="comment">// same as above. A positive return value means &quot;recoverable error&quot;,</span>
<a name="l00203"></a>00203     <span class="comment">// i.e., CPodes should cut the step size and try again, while a</span>
<a name="l00204"></a>00204     <span class="comment">// negative number means &quot;unrecoverable error&quot; which will kill</span>
<a name="l00205"></a>00205     <span class="comment">// CPODES altogether with a CP_xxx_FAIL error. The particular numerical</span>
<a name="l00206"></a>00206     <span class="comment">// values here have no significance, just + vs. -.</span>
<a name="l00207"></a><a class="code" href="classSimTK_1_1CPodes.html#a8c10fe6ac335bb317ef6b6d1a2015881">00207</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> RecoverableError = 9999;
<a name="l00208"></a><a class="code" href="classSimTK_1_1CPodes.html#a7690224424b1972a119d7d0c3485d62a">00208</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> UnrecoverableError = -9999;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     ~<a class="code" href="classSimTK_1_1CPodes.html" title="This is a straightforward translation of the Sundials CPODES C interface into C++.">CPodes</a>();
<a name="l00211"></a>00211 
<a name="l00212"></a>00212     <span class="comment">// Depending on the setting of ode_type at construction, init()</span>
<a name="l00213"></a>00213     <span class="comment">// and reInit() will tell CPodes to use either the explicitODE()</span>
<a name="l00214"></a>00214     <span class="comment">// or implicitODE() function from the CPodesSystem, so the user</span>
<a name="l00215"></a>00215     <span class="comment">// MUST have overridden at least one of those virtual methods.</span>
<a name="l00216"></a>00216     <span class="keywordtype">int</span> init(<a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys,
<a name="l00217"></a>00217              Real t0, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y0, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp0,
<a name="l00218"></a>00218              <a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edc">ToleranceType</a> tt, Real reltol, <span class="keywordtype">void</span>* abstol);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220     <span class="keywordtype">int</span> reInit(<a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp; sys,
<a name="l00221"></a>00221                Real t0, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y0, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp0,
<a name="l00222"></a>00222                <a class="code" href="classSimTK_1_1CPodes.html#a5199cbf26274895ac49e6f04cc9d7edc">ToleranceType</a> tt, Real reltol, <span class="keywordtype">void</span>* abstol);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <span class="comment">// This tells CPodes to make use of the user&#39;s constraint()</span>
<a name="l00225"></a>00225     <span class="comment">// method from CPodesSystem, and perform projection internally.</span>
<a name="l00226"></a>00226     <span class="keywordtype">int</span> projInit(<a class="code" href="classSimTK_1_1CPodes.html#a8bbc26dc7fb81e5ab6720262f6dcb715">ProjectionNorm</a>, <a class="code" href="classSimTK_1_1CPodes.html#a34a1a10e8f0997e48f35a8ac0762a446">ConstraintLinearity</a>,
<a name="l00227"></a>00227                  <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ctol);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="comment">// This tells CPodes to make use of the user&#39;s project()</span>
<a name="l00230"></a>00230     <span class="comment">// method from CPodesSystem.</span>
<a name="l00231"></a>00231     <span class="keywordtype">int</span> projDefine();
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="comment">// These tell CPodes to make use of the user&#39;s quadrature()</span>
<a name="l00234"></a>00234     <span class="comment">// method from CPodesSystem.</span>
<a name="l00235"></a>00235     <span class="keywordtype">int</span> quadInit(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; q0);
<a name="l00236"></a>00236     <span class="keywordtype">int</span> quadReInit(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; q0);
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="comment">// This tells CPodes to make use of the user&#39;s root() method</span>
<a name="l00239"></a>00239     <span class="comment">// from CPodesSystem.</span>
<a name="l00240"></a>00240     <span class="keywordtype">int</span> rootInit(<span class="keywordtype">int</span> nrtfn);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242     <span class="comment">// This tells CPodes to make use of the user&#39;s errorHandler() </span>
<a name="l00243"></a>00243     <span class="comment">// method from CPodesSystem.</span>
<a name="l00244"></a>00244     <span class="keywordtype">int</span> setErrHandlerFn();
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <span class="comment">// These tells CPodes to make use of the user&#39;s weight() </span>
<a name="l00247"></a>00247     <span class="comment">// method from CPodesSystem.</span>
<a name="l00248"></a>00248     <span class="keywordtype">int</span> setEwtFn();
<a name="l00249"></a>00249 
<a name="l00250"></a>00250     <span class="comment">// TODO: these routines should enable methods that are defined</span>
<a name="l00251"></a>00251     <span class="comment">// in the CPodesSystem, but a proper interface to the Jacobian</span>
<a name="l00252"></a>00252     <span class="comment">// routines hasn&#39;t been implemented yet.</span>
<a name="l00253"></a>00253     <span class="keywordtype">int</span> dlsSetJacFn(<span class="keywordtype">void</span>* jac, <span class="keywordtype">void</span>* jac_data);
<a name="l00254"></a>00254     <span class="keywordtype">int</span> dlsProjSetJacFn(<span class="keywordtype">void</span>* jacP, <span class="keywordtype">void</span>* jacP_data);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="keywordtype">int</span> step(Real tout, Real* tret, 
<a name="l00258"></a>00258              <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y_inout, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp_inout, <a class="code" href="classSimTK_1_1CPodes.html#a6d2289c0d68928f172f787f41d8530ff">StepMode</a>=Normal);
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="keywordtype">int</span> setErrFile(FILE* errfp);
<a name="l00261"></a>00261     <span class="keywordtype">int</span> setMaxOrd(<span class="keywordtype">int</span> maxord);
<a name="l00262"></a>00262     <span class="keywordtype">int</span> setMaxNumSteps(<span class="keywordtype">int</span> mxsteps);
<a name="l00263"></a>00263     <span class="keywordtype">int</span> setMaxHnilWarns(<span class="keywordtype">int</span> mxhnil);
<a name="l00264"></a>00264     <span class="keywordtype">int</span> setStabLimDet(<span class="keywordtype">bool</span> stldet) ;
<a name="l00265"></a>00265     <span class="keywordtype">int</span> setInitStep(Real hin);
<a name="l00266"></a>00266     <span class="keywordtype">int</span> setMinStep(Real hmin);
<a name="l00267"></a>00267     <span class="keywordtype">int</span> setMaxStep(Real hmax);
<a name="l00268"></a>00268     <span class="keywordtype">int</span> setStopTime(Real tstop);
<a name="l00269"></a>00269     <span class="keywordtype">int</span> setMaxErrTestFails(<span class="keywordtype">int</span> maxnef);
<a name="l00270"></a>00270 
<a name="l00271"></a>00271     <span class="keywordtype">int</span> setMaxNonlinIters(<span class="keywordtype">int</span> maxcor);
<a name="l00272"></a>00272     <span class="keywordtype">int</span> setMaxConvFails(<span class="keywordtype">int</span> maxncf);
<a name="l00273"></a>00273     <span class="keywordtype">int</span> setNonlinConvCoef(Real nlscoef);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="keywordtype">int</span> setProjUpdateErrEst(<span class="keywordtype">bool</span> proj_err);
<a name="l00276"></a>00276     <span class="keywordtype">int</span> setProjFrequency(<span class="keywordtype">int</span> proj_freq);
<a name="l00277"></a>00277     <span class="keywordtype">int</span> setProjTestCnstr(<span class="keywordtype">bool</span> test_cnstr);
<a name="l00278"></a>00278     <span class="keywordtype">int</span> setProjLsetupFreq(<span class="keywordtype">int</span> proj_lset_freq);
<a name="l00279"></a>00279     <span class="keywordtype">int</span> setProjNonlinConvCoef(Real prjcoef);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281     <span class="keywordtype">int</span> setQuadErrCon(<span class="keywordtype">bool</span> errconQ, 
<a name="l00282"></a>00282                       <span class="keywordtype">int</span> tol_typeQ, Real reltolQ, <span class="keywordtype">void</span>* abstolQ);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="keywordtype">int</span> setTolerances(<span class="keywordtype">int</span> tol_type, Real reltol, <span class="keywordtype">void</span>* abstol);
<a name="l00285"></a>00285     
<a name="l00286"></a>00286     <span class="keywordtype">int</span> setRootDirection(<a class="code" href="classSimTK_1_1Array__.html">Array_&lt;int&gt;</a>&amp; rootdir);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="keywordtype">int</span> getDky(Real t, <span class="keywordtype">int</span> k, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; dky);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     <span class="keywordtype">int</span> getQuad(Real t, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yQout);
<a name="l00291"></a>00291     <span class="keywordtype">int</span> getQuadDky(Real t, <span class="keywordtype">int</span> k, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; dky);
<a name="l00292"></a>00292 
<a name="l00293"></a>00293     <span class="keywordtype">int</span> getWorkSpace(<span class="keywordtype">int</span>* lenrw, <span class="keywordtype">int</span>* leniw);
<a name="l00294"></a>00294     <span class="keywordtype">int</span> getNumSteps(<span class="keywordtype">int</span>* nsteps);
<a name="l00295"></a>00295     <span class="keywordtype">int</span> getNumFctEvals(<span class="keywordtype">int</span>* nfevals);
<a name="l00296"></a>00296     <span class="keywordtype">int</span> getNumLinSolvSetups(<span class="keywordtype">int</span>* nlinsetups);
<a name="l00297"></a>00297     <span class="keywordtype">int</span> getNumErrTestFails(<span class="keywordtype">int</span>* netfails);
<a name="l00298"></a>00298     <span class="keywordtype">int</span> getLastOrder(<span class="keywordtype">int</span>* qlast);
<a name="l00299"></a>00299     <span class="keywordtype">int</span> getCurrentOrder(<span class="keywordtype">int</span>* qcur);
<a name="l00300"></a>00300     <span class="keywordtype">int</span> getNumStabLimOrderReds(<span class="keywordtype">int</span>* nslred);
<a name="l00301"></a>00301     <span class="keywordtype">int</span> getActualInitStep(Real* hinused);
<a name="l00302"></a>00302     <span class="keywordtype">int</span> getLastStep(Real* hlast);
<a name="l00303"></a>00303     <span class="keywordtype">int</span> getCurrentStep(Real* hcur);
<a name="l00304"></a>00304     <span class="keywordtype">int</span> getCurrentTime(Real* tcur);
<a name="l00305"></a>00305     <span class="keywordtype">int</span> getTolScaleFactor(Real* tolsfac);
<a name="l00306"></a>00306     <span class="keywordtype">int</span> getErrWeights(<a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; eweight);
<a name="l00307"></a>00307     <span class="keywordtype">int</span> getEstLocalErrors(<a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ele) ;
<a name="l00308"></a>00308     <span class="keywordtype">int</span> getNumGEvals(<span class="keywordtype">int</span>* ngevals);
<a name="l00309"></a>00309     <span class="keywordtype">int</span> getRootInfo(<span class="keywordtype">int</span>* rootsfound);
<a name="l00310"></a>00310     <span class="keywordtype">int</span> getRootWindow(Real* tLo, Real* tHi);
<a name="l00311"></a>00311     <span class="keywordtype">int</span> getIntegratorStats(<span class="keywordtype">int</span>* nsteps,
<a name="l00312"></a>00312                            <span class="keywordtype">int</span>* nfevals, <span class="keywordtype">int</span>* nlinsetups,
<a name="l00313"></a>00313                            <span class="keywordtype">int</span>* netfails, <span class="keywordtype">int</span>* qlast,
<a name="l00314"></a>00314                            <span class="keywordtype">int</span>* qcur, Real* hinused, Real* hlast,
<a name="l00315"></a>00315                            Real* hcur, Real* tcur);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317     <span class="keywordtype">int</span> getNumNonlinSolvIters(<span class="keywordtype">int</span>* nniters);
<a name="l00318"></a>00318     <span class="keywordtype">int</span> getNumNonlinSolvConvFails(<span class="keywordtype">int</span>* nncfails);
<a name="l00319"></a>00319     <span class="keywordtype">int</span> getNonlinSolvStats(<span class="keywordtype">int</span>* nniters, <span class="keywordtype">int</span>* nncfails);
<a name="l00320"></a>00320     <span class="keywordtype">int</span> getProjNumProj(<span class="keywordtype">int</span>* nproj);
<a name="l00321"></a>00321     <span class="keywordtype">int</span> getProjNumCnstrEvals(<span class="keywordtype">int</span>* nce);
<a name="l00322"></a>00322     <span class="keywordtype">int</span> getProjNumLinSolvSetups(<span class="keywordtype">int</span>* nsetupsP);
<a name="l00323"></a>00323     <span class="keywordtype">int</span> getProjNumFailures(<span class="keywordtype">int</span>* nprf) ;
<a name="l00324"></a>00324     <span class="keywordtype">int</span> getProjStats(<span class="keywordtype">int</span>* nproj,
<a name="l00325"></a>00325                      <span class="keywordtype">int</span>* nce, <span class="keywordtype">int</span>* nsetupsP,
<a name="l00326"></a>00326                      <span class="keywordtype">int</span>* nprf);
<a name="l00327"></a>00327     <span class="keywordtype">int</span> getQuadNumFunEvals(<span class="keywordtype">int</span>* nqevals);
<a name="l00328"></a>00328     <span class="keywordtype">int</span> getQuadErrWeights(<a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; eQweight);
<a name="l00329"></a>00329     <span class="keywordtype">char</span>* getReturnFlagName(<span class="keywordtype">int</span> flag);
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="keywordtype">int</span> dlsGetWorkSpace(<span class="keywordtype">int</span>* lenrwLS, <span class="keywordtype">int</span>* leniwLS);
<a name="l00333"></a>00333     <span class="keywordtype">int</span> dlsGetNumJacEvals(<span class="keywordtype">int</span>* njevals);
<a name="l00334"></a>00334     <span class="keywordtype">int</span> dlsGetNumFctEvals(<span class="keywordtype">int</span>* nfevalsLS);
<a name="l00335"></a>00335     <span class="keywordtype">int</span> dlsGetLastFlag(<span class="keywordtype">int</span>* flag);
<a name="l00336"></a>00336     <span class="keywordtype">char</span>* dlsGetReturnFlagName(<span class="keywordtype">int</span> flag);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="keywordtype">int</span> dlsProjGetNumJacEvals(<span class="keywordtype">int</span>* njPevals);
<a name="l00339"></a>00339     <span class="keywordtype">int</span> dlsProjGetNumFctEvals(<span class="keywordtype">int</span>* ncevalsLS);
<a name="l00340"></a>00340 
<a name="l00341"></a>00341     <span class="keywordtype">int</span> lapackDense(<span class="keywordtype">int</span> N);
<a name="l00342"></a>00342     <span class="keywordtype">int</span> lapackBand(<span class="keywordtype">int</span> N, <span class="keywordtype">int</span> mupper, <span class="keywordtype">int</span> mlower);
<a name="l00343"></a>00343     <span class="keywordtype">int</span> lapackDenseProj(<span class="keywordtype">int</span> Nc, <span class="keywordtype">int</span> Ny, <a class="code" href="classSimTK_1_1CPodes.html#a25f8d02a2c23f883c47b0194b6972d6e">ProjectionFactorizationType</a>);
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="keyword">private</span>:
<a name="l00346"></a>00346     <span class="comment">// This is how we get the client-side virtual functions to</span>
<a name="l00347"></a>00347     <span class="comment">// be callable from library-side code while maintaining binary</span>
<a name="l00348"></a>00348     <span class="comment">// compatibility.</span>
<a name="l00349"></a>00349     <span class="keyword">typedef</span> int (*ExplicitODEFunc)(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00350"></a>00350                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout);
<a name="l00351"></a>00351     <span class="keyword">typedef</span> int (*ImplicitODEFunc)(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00352"></a>00352                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp,
<a name="l00353"></a>00353                                    <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; fout);
<a name="l00354"></a>00354     <span class="keyword">typedef</span> int (*ConstraintFunc) (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00355"></a>00355                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; cout);
<a name="l00356"></a>00356     <span class="keyword">typedef</span> int (*ProjectFunc)    (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00357"></a>00357                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; ycur, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; corr,
<a name="l00358"></a>00358                                    Real epsProj, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; err);
<a name="l00359"></a>00359     <span class="keyword">typedef</span> int (*QuadratureFunc) (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00360"></a>00360                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; qout);
<a name="l00361"></a>00361     <span class="keyword">typedef</span> int (*RootFunc)       (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00362"></a>00362                                    Real t, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; yp, 
<a name="l00363"></a>00363                                    <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; gout);
<a name="l00364"></a>00364     <span class="keyword">typedef</span> int (*WeightFunc)     (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00365"></a>00365                                    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; y, <a class="code" href="classSimTK_1_1Vector__.html">Vector</a>&amp; weights);
<a name="l00366"></a>00366     <span class="keyword">typedef</span> void (*ErrorHandlerFunc)(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1CPodesSystem.html" title="This abstract class defines the system to be integrated with SimTK CPodes.">CPodesSystem</a>&amp;, 
<a name="l00367"></a>00367                                      <span class="keywordtype">int</span> error_code, <span class="keyword">const</span> <span class="keywordtype">char</span>* module, 
<a name="l00368"></a>00368                                      <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">function</span>, <span class="keywordtype">char</span>* msg);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370     <span class="comment">// Note that these routines do not tell CPodes to use the supplied</span>
<a name="l00371"></a>00371     <span class="comment">// functions. They merely provide the client-side addresses of functions</span>
<a name="l00372"></a>00372     <span class="comment">// which understand how to find the user&#39;s virtual functions, should those</span>
<a name="l00373"></a>00373     <span class="comment">// actually be provided. Control over whether to actually call any of these</span>
<a name="l00374"></a>00374     <span class="comment">// is handled elsewhere, with user-visible methods. These private methods</span>
<a name="l00375"></a>00375     <span class="comment">// are to be called only upon construction of the CPodes object here. They</span>
<a name="l00376"></a>00376     <span class="comment">// are not even dependent on which user-supplied concrete CPodesSystem is</span>
<a name="l00377"></a>00377     <span class="comment">// being used.</span>
<a name="l00378"></a>00378     <span class="keywordtype">void</span> registerExplicitODEFunc(ExplicitODEFunc);
<a name="l00379"></a>00379     <span class="keywordtype">void</span> registerImplicitODEFunc(ImplicitODEFunc);
<a name="l00380"></a>00380     <span class="keywordtype">void</span> registerConstraintFunc(ConstraintFunc);
<a name="l00381"></a>00381     <span class="keywordtype">void</span> registerProjectFunc(ProjectFunc);
<a name="l00382"></a>00382     <span class="keywordtype">void</span> registerQuadratureFunc(QuadratureFunc);
<a name="l00383"></a>00383     <span class="keywordtype">void</span> registerRootFunc(RootFunc);
<a name="l00384"></a>00384     <span class="keywordtype">void</span> registerWeightFunc(WeightFunc);
<a name="l00385"></a>00385     <span class="keywordtype">void</span> registerErrorHandlerFunc(ErrorHandlerFunc);
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="comment">// This is the library-side part of the CPodes constructor. This must</span>
<a name="l00389"></a>00389     <span class="comment">// be done prior to the client side construction.</span>
<a name="l00390"></a>00390     <span class="keywordtype">void</span> librarySideCPodesConstructor(<a class="code" href="classSimTK_1_1CPodes.html#a593f425e72e5b92a20adbfc05faf5ea5">ODEType</a>, <a class="code" href="classSimTK_1_1CPodes.html#a28280488153b6ca92edea890151af5a6">LinearMultistepMethod</a>, <a class="code" href="classSimTK_1_1CPodes.html#a165faf89506ff81fb77e62a5009ce577">NonlinearSystemIterationType</a>);
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     <span class="comment">// Note that this routine MUST be called from client-side code so that</span>
<a name="l00393"></a>00393     <span class="comment">// it picks up exactly the static routines above which will agree with</span>
<a name="l00394"></a>00394     <span class="comment">// the client about the layout of the CPodesSystem virtual function table.</span>
<a name="l00395"></a>00395     <span class="keywordtype">void</span> clientSideCPodesConstructor() {
<a name="l00396"></a>00396         registerExplicitODEFunc(<a class="code" href="namespaceSimTK.html#a03a744f79ed1b8eafc314bb73c1ee86b">explicitODE_static</a>);
<a name="l00397"></a>00397         registerImplicitODEFunc(<a class="code" href="namespaceSimTK.html#a83c3bc1e9723bae2f75c643d789cac96">implicitODE_static</a>);
<a name="l00398"></a>00398         registerConstraintFunc(<a class="code" href="namespaceSimTK.html#a637ce3bfc1ffe924a7071927033bb363">constraint_static</a>);
<a name="l00399"></a>00399         registerProjectFunc(<a class="code" href="namespaceSimTK.html#a4b60261fe7cb14f844c3ba0950414b44">project_static</a>);
<a name="l00400"></a>00400         registerQuadratureFunc(<a class="code" href="namespaceSimTK.html#a1d14c3decdbfd9b247463d4880739a34">quadrature_static</a>);
<a name="l00401"></a>00401         registerRootFunc(<a class="code" href="namespaceSimTK.html#a25d3170b1b969b3c14b2fe0b4b7690e3">root_static</a>);
<a name="l00402"></a>00402         registerWeightFunc(<a class="code" href="namespaceSimTK.html#a00576eff653847f4d19b4218e5955265">weight_static</a>);
<a name="l00403"></a>00403         registerErrorHandlerFunc(<a class="code" href="namespaceSimTK.html#a7bf734cd87406a40d4403b5f90763976">errorHandler_static</a>);
<a name="l00404"></a>00404     }
<a name="l00405"></a>00405 
<a name="l00406"></a>00406     <span class="comment">// FOR INTERNAL USE ONLY</span>
<a name="l00407"></a>00407 <span class="keyword">private</span>:
<a name="l00408"></a>00408     <span class="keyword">class </span>CPodesRep* rep;
<a name="l00409"></a><a class="code" href="classSimTK_1_1CPodes.html#aa23eeefe101c677ebeeae6c4ac482f5f">00409</a>     <span class="keyword">friend</span> <span class="keyword">class </span>CPodesRep;
<a name="l00410"></a>00410 
<a name="l00411"></a>00411     <span class="keyword">const</span> CPodesRep&amp; getRep()<span class="keyword"> const </span>{assert(rep); <span class="keywordflow">return</span> *rep;}
<a name="l00412"></a>00412     CPodesRep&amp;       updRep()       {assert(rep); <span class="keywordflow">return</span> *rep;}
<a name="l00413"></a>00413 
<a name="l00414"></a>00414     <span class="comment">// Suppress copy constructor and default assigment operator.</span>
<a name="l00415"></a>00415     CPodes(<span class="keyword">const</span> CPodes&amp;);
<a name="l00416"></a>00416     CPodes&amp; operator=(<span class="keyword">const</span> CPodes&amp;);
<a name="l00417"></a>00417 };
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 } <span class="comment">// namespace SimTK</span>
<a name="l00420"></a>00420 
<a name="l00421"></a>00421 <span class="preprocessor">#endif // SimTK_CPODES_H_</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="SimTKcpodes_8h.html">SimTKcpodes.h</a>      </li>

    <li class="footer">Generated on Mon Jul 14 2014 23:25:53 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
