# Windows testing using Visual Studio.

# Syntax for this file:
# http://www.appveyor.com/docs/appveyor-yml

shallow_clone: true

install:
  - SET PATH=C:\Program Files (x86)\MSBuild\12.0\bin\;%PATH%
  # Treat all warnings as errors.
  - cmake . -DBUILD_VISUALIZER=OFF

build_script:
  # See http://msdn.microsoft.com/en-us/library/ms164311.aspx for
  # command-line options to MSBuild.
  - MSBuild Simbody.sln /maxcpucount:8 /target:ALL_BUILD /p:Configuration=Release

test_script:
  - ctest -j8 -C "Release" --output-on-failure

