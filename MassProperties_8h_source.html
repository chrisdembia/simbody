<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Simbody: MassProperties.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.4 (development)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('MassProperties_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">MassProperties.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MassProperties_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SimTK_SIMMATRIX_MASS_PROPERTIES_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SimTK_SIMMATRIX_MASS_PROPERTIES_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="comment">/* -------------------------------------------------------------------------- *</span>
<a name="l00005"></a>00005 <span class="comment"> *                       Simbody(tm): SimTKcommon                             *</span>
<a name="l00006"></a>00006 <span class="comment"> * -------------------------------------------------------------------------- *</span>
<a name="l00007"></a>00007 <span class="comment"> * This is part of the SimTK biosimulation toolkit originating from           *</span>
<a name="l00008"></a>00008 <span class="comment"> * Simbios, the NIH National Center for Physics-Based Simulation of           *</span>
<a name="l00009"></a>00009 <span class="comment"> * Biological Structures at Stanford, funded under the NIH Roadmap for        *</span>
<a name="l00010"></a>00010 <span class="comment"> * Medical Research, grant U54 GM072970. See https://simtk.org/home/simbody.  *</span>
<a name="l00011"></a>00011 <span class="comment"> *                                                                            *</span>
<a name="l00012"></a>00012 <span class="comment"> * Portions copyright (c) 2005-12 Stanford University and the Authors.        *</span>
<a name="l00013"></a>00013 <span class="comment"> * Authors: Michael Sherman                                                   *</span>
<a name="l00014"></a>00014 <span class="comment"> * Contributors: Paul Mitiguy                                                 *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                            *</span>
<a name="l00016"></a>00016 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may    *</span>
<a name="l00017"></a>00017 <span class="comment"> * not use this file except in compliance with the License. You may obtain a  *</span>
<a name="l00018"></a>00018 <span class="comment"> * copy of the License at http://www.apache.org/licenses/LICENSE-2.0.         *</span>
<a name="l00019"></a>00019 <span class="comment"> *                                                                            *</span>
<a name="l00020"></a>00020 <span class="comment"> * Unless required by applicable law or agreed to in writing, software        *</span>
<a name="l00021"></a>00021 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,          *</span>
<a name="l00022"></a>00022 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *</span>
<a name="l00023"></a>00023 <span class="comment"> * See the License for the specific language governing permissions and        *</span>
<a name="l00024"></a>00024 <span class="comment"> * limitations under the License.                                             *</span>
<a name="l00025"></a>00025 <span class="comment"> * -------------------------------------------------------------------------- */</span>
<a name="l00026"></a>00026 
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="Scalar_8h.html" title="This is a user-includable header which includes everything needed to make use of SimMatrix Scalar cod...">SimTKcommon/Scalar.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="SmallMatrix_8h.html" title="This file is the user-includeable header to be included in user programs to provide fixed-length Vec ...">SimTKcommon/SmallMatrix.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="Orientation_8h.html" title="These are numerical utility classes for dealing with the relative orientations of geometric objects...">SimTKcommon/Orientation.h</a>&quot;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">namespace </span>SimTK {
<a name="l00050"></a><a class="code" href="group__SpatialAlgebraUtilities.html#ga09c3f8ce9203cc999a69e18bdfa299ea">00050</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2,   Vec3&gt;</a>              <a class="code" href="group__SpatialAlgebraUtilities.html#ga09c3f8ce9203cc999a69e18bdfa299ea" title="Spatial vectors are used for (rotation,translation) quantities and consist of a pair of Vec3 objects...">SpatialVec</a>;
<a name="l00053"></a><a class="code" href="namespaceSimTK.html#a89c7df8a7eb716f7b979a7b757d48889">00053</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2,   Vec&lt;3,float&gt;</a> &gt;    <a class="code" href="namespaceSimTK.html#a89c7df8a7eb716f7b979a7b757d48889" title="A SpatialVec that is always single (float) precision regardless of the compiled-in precision of Real...">fSpatialVec</a>;
<a name="l00056"></a><a class="code" href="namespaceSimTK.html#a3244d1cd64cf9a226ff743e7eb4e264e">00056</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2,   Vec&lt;3,double&gt;</a> &gt;   <a class="code" href="namespaceSimTK.html#a3244d1cd64cf9a226ff743e7eb4e264e" title="A SpatialVec that is always double precision regardless of the compiled-in precision of Real...">dSpatialVec</a>;
<a name="l00057"></a>00057 
<a name="l00060"></a><a class="code" href="group__SpatialAlgebraUtilities.html#gaa093939834c7a15587de84b8fa379572">00060</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Row.html" title="Generic Row.">Row&lt;2,   Row3&gt;</a>              <a class="code" href="group__SpatialAlgebraUtilities.html#gaa093939834c7a15587de84b8fa379572" title="This is the type of a transposed SpatialVec; it does not usually appear explicitly in user programs...">SpatialRow</a>;
<a name="l00063"></a><a class="code" href="namespaceSimTK.html#ae8002831e62016edb58c55ff7a94bfcc">00063</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Row.html" title="Generic Row.">Row&lt;2,   Row&lt;3,float&gt;</a> &gt;    <a class="code" href="namespaceSimTK.html#ae8002831e62016edb58c55ff7a94bfcc" title="A SpatialRow that is always single (float) precision regardless of the compiled-in precision of Real...">fSpatialRow</a>;
<a name="l00066"></a><a class="code" href="namespaceSimTK.html#a2e8fff65912d6c87b0f6d2bd86218cbc">00066</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Row.html" title="Generic Row.">Row&lt;2,   Row&lt;3,double&gt;</a> &gt;   <a class="code" href="namespaceSimTK.html#a2e8fff65912d6c87b0f6d2bd86218cbc" title="A SpatialRow that is always double precision regardless of the compiled-in precision of Real...">dSpatialRow</a>;
<a name="l00067"></a>00067 
<a name="l00072"></a><a class="code" href="group__SpatialAlgebraUtilities.html#ga62d661c98a4b9595b84102e835800511">00072</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2, Mat33&gt;</a>             <a class="code" href="group__SpatialAlgebraUtilities.html#ga62d661c98a4b9595b84102e835800511" title="Spatial matrices are used to hold 6x6 matrices that are best viewed as 2x2 matrices of 3x3 matrices; ...">SpatialMat</a>;
<a name="l00075"></a><a class="code" href="namespaceSimTK.html#a4cd6b4a19d429ce6c1e95ebb9013287e">00075</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2, Mat&lt;3,3,float&gt;</a> &gt;  <a class="code" href="namespaceSimTK.html#a4cd6b4a19d429ce6c1e95ebb9013287e" title="A SpatialMat that is always single (float) precision regardless of the compiled-in precision of Real...">fSpatialMat</a>;
<a name="l00078"></a><a class="code" href="namespaceSimTK.html#acd8f897a91ee59725b172c0b859a5815">00078</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2, Mat&lt;3,3,double&gt;</a> &gt; <a class="code" href="namespaceSimTK.html#acd8f897a91ee59725b172c0b859a5815" title="A SpatialMat that is always double precision regardless of the compiled-in precision of Real...">dSpatialMat</a>;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">// These are templatized by precision (float or double).</span>
<a name="l00081"></a>00081 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>;
<a name="l00082"></a>00082 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>;
<a name="l00083"></a>00083 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>;
<a name="l00084"></a>00084 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>;
<a name="l00085"></a><a class="code" href="namespaceSimTK.html#af4586b331c8fbbb1f3c18d2a1a03ce92">00085</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="comment">// The &quot;no trailing underscore&quot; typedefs use whatever the </span>
<a name="l00088"></a>00088 <span class="comment">// compile-time precision is set to.</span>
<a name="l00089"></a>00089 
<a name="l00091"></a>00091 <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;Real&gt;</a>          <a class="code" href="namespaceSimTK.html#af4586b331c8fbbb1f3c18d2a1a03ce92" title="A unit inertia (gyration) tensor at default precision.">UnitInertia</a>;
<a name="l00093"></a><a class="code" href="namespaceSimTK.html#a477722ebc554f08856ea0f612b27b8c3">00093</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;float&gt;</a>        <a class="code" href="namespaceSimTK.html#a477722ebc554f08856ea0f612b27b8c3" title="A unit inertia (gyration) tensor at float precision.">fUnitInertia</a>;
<a name="l00095"></a><a class="code" href="namespaceSimTK.html#adcce13c4ad58d5aee947072ef9cd3586">00095</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;double&gt;</a>       <a class="code" href="namespaceSimTK.html#adcce13c4ad58d5aee947072ef9cd3586" title="A unit inertia (gyration) tensor at double precision.">dUnitInertia</a>;
<a name="l00096"></a>00096 
<a name="l00098"></a><a class="code" href="namespaceSimTK.html#a71d271165c00227f5ff5951f1218029b">00098</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;Real&gt;</a>              <a class="code" href="namespaceSimTK.html#a71d271165c00227f5ff5951f1218029b" title="An inertia tensor at default precision.">Inertia</a>;
<a name="l00100"></a><a class="code" href="namespaceSimTK.html#ac0bfa6ada6b7f313bca2c045b437a2a5">00100</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;float&gt;</a>            <a class="code" href="namespaceSimTK.html#ac0bfa6ada6b7f313bca2c045b437a2a5" title="An inertia tensor at float precision.">fInertia</a>;
<a name="l00102"></a><a class="code" href="namespaceSimTK.html#a84c419f8747bdcbeb1ef97d96343e01d">00102</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;double&gt;</a>           <a class="code" href="namespaceSimTK.html#a84c419f8747bdcbeb1ef97d96343e01d" title="An inertia tensor at double precision.">dInertia</a>;
<a name="l00103"></a>00103 
<a name="l00105"></a><a class="code" href="namespaceSimTK.html#a9d54d39dfaae29e62c7c1375620f1802">00105</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_&lt;Real&gt;</a>       <a class="code" href="namespaceSimTK.html#a9d54d39dfaae29e62c7c1375620f1802" title="Rigid body mass properties at default precision.">MassProperties</a>;
<a name="l00107"></a><a class="code" href="namespaceSimTK.html#a2dca158d2075cfe285fd5c5bb062c61d">00107</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_&lt;float&gt;</a>     <a class="code" href="namespaceSimTK.html#a2dca158d2075cfe285fd5c5bb062c61d" title="Rigid body mass properties at float precision.">fMassProperties</a>;
<a name="l00109"></a><a class="code" href="namespaceSimTK.html#ae2fd881082f43b2cc419b79624aa6df6">00109</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_&lt;double&gt;</a>    <a class="code" href="namespaceSimTK.html#ae2fd881082f43b2cc419b79624aa6df6" title="Rigid body mass properties at double precision.">dMassProperties</a>;
<a name="l00110"></a>00110 
<a name="l00112"></a><a class="code" href="namespaceSimTK.html#a01fddf4cefc9b5c82cb55789127abe53">00112</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;Real&gt;</a>       <a class="code" href="namespaceSimTK.html#a01fddf4cefc9b5c82cb55789127abe53" title="A spatial (rigid body) inertia matrix at default precision.">SpatialInertia</a>;
<a name="l00114"></a><a class="code" href="namespaceSimTK.html#a9d341aa61d4a6e53db1e610ac22e39b5">00114</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;float&gt;</a>     <a class="code" href="namespaceSimTK.html#a9d341aa61d4a6e53db1e610ac22e39b5" title="A spatial (rigid body) inertia matrix at float precision.">fSpatialInertia</a>;
<a name="l00116"></a><a class="code" href="namespaceSimTK.html#a014e74e4b8e0c5775715942ad5086dea">00116</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;double&gt;</a>    <a class="code" href="namespaceSimTK.html#a014e74e4b8e0c5775715942ad5086dea" title="A spatial (rigid body) inertia matrix at double precision.">dSpatialInertia</a>;
<a name="l00117"></a>00117 
<a name="l00119"></a><a class="code" href="namespaceSimTK.html#ab1473db0cef6d6f29b827de9f1b3cb9f">00119</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;Real&gt;</a>    <a class="code" href="namespaceSimTK.html#ab1473db0cef6d6f29b827de9f1b3cb9f" title="An articulated body inertia matrix at default precision.">ArticulatedInertia</a>;
<a name="l00121"></a><a class="code" href="namespaceSimTK.html#a5d2d90552acc185537775410bcbeed3d">00121</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;float&gt;</a>  <a class="code" href="namespaceSimTK.html#a5d2d90552acc185537775410bcbeed3d" title="An articulated body inertia matrix at float precision.">fArticulatedInertia</a>;
<a name="l00123"></a><a class="code" href="namespaceSimTK.html#a836979f05f6f8ff960c2e6eef8d0e6ce">00123</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;double&gt;</a> <a class="code" href="namespaceSimTK.html#a836979f05f6f8ff960c2e6eef8d0e6ce" title="An articulated body inertia matrix at double precision.">dArticulatedInertia</a>;
<a name="l00124"></a>00124 
<a name="l00126"></a><a class="code" href="namespaceSimTK.html#a51507d2e5a82282fd8ec7ff82886d16c">00126</a> <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia</a>  <a class="code" href="namespaceSimTK.html#a51507d2e5a82282fd8ec7ff82886d16c" title="For backwards compatibility only; use UnitInertia instead.">Gyration</a>;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00129"></a>00129 <span class="comment">//                             INERTIA MATRIX</span>
<a name="l00130"></a>00130 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00192"></a>00192 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt;
<a name="l00193"></a><a class="code" href="classSimTK_1_1Inertia__.html">00193</a> <span class="keyword">class </span><a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> {
<a name="l00194"></a>00194     <span class="keyword">typedef</span> P               RealP;
<a name="l00195"></a>00195     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l00196"></a>00196     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l00197"></a>00197     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l00198"></a>00198     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l00199"></a>00199 <span class="keyword">public</span>:
<a name="l00202"></a><a class="code" href="classSimTK_1_1Inertia__.html#aa2b329d1fc62a9c7b952d1b3c88dff71">00202</a> <a class="code" href="classSimTK_1_1Inertia__.html#aa2b329d1fc62a9c7b952d1b3c88dff71" title="Default is a NaN-ed out mess to avoid accidents, even in Release mode.">Inertia_</a>() : I_OF_F(<a class="code" href="classSimTK_1_1NTraits.html">NTraits</a>&lt;P&gt;::getNaN()) {}
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="comment">// Default copy constructor, copy assignment, destructor.</span>
<a name="l00205"></a>00205 
<a name="l00212"></a><a class="code" href="classSimTK_1_1Inertia__.html#a67cd5c9309fe5d443af3964bd030d2f9">00212</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> RealP&amp; moment) : I_OF_F(moment) 
<a name="l00213"></a>00213 {   errChk(<span class="stringliteral">&quot;Inertia::Inertia(moment)&quot;</span>); }
<a name="l00214"></a>00214 
<a name="l00218"></a><a class="code" href="classSimTK_1_1Inertia__.html#af3e29578287d59727cfc7427d0047c88">00218</a> <a class="code" href="classSimTK_1_1Inertia__.html#af3e29578287d59727cfc7427d0047c88" title="Create an Inertia matrix for a point mass at a given location, measured from the origin OF of the imp...">Inertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p, <span class="keyword">const</span> RealP&amp; mass) : I_OF_F(pointMassAt(p,mass)) {}
<a name="l00219"></a>00219 
<a name="l00224"></a><a class="code" href="classSimTK_1_1Inertia__.html#a6757715dbe6c947a0fee42b40899b39f">00224</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; moments, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; products=<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0)) 
<a name="l00225"></a>00225 {   I_OF_F.updDiag()  = moments;
<a name="l00226"></a>00226     I_OF_F.updLower() = products;
<a name="l00227"></a>00227     errChk(<span class="stringliteral">&quot;Inertia::Inertia(moments,products)&quot;</span>); }
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="classSimTK_1_1Inertia__.html#afffe875cb713abfe04736892484d7d51">00230</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz) 
<a name="l00231"></a>00231 {   I_OF_F = <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>(xx,
<a name="l00232"></a>00232                         0, yy,
<a name="l00233"></a>00233                         0,  0, zz);
<a name="l00234"></a>00234     errChk(<span class="stringliteral">&quot;Inertia::setInertia(xx,yy,zz)&quot;</span>); }
<a name="l00235"></a>00235 
<a name="l00238"></a><a class="code" href="classSimTK_1_1Inertia__.html#a5170b86e5d3b138e93108721fb598b90">00238</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz,
<a name="l00239"></a>00239             <span class="keyword">const</span> RealP&amp; xy, <span class="keyword">const</span> RealP&amp; xz, <span class="keyword">const</span> RealP&amp; yz) 
<a name="l00240"></a>00240 {   I_OF_F = <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>(xx,
<a name="l00241"></a>00241                         xy, yy,
<a name="l00242"></a>00242                         xz, yz, zz);
<a name="l00243"></a>00243     errChk(<span class="stringliteral">&quot;Inertia::setInertia(xx,yy,zz,xy,xz,yz)&quot;</span>); }
<a name="l00244"></a>00244 
<a name="l00247"></a><a class="code" href="classSimTK_1_1Inertia__.html#ac3641e81e5b3f2d294fb0b27807b6ff5">00247</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>) : I_OF_F(I) 
<a name="l00248"></a>00248 {   errChk(<span class="stringliteral">&quot;Inertia::Inertia(SymMat33)&quot;</span>); }
<a name="l00249"></a>00249 
<a name="l00253"></a><a class="code" href="classSimTK_1_1Inertia__.html#aaafd3401dc8ca2b5c2dac17e43701549">00253</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; m)
<a name="l00254"></a>00254 {   <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(m.<a class="code" href="classSimTK_1_1Mat.html#a727a38909f2978a2c63e5aef49af24fd" title="A Matrix is symmetric (actually Hermitian) if it is square and each element (i,j) is the Hermitian tr...">isNumericallySymmetric</a>(), 
<a name="l00255"></a>00255                     <span class="stringliteral">&quot;Inertia(Mat33)&quot;</span>, <span class="stringliteral">&quot;The supplied matrix was not symmetric.&quot;</span>);
<a name="l00256"></a>00256     I_OF_F = <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>(m);
<a name="l00257"></a>00257     errChk(<span class="stringliteral">&quot;Inertia(Mat33)&quot;</span>); }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00262"></a><a class="code" href="classSimTK_1_1Inertia__.html#a1ef4b5dc3fdac7589ae14a9f0e79e6b1">00262</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#a1ef4b5dc3fdac7589ae14a9f0e79e6b1" title="Set an inertia matrix to have only principal moments (that is, it will be diagonal).">setInertia</a>(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz) {
<a name="l00263"></a>00263     I_OF_F = RealP(0); I_OF_F(0,0) = xx; I_OF_F(1,1) = yy;  I_OF_F(2,2) = zz;
<a name="l00264"></a>00264     errChk(<span class="stringliteral">&quot;Inertia::setInertia(xx,yy,zz)&quot;</span>);
<a name="l00265"></a>00265     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00266"></a>00266 }
<a name="l00267"></a>00267 
<a name="l00270"></a><a class="code" href="classSimTK_1_1Inertia__.html#a51b76c4a2fa12cb3f5346feabb1688e5">00270</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#a51b76c4a2fa12cb3f5346feabb1688e5" title="Set principal moments and optionally off-diagonal terms.">setInertia</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; moments, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; products=<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0)) {
<a name="l00271"></a>00271     I_OF_F.updDiag()  = moments;
<a name="l00272"></a>00272     I_OF_F.updLower() = products;
<a name="l00273"></a>00273     errChk(<span class="stringliteral">&quot;Inertia::setInertia(moments,products)&quot;</span>);
<a name="l00274"></a>00274     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00282"></a><a class="code" href="classSimTK_1_1Inertia__.html#a172f5d103b854fe80b7b175cbdf1b165">00282</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; setInertia(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz,
<a name="l00283"></a>00283                         <span class="keyword">const</span> RealP&amp; xy, <span class="keyword">const</span> RealP&amp; xz, <span class="keyword">const</span> RealP&amp; yz) {
<a name="l00284"></a>00284     setInertia(<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(xx,yy,zz), <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(xy,xz,yz));
<a name="l00285"></a>00285     errChk(<span class="stringliteral">&quot;Inertia::setInertia(xx,yy,zz,xy,xz,yz)&quot;</span>);
<a name="l00286"></a>00286     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00287"></a>00287 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00292"></a><a class="code" href="classSimTK_1_1Inertia__.html#a0b8cc05842288fb68def46feccbcbb0a">00292</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; operator+=(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>) 
<a name="l00293"></a>00293 {   I_OF_F += I.<a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">I_OF_F</a>; 
<a name="l00294"></a>00294     errChk(<span class="stringliteral">&quot;Inertia::operator+=()&quot;</span>);
<a name="l00295"></a>00295     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00296"></a>00296 
<a name="l00299"></a><a class="code" href="classSimTK_1_1Inertia__.html#a4d3d28adcf0756e94c4786ec1e4b451b">00299</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; operator-=(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>) 
<a name="l00300"></a>00300 {   I_OF_F -= I.<a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">I_OF_F</a>; 
<a name="l00301"></a>00301     errChk(<span class="stringliteral">&quot;Inertia::operator-=()&quot;</span>);
<a name="l00302"></a>00302     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00303"></a>00303 
<a name="l00305"></a><a class="code" href="classSimTK_1_1Inertia__.html#a2b50d1bec66484957bb0ebe1be4d1736">00305</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#a2b50d1bec66484957bb0ebe1be4d1736" title="Multiply this inertia matrix by a scalar. Cost is 6 flops.">operator*=</a>(<span class="keyword">const</span> P&amp; s) {I_OF_F *= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00306"></a>00306 
<a name="l00309"></a><a class="code" href="classSimTK_1_1Inertia__.html#a2d583c80cb337680c60b88dc455e8eed">00309</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#a2d583c80cb337680c60b88dc455e8eed" title="Divide this inertia matrix by a scalar.">operator/=</a>(<span class="keyword">const</span> P&amp; s) {I_OF_F /= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00310"></a>00310 
<a name="l00320"></a><a class="code" href="classSimTK_1_1Inertia__.html#a000e4873c70bd977a2ecaba19be60794">00320</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> shiftToMassCenter(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; CF, <span class="keyword">const</span> RealP&amp; mass)<span class="keyword"> const </span>
<a name="l00321"></a>00321 <span class="keyword"></span>{   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>(*<span class="keyword">this</span>); I -= pointMassAt(CF, mass);
<a name="l00322"></a>00322     I.<a class="code" href="classSimTK_1_1Inertia__.html#ada96544452d94f01b0f5167c8be260d7">errChk</a>(<span class="stringliteral">&quot;Inertia::shiftToMassCenter()&quot;</span>);
<a name="l00323"></a>00323     <span class="keywordflow">return</span> <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>; }
<a name="l00324"></a>00324 
<a name="l00335"></a><a class="code" href="classSimTK_1_1Inertia__.html#a7faa542f554572d91f36d013fa531aa2">00335</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; shiftToMassCenterInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; CF, <span class="keyword">const</span> RealP&amp; mass) 
<a name="l00336"></a>00336 {   (*this) -= pointMassAt(CF, mass);
<a name="l00337"></a>00337     errChk(<span class="stringliteral">&quot;Inertia::shiftToMassCenterInPlace()&quot;</span>);
<a name="l00338"></a>00338     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00339"></a>00339 
<a name="l00347"></a><a class="code" href="classSimTK_1_1Inertia__.html#a9cad56af59c6eb1c306dd7dca0f77f27">00347</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> shiftFromMassCenter(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p, <span class="keyword">const</span> RealP&amp; mass)<span class="keyword"> const</span>
<a name="l00348"></a>00348 <span class="keyword"></span>{   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>(*<span class="keyword">this</span>); I += pointMassAt(p, mass);
<a name="l00349"></a>00349     I.<a class="code" href="classSimTK_1_1Inertia__.html#ada96544452d94f01b0f5167c8be260d7">errChk</a>(<span class="stringliteral">&quot;Inertia::shiftFromMassCenter()&quot;</span>);
<a name="l00350"></a>00350     <span class="keywordflow">return</span> <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>; }
<a name="l00351"></a>00351 
<a name="l00360"></a><a class="code" href="classSimTK_1_1Inertia__.html#aa86c57dbb5548ab99a910bb24f1c07d5">00360</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; shiftFromMassCenterInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p, <span class="keyword">const</span> RealP&amp; mass)
<a name="l00361"></a>00361 {   (*this) += pointMassAt(p, mass);
<a name="l00362"></a>00362     errChk(<span class="stringliteral">&quot;Inertia::shiftFromMassCenterInPlace()&quot;</span>);
<a name="l00363"></a>00363     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00364"></a>00364 
<a name="l00375"></a><a class="code" href="classSimTK_1_1Inertia__.html#a8ded5c13f1f5cee2aec5319953eb401c">00375</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const </span>
<a name="l00376"></a>00376 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>((~R_FB).reexpressSymMat33(I_OF_F)); }
<a name="l00377"></a>00377 
<a name="l00380"></a><a class="code" href="classSimTK_1_1Inertia__.html#a73c802f5dab0c8aba78da00df82a73f4">00380</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const </span>
<a name="l00381"></a>00381 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>((~R_FB).reexpressSymMat33(I_OF_F)); }
<a name="l00382"></a>00382 
<a name="l00387"></a><a class="code" href="classSimTK_1_1Inertia__.html#a4c4a49f053e7c11240ad4e802786f254">00387</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l00388"></a>00388 {   I_OF_F = (~R_FB).reexpressSymMat33(I_OF_F); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00389"></a>00389 
<a name="l00392"></a><a class="code" href="classSimTK_1_1Inertia__.html#a4021fe4887710d1285fc6d1c5bd728aa">00392</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l00393"></a>00393 {   I_OF_F = (~R_FB).reexpressSymMat33(I_OF_F); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00394"></a>00394 
<a name="l00395"></a><a class="code" href="classSimTK_1_1Inertia__.html#a23859436a032c1e574cf1436330e50dc">00395</a> RealP <a class="code" href="classSimTK_1_1Inertia__.html#a23859436a032c1e574cf1436330e50dc">trace</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> I_OF_F.trace();}
<a name="l00396"></a>00396 
<a name="l00398"></a><a class="code" href="classSimTK_1_1Inertia__.html#ae1c83f66b07a3633caf070d8896e17b7">00398</a> operator const SymMat33P&amp;()<span class="keyword"> const </span>{<span class="keywordflow">return</span> I_OF_F;}
<a name="l00399"></a>00399 
<a name="l00401"></a><a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc">00401</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc" title="Obtain a reference to the underlying symmetric matrix type.">asSymMat33</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> I_OF_F;}
<a name="l00402"></a>00402 
<a name="l00405"></a><a class="code" href="classSimTK_1_1Inertia__.html#a36c0ed7f30e9a7c6a4789bfb5b05775c">00405</a> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> <a class="code" href="classSimTK_1_1Inertia__.html#a36c0ed7f30e9a7c6a4789bfb5b05775c" title="Expand the internal packed representation into a full 3x3 symmetric matrix with all elements set...">toMat33</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(I_OF_F);}
<a name="l00406"></a>00406 
<a name="l00409"></a><a class="code" href="classSimTK_1_1Inertia__.html#a12695d09b41d77ca188b70ac9fa454c3">00409</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#a12695d09b41d77ca188b70ac9fa454c3" title="Obtain the inertia moments (diagonal of the Inertia matrix) as a Vec3 ordered xx, yy...">getMoments</a>()<span class="keyword">  const </span>{<span class="keywordflow">return</span> I_OF_F.getDiag();}
<a name="l00412"></a><a class="code" href="classSimTK_1_1Inertia__.html#ab8518a3d580aef33a332fca0c264db96">00412</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; <a class="code" href="classSimTK_1_1Inertia__.html#ab8518a3d580aef33a332fca0c264db96" title="Obtain the inertia products (off-diagonals of the Inertia matrix) as a Vec3 with elements ordered xy...">getProducts</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> I_OF_F.getLower();}
<a name="l00413"></a>00413 
<a name="l00414"></a><a class="code" href="classSimTK_1_1Inertia__.html#ab23a4618b211aa416301b7639fbc9dc3">00414</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1Inertia__.html#ab23a4618b211aa416301b7639fbc9dc3">isNaN</a>()<span class="keyword">    const </span>{<span class="keywordflow">return</span> I_OF_F.isNaN();}
<a name="l00415"></a><a class="code" href="classSimTK_1_1Inertia__.html#a5ff49432033de46bc8d43ace62269461">00415</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1Inertia__.html#a5ff49432033de46bc8d43ace62269461">isInf</a>()<span class="keyword">    const </span>{<span class="keywordflow">return</span> I_OF_F.isInf();}
<a name="l00416"></a><a class="code" href="classSimTK_1_1Inertia__.html#a68d1d61b83d7a7b17d9728d1211a9ebb">00416</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1Inertia__.html#a68d1d61b83d7a7b17d9728d1211a9ebb">isFinite</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> I_OF_F.isFinite();}
<a name="l00417"></a>00417 
<a name="l00421"></a><a class="code" href="classSimTK_1_1Inertia__.html#a3f1dc63b25c031af43cae91862ae9c74">00421</a> <span class="keywordtype">bool</span> <a class="code" href="group__isNumericallyEqual.html#ga7c26dcc1bc5c5edf388e8bd1675cd884" title="Compare two floats for approximate equality.">isNumericallyEqual</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; other)<span class="keyword"> const </span>
<a name="l00422"></a>00422 <span class="keyword"></span>{   <span class="keywordflow">return</span> I_OF_F.isNumericallyEqual(other.<a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">I_OF_F</a>); }
<a name="l00423"></a>00423 
<a name="l00427"></a><a class="code" href="classSimTK_1_1Inertia__.html#af7e057e5f4b948bb560b5d9a8e812e40">00427</a> <span class="keywordtype">bool</span> <a class="code" href="group__isNumericallyEqual.html#ga7c26dcc1bc5c5edf388e8bd1675cd884" title="Compare two floats for approximate equality.">isNumericallyEqual</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; other, <span class="keywordtype">double</span> tol)<span class="keyword"> const </span>
<a name="l00428"></a>00428 <span class="keyword"></span>{   <span class="keywordflow">return</span> I_OF_F.isNumericallyEqual(other.<a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">I_OF_F</a>, tol); }
<a name="l00429"></a>00429 
<a name="l00432"></a><a class="code" href="classSimTK_1_1Inertia__.html#a09065c454fb39eec2dee757f63ff277e">00432</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1Inertia__.html#a09065c454fb39eec2dee757f63ff277e" title="Test some conditions that must hold for a valid Inertia matrix.">isValidInertiaMatrix</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; m) {
<a name="l00433"></a>00433     <span class="keywordflow">if</span> (m.<a class="code" href="classSimTK_1_1SymMat.html#a84f0a45bd84d85bb2ae5d47d55c61ef5" title="Return true if any element of this SymMat contains a NaN anywhere.">isNaN</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; d = m.<a class="code" href="classSimTK_1_1SymMat.html#a910890d639d8b31b8bdaa5a198a7b8c6">diag</a>();
<a name="l00436"></a>00436     <span class="keywordflow">if</span> (!(d &gt;= 0)) <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// diagonals must be nonnegative</span>
<a name="l00437"></a>00437 
<a name="l00438"></a>00438     <span class="keyword">const</span> RealP Slop = <a class="code" href="namespaceSimTK.html#a5e54f17d86aeb08126d641bea4ba6f86">std::max</a>(d.<a class="code" href="classSimTK_1_1Vec.html#a051dc2d9f18a5b8b192e6e33c2dd49b4" title="Sum just adds up all the elements into a single return element that is the same type as this Vec&#39;s el...">sum</a>(),RealP(1))
<a name="l00439"></a>00439                        * <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;P&gt;::getSignificant</a>();
<a name="l00440"></a>00440 
<a name="l00441"></a>00441     <span class="keywordflow">if</span> (!(d[0]+d[1]+Slop&gt;=d[2] &amp;&amp; d[0]+d[2]+Slop&gt;=d[1] &amp;&amp; d[1]+d[2]+Slop&gt;=d[0]))
<a name="l00442"></a>00442         <span class="keywordflow">return</span> <span class="keyword">false</span>;               <span class="comment">// must satisfy triangle inequality</span>
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     <span class="comment">// Thanks to Paul Mitiguy for this condition on products of inertia.</span>
<a name="l00445"></a>00445     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p = m.<a class="code" href="classSimTK_1_1SymMat.html#a8714db2a9bfdc74d5c8ffb0e1c13c8c4">getLower</a>();
<a name="l00446"></a>00446     <span class="keywordflow">if</span> (!( d[0]+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*p[2])
<a name="l00447"></a>00447         &amp;&amp; d[1]+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*p[1])
<a name="l00448"></a>00448         &amp;&amp; d[2]+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*p[0])))
<a name="l00449"></a>00449         <span class="keywordflow">return</span> <span class="keyword">false</span>;               <span class="comment">// max products are limited by moments</span>
<a name="l00450"></a>00450 
<a name="l00451"></a>00451     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00452"></a>00452 }
<a name="l00453"></a>00453 
<a name="l00456"></a><a class="code" href="classSimTK_1_1Inertia__.html#adaf11cafc9975fd5e6072f12548a467f">00456</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> <a class="code" href="classSimTK_1_1Inertia__.html#adaf11cafc9975fd5e6072f12548a467f" title="Create an Inertia matrix for a point located at the origin -- that is, an all-zero matrix...">pointMassAtOrigin</a>() {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>(0);}
<a name="l00457"></a>00457 
<a name="l00462"></a><a class="code" href="classSimTK_1_1Inertia__.html#aa644c212473bd29473a768d15caf291e">00462</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> <a class="code" href="classSimTK_1_1Inertia__.html#aa644c212473bd29473a768d15caf291e" title="Create an Inertia matrix for a point of a given mass, located at a given location measured from the o...">pointMassAt</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p, <span class="keyword">const</span> RealP&amp; m) {
<a name="l00463"></a>00463     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> mp = m*p;       <span class="comment">// 3 flops</span>
<a name="l00464"></a>00464     <span class="keyword">const</span> RealP mxx = mp[0]*p[0];
<a name="l00465"></a>00465     <span class="keyword">const</span> RealP myy = mp[1]*p[1];
<a name="l00466"></a>00466     <span class="keyword">const</span> RealP mzz = mp[2]*p[2];
<a name="l00467"></a>00467     <span class="keyword">const</span> RealP nmx = -mp[0];
<a name="l00468"></a>00468     <span class="keyword">const</span> RealP nmy = -mp[1];
<a name="l00469"></a>00469     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>( myy+mzz,  mxx+mzz,  mxx+myy,
<a name="l00470"></a>00470                         nmx*p[1], nmx*p[2], nmy*p[2] );
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 
<a name="l00482"></a>00482 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> sphere(<span class="keyword">const</span> RealP&amp; r);
<a name="l00483"></a>00483 
<a name="l00486"></a>00486 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> cylinderAlongZ(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hz);
<a name="l00487"></a>00487 
<a name="l00490"></a>00490 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> cylinderAlongY(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hy);
<a name="l00491"></a>00491 
<a name="l00494"></a>00494 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> cylinderAlongX(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hx);
<a name="l00495"></a>00495 
<a name="l00499"></a>00499 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> brick(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz);
<a name="l00500"></a>00500 
<a name="l00502"></a>00502 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> brick(<span class="keyword">const</span> Vec3P&amp; halfLengths);
<a name="l00503"></a>00503 
<a name="l00505"></a>00505 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> ellipsoid(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz);
<a name="l00506"></a>00506 
<a name="l00508"></a>00508 <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a> ellipsoid(<span class="keyword">const</span> Vec3P&amp; halfLengths);
<a name="l00509"></a>00509 
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 <span class="keyword">protected</span>:
<a name="l00513"></a>00513 <span class="comment">// Reinterpret this Inertia matrix as a UnitInertia matrix, that is, as the</span>
<a name="l00514"></a>00514 <span class="comment">// inertia of something with unit mass. This is useful in implementing</span>
<a name="l00515"></a>00515 <span class="comment">// methods of the UnitInertia class in terms of Inertia methods. Be sure you</span>
<a name="l00516"></a>00516 <span class="comment">// know that this is a unit-mass inertia!</span>
<a name="l00517"></a><a class="code" href="classSimTK_1_1Inertia__.html#a9f881a10d5ca19fad90ad60b5491fbf5">00517</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a>&amp; getAsUnitInertia()<span class="keyword"> const</span>
<a name="l00518"></a>00518 <span class="keyword"></span>{   <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00519"></a><a class="code" href="classSimTK_1_1Inertia__.html#a2542289a1b1ae02d15d2e6ca581b5f03">00519</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a>&amp; updAsUnitInertia()
<a name="l00520"></a>00520 {   <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span><a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="comment">// If error checking is enabled (only in Debug mode), this </span>
<a name="l00523"></a>00523 <span class="comment">// method will run some tests on the current contents of this Inertia </span>
<a name="l00524"></a>00524 <span class="comment">// matrix and throw an error message if it is not valid. This should be </span>
<a name="l00525"></a>00525 <span class="comment">// the same set of tests as run by the isValidInertiaMatrix() method above.</span>
<a name="l00526"></a><a class="code" href="classSimTK_1_1Inertia__.html#ada96544452d94f01b0f5167c8be260d7">00526</a> <span class="keywordtype">void</span> <a class="code" href="classSimTK_1_1Inertia__.html#ada96544452d94f01b0f5167c8be260d7">errChk</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* methodName)<span class="keyword"> const </span>{
<a name="l00527"></a>00527 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00528"></a>00528 <span class="preprocessor"></span>    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(!<a class="code" href="group__isNaN.html#ga9da8ecd39778e545317bf7118e5715c8">isNaN</a>(), methodName,
<a name="l00529"></a>00529         <span class="stringliteral">&quot;Inertia matrix contains a NaN.&quot;</span>);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; d = I_OF_F.getDiag();  <span class="comment">// moments</span>
<a name="l00532"></a>00532     <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p = I_OF_F.getLower(); <span class="comment">// products</span>
<a name="l00533"></a>00533     <span class="keyword">const</span> RealP Ixx = d[0], Iyy = d[1], Izz = d[2];
<a name="l00534"></a>00534     <span class="keyword">const</span> RealP Ixy = p[0], Ixz = p[1], Iyz = p[2];
<a name="l00535"></a>00535 
<a name="l00536"></a>00536     <a class="code" href="ExceptionMacros_8h.html#ab0e7127e868fb30c591df2e472bc64b2">SimTK_ERRCHK3</a>(d &gt;= -<a class="code" href="group__TypedNumConstants.html#ga2026d7a87fa1a6a089bf866339521e8f" title="SignificantReal is the smallest value that we consider to be clearly distinct from roundoff error whe...">SignificantReal</a>, methodName,
<a name="l00537"></a>00537         <span class="stringliteral">&quot;Diagonals of an Inertia matrix must be nonnegative; got %g,%g,%g.&quot;</span>,
<a name="l00538"></a>00538         (<span class="keywordtype">double</span>)Ixx,(<span class="keywordtype">double</span>)Iyy,(<span class="keywordtype">double</span>)Izz);
<a name="l00539"></a>00539 
<a name="l00540"></a>00540     <span class="comment">// TODO: This is looser than it should be as a workaround for distorted</span>
<a name="l00541"></a>00541     <span class="comment">// rotation matrices that were produced by an 11,000 body chain that</span>
<a name="l00542"></a>00542     <span class="comment">// Sam Flores encountered. </span>
<a name="l00543"></a>00543     <span class="keyword">const</span> RealP Slop = <a class="code" href="namespaceSimTK.html#a5e54f17d86aeb08126d641bea4ba6f86">std::max</a>(d.<a class="code" href="classSimTK_1_1Vec.html#a051dc2d9f18a5b8b192e6e33c2dd49b4" title="Sum just adds up all the elements into a single return element that is the same type as this Vec&#39;s el...">sum</a>(),RealP(1))
<a name="l00544"></a>00544                        * std::sqrt(<a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;P&gt;::getEps</a>());
<a name="l00545"></a>00545 
<a name="l00546"></a>00546     <a class="code" href="ExceptionMacros_8h.html#ab0e7127e868fb30c591df2e472bc64b2">SimTK_ERRCHK3</a>(   Ixx+Iyy+Slop&gt;=Izz 
<a name="l00547"></a>00547                   &amp;&amp; Ixx+Izz+Slop&gt;=Iyy 
<a name="l00548"></a>00548                   &amp;&amp; Iyy+Izz+Slop&gt;=Ixx,
<a name="l00549"></a>00549         methodName,
<a name="l00550"></a>00550         <span class="stringliteral">&quot;Diagonals of an Inertia matrix must satisfy the triangle &quot;</span>
<a name="l00551"></a>00551         <span class="stringliteral">&quot;inequality; got %g,%g,%g.&quot;</span>,
<a name="l00552"></a>00552         (<span class="keywordtype">double</span>)Ixx,(<span class="keywordtype">double</span>)Iyy,(<span class="keywordtype">double</span>)Izz);
<a name="l00553"></a>00553 
<a name="l00554"></a>00554     <span class="comment">// Thanks to Paul Mitiguy for this condition on products of inertia.</span>
<a name="l00555"></a>00555     <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(   Ixx+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*Iyz) 
<a name="l00556"></a>00556                  &amp;&amp; Iyy+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*Ixz)
<a name="l00557"></a>00557                  &amp;&amp; Izz+Slop&gt;=<a class="code" href="namespaceSimTK.html#a63210772f3bd9e4b2eb35309408b173e">std::abs</a>(2*Ixy),
<a name="l00558"></a>00558         methodName,
<a name="l00559"></a>00559         <span class="stringliteral">&quot;The magnitude of a product of inertia was too large to be physical.&quot;</span>);
<a name="l00560"></a>00560 <span class="preprocessor">#endif</span>
<a name="l00561"></a>00561 <span class="preprocessor"></span>}
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="comment">// Inertia expressed in frame F and about F&#39;s origin OF. Note that frame F</span>
<a name="l00564"></a>00564 <span class="comment">// is implicit here; all we actually have are the inertia scalars.</span>
<a name="l00565"></a><a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">00565</a> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a> <a class="code" href="classSimTK_1_1Inertia__.html#a12f924bcb499f181af8687660f939d04">I_OF_F</a>; 
<a name="l00566"></a>00566 };
<a name="l00567"></a>00567 
<a name="l00572"></a>00572 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00573"></a><a class="code" href="classSimTK_1_1Inertia__.html#aa13a2386109b73510feedacbc00dcb06">00573</a> <a class="code" href="namespaceSimTK.html#a424ccc5c7500fa0548d766f8e04191d4">operator+</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; r) 
<a name="l00574"></a>00574 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(l) += r; }
<a name="l00575"></a>00575 
<a name="l00581"></a>00581 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00582"></a><a class="code" href="classSimTK_1_1Inertia__.html#ad11356749d9b854ac7c54941f8898123">00582</a> <a class="code" href="namespaceSimTK.html#a195414de1c9364a719375c0f6f5900d7">operator-</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; r) 
<a name="l00583"></a>00583 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(l) -= r; }
<a name="l00584"></a>00584 
<a name="l00587"></a>00587 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00588"></a><a class="code" href="classSimTK_1_1Inertia__.html#a0e0178f717c4a3c324ae9e7acbe670b5">00588</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i, <span class="keyword">const</span> P&amp; r) 
<a name="l00589"></a>00589 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) *= r; }
<a name="l00590"></a>00590 
<a name="l00593"></a>00593 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00594"></a><a class="code" href="classSimTK_1_1Inertia__.html#a81c2f71a5c2f03e9ae1be20477721e51">00594</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> P&amp; r, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i) 
<a name="l00595"></a>00595 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) *= r; }
<a name="l00596"></a>00596 
<a name="l00597"></a>00597 
<a name="l00601"></a>00601 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00602"></a><a class="code" href="classSimTK_1_1Inertia__.html#a4f803c5be5d23c79883c07160c1b3fff">00602</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i, <span class="keywordtype">int</span> r) 
<a name="l00603"></a>00603 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) *= P(r); }
<a name="l00604"></a>00604 
<a name="l00608"></a>00608 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00609"></a><a class="code" href="classSimTK_1_1Inertia__.html#a11dbacbcdcafff80ec99c068987b8323">00609</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keywordtype">int</span> r, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i) 
<a name="l00610"></a>00610 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) *= P(r); }
<a name="l00611"></a>00611 
<a name="l00615"></a>00615 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00616"></a><a class="code" href="classSimTK_1_1Inertia__.html#a4d2db9435adf44e235f3165f8274d58b">00616</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i, <span class="keyword">const</span> P&amp; r) 
<a name="l00617"></a>00617 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) /= r; }
<a name="l00618"></a>00618 
<a name="l00622"></a>00622 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>
<a name="l00623"></a><a class="code" href="classSimTK_1_1Inertia__.html#a51fba91692c4dd54851b29a7ccac6317">00623</a> <a class="code" href="namespaceSimTK.html#a289810e16cb099ab1e48a2ad94882077">operator/</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i, <span class="keywordtype">int</span> r) 
<a name="l00624"></a>00624 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>(i) /= P(r); }
<a name="l00625"></a>00625 
<a name="l00629"></a>00629 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>
<a name="l00630"></a><a class="code" href="classSimTK_1_1Inertia__.html#a5c8ce4e99ab6b63e6786f47f4647f939">00630</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>&amp; w) 
<a name="l00631"></a>00631 {   <span class="keywordflow">return</span> I.<a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc" title="Obtain a reference to the underlying symmetric matrix type.">asSymMat33</a>() * w; }
<a name="l00632"></a>00632 
<a name="l00637"></a>00637 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00638"></a><a class="code" href="classSimTK_1_1Inertia__.html#ad3306602216739add773fc2b00440560">00638</a> <a class="code" href="namespaceSimTK.html#ac56336ea74b71f07f371d943bd5cdba0">operator==</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; i2) 
<a name="l00639"></a>00639 {   <span class="keywordflow">return</span> i1.<a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc" title="Obtain a reference to the underlying symmetric matrix type.">asSymMat33</a>() == i2.<a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc" title="Obtain a reference to the underlying symmetric matrix type.">asSymMat33</a>(); }
<a name="l00640"></a>00640 
<a name="l00644"></a>00644 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> std::ostream&amp; 
<a name="l00645"></a><a class="code" href="classSimTK_1_1Inertia__.html#a8cb59637de516910c73d319d793f53db">00645</a> operator&lt;&lt;(std::ostream&amp; o, const Inertia_&lt;P&gt;&amp; inertia)
<a name="l00646"></a>00646 {   <span class="keywordflow">return</span> o &lt;&lt; inertia.toMat33(); }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648 
<a name="l00649"></a>00649 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00650"></a>00650 <span class="comment">//                            UNIT INERTIA MATRIX</span>
<a name="l00651"></a>00651 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00672"></a>00672 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt;
<a name="l00673"></a><a class="code" href="classSimTK_1_1UnitInertia__.html">00673</a> <span class="keyword">class </span><a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> : <span class="keyword">public</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_</a>&lt;P&gt; {
<a name="l00674"></a>00674     <span class="keyword">typedef</span> P               RealP;
<a name="l00675"></a>00675     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l00676"></a>00676     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l00677"></a>00677     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l00678"></a>00678     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l00679"></a>00679     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>     <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>;
<a name="l00680"></a>00680 <span class="keyword">public</span>:
<a name="l00683"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#ae99be8ef0c02a608415ac09cd4c08d9e">00683</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#ae99be8ef0c02a608415ac09cd4c08d9e" title="Default is a NaN-ed out mess to avoid accidents, even in Release mode.">UnitInertia_</a>() {}
<a name="l00684"></a>00684 
<a name="l00685"></a>00685 <span class="comment">// Default copy constructor, copy assignment, destructor.</span>
<a name="l00686"></a>00686 
<a name="l00690"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a387d94e0b21d63c31abee6e38d13a3c2">00690</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a387d94e0b21d63c31abee6e38d13a3c2" title="Create a principal unit inertia matrix with identical diagonal elements.">UnitInertia_</a>(<span class="keyword">const</span> RealP&amp; moment) : <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(moment) {}
<a name="l00691"></a>00691 
<a name="l00696"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a428d474987b57e275010e899df64b634">00696</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; moments, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; products=<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0))
<a name="l00697"></a>00697 :   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(moments,products) {}
<a name="l00698"></a>00698 
<a name="l00700"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#acece1584634f71dc9d42338275358438">00700</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz)
<a name="l00701"></a>00701 :   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(xx,yy,zz) {}   
<a name="l00702"></a>00702 
<a name="l00705"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#af3a0c1914d9c3632de7777d1e14ccb24">00705</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz,
<a name="l00706"></a>00706             <span class="keyword">const</span> RealP&amp; xy, <span class="keyword">const</span> RealP&amp; xz, <span class="keyword">const</span> RealP&amp; yz)
<a name="l00707"></a>00707 :   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(xx,yy,zz,xy,xz,yz) {}
<a name="l00708"></a>00708 
<a name="l00711"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a2e06c431d9332364cbd7a32055a452b4">00711</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a2e06c431d9332364cbd7a32055a452b4" title="Construct a UnitInertia from a symmetric 3x3 matrix.">UnitInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; m) : <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(m) {}
<a name="l00712"></a>00712 
<a name="l00716"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#adbd367dbd9f823d671489dca9d7f8a37">00716</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#adbd367dbd9f823d671489dca9d7f8a37" title="Construct a UnitInertia from a 3x3 symmetric matrix.">UnitInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; m) : <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(m) {}
<a name="l00717"></a>00717 
<a name="l00722"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#ac4d3e0602950a28cd8ec8e5ae6f39036">00722</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#ac4d3e0602950a28cd8ec8e5ae6f39036" title="Construct a UnitInertia matrix from an Inertia matrix.">UnitInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>) : <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(I) {}
<a name="l00723"></a>00723 
<a name="l00727"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a965913951efebcc88457a3fb2309e44d">00727</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; setUnitInertia(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz) 
<a name="l00728"></a>00728 {   InertiaP::setInertia(xx,yy,zz); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00729"></a>00729 
<a name="l00732"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a941ff2a084bb33e57b81bb78f6792d8b">00732</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; setUnitInertia(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; moments, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; products=<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0)) 
<a name="l00733"></a>00733 {   InertiaP::setInertia(moments,products); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00734"></a>00734 
<a name="l00740"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#af519b525445b103c7b97bec214c28788">00740</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; setUnitInertia(<span class="keyword">const</span> RealP&amp; xx, <span class="keyword">const</span> RealP&amp; yy, <span class="keyword">const</span> RealP&amp; zz,
<a name="l00741"></a>00741                         <span class="keyword">const</span> RealP&amp; xy, <span class="keyword">const</span> RealP&amp; xz, <span class="keyword">const</span> RealP&amp; yz) 
<a name="l00742"></a>00742 {   InertiaP::setInertia(xx,yy,zz,xy,xz,yz); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 
<a name="l00745"></a>00745 <span class="comment">// No +=, -=, etc. operators because those don&#39;t result in a UnitInertia </span>
<a name="l00746"></a>00746 <span class="comment">// matrix. The parent class ones are suppressed below.</span>
<a name="l00747"></a>00747 
<a name="l00757"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a9c2535890d3b9e0ca3b8519d252f8cf7">00757</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> shiftToCentroid(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; CF)<span class="keyword"> const </span>
<a name="l00758"></a>00758 <span class="keyword"></span>{   <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> G(*<span class="keyword">this</span>); 
<a name="l00759"></a>00759     G.<a class="code" href="classSimTK_1_1Inertia__.html#aa2b329d1fc62a9c7b952d1b3c88dff71" title="Default is a NaN-ed out mess to avoid accidents, even in Release mode.">Inertia_</a>&lt;P&gt;::operator-=(pointMassAt(CF));
<a name="l00760"></a>00760     <span class="keywordflow">return</span> G; }
<a name="l00761"></a>00761 
<a name="l00774"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a86344e7cc8a70d606ba5a8c16511d4ed">00774</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; shiftToCentroidInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; CF) 
<a name="l00775"></a>00775 {   InertiaP::operator-=(pointMassAt(CF));
<a name="l00776"></a>00776     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00777"></a>00777 
<a name="l00785"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a4f981071de25c9d3f263643b31850a04">00785</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> shiftFromCentroid(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p)<span class="keyword"> const</span>
<a name="l00786"></a>00786 <span class="keyword"></span>{   <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> G(*<span class="keyword">this</span>); 
<a name="l00787"></a>00787     G.<a class="code" href="classSimTK_1_1Inertia__.html#aa2b329d1fc62a9c7b952d1b3c88dff71" title="Default is a NaN-ed out mess to avoid accidents, even in Release mode.">Inertia_</a>&lt;P&gt;::operator+=(pointMassAt(p));
<a name="l00788"></a>00788     <span class="keywordflow">return</span> G; }
<a name="l00789"></a>00789 
<a name="l00798"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a9e4d4d72a9d1890c1f6a45067d5c88c8">00798</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; shiftFromCentroidInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p)
<a name="l00799"></a>00799 {   InertiaP::operator+=(pointMassAt(p));
<a name="l00800"></a>00800     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00801"></a>00801 
<a name="l00812"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a82227844aba875e9fa4063bff68a3451">00812</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const </span>
<a name="l00813"></a>00813 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>((~R_FB).reexpressSymMat33(this-&gt;I_OF_F)); }
<a name="l00814"></a>00814 
<a name="l00817"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a76f8a4eba1df68a53839ae02025f5507">00817</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const </span>
<a name="l00818"></a>00818 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>((~R_FB).reexpressSymMat33(this-&gt;I_OF_F)); }
<a name="l00819"></a>00819 
<a name="l00824"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a4b820a2338b949af9816a70343940a07">00824</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l00825"></a>00825 {   InertiaP::reexpressInPlace(R_FB); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00826"></a>00826 
<a name="l00829"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a9f0b740b16c447193af134d6dcfc8a29">00829</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l00830"></a>00830 {   InertiaP::reexpressInPlace(R_FB); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 
<a name="l00834"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#aaf30c07af59a472f872e6867ef8a14df">00834</a> operator const SymMat33P&amp;()<span class="keyword"> const </span>{<span class="keywordflow">return</span> this-&gt;I_OF_F;}
<a name="l00835"></a>00835 
<a name="l00839"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a4ad2f3845459ee8d4a99857160b67238">00839</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; asUnitInertia()<span class="keyword"> const </span>
<a name="l00840"></a>00840 <span class="keyword"></span>{   <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>); }
<a name="l00841"></a>00841 
<a name="l00844"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#adff44afd712eb42eb003df3454dd5fc3">00844</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>&amp; setFromUnitInertia(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>&amp; <a class="code" href="group__TypedNumConstants.html#ga89110fa308da931e7b5b69f62b143bd3" title="We only need one complex constant, i = sqrt(-1). For the rest just multiply the real constant by i...">I</a>)
<a name="l00845"></a>00845 {   <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;::operator=</a>(I);
<a name="l00846"></a>00846     <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00847"></a>00847 
<a name="l00851"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a0747db2089594f1958363401e7a75a3e">00851</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> isValidUnitInertiaMatrix(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; m) 
<a name="l00852"></a>00852 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;::isValidInertiaMatrix</a>(m); }
<a name="l00853"></a>00853 
<a name="l00860"></a>00860 
<a name="l00861"></a>00861 
<a name="l00864"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a1e27445e87e048350c0733f282a14d4a">00864</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#a1e27445e87e048350c0733f282a14d4a" title="Create a UnitInertia matrix for a point located at the origin -- that is, an all-zero matrix...">pointMassAtOrigin</a>() {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(0);}
<a name="l00865"></a>00865 
<a name="l00870"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#ad12590783e2b1cc3dc3715f6c4c8f3ef">00870</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> pointMassAt(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; p) 
<a name="l00871"></a>00871 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(<a class="code" href="namespaceSimTK.html#ab3e26d4090b012a30647164cb240c3d6" title="Calculate matrix S(v) such that S(v)*w = -v % (v % w) = (v % w) % v.">crossMatSq</a>(p)); }
<a name="l00872"></a>00872 
<a name="l00875"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#aea6dff2244b2e884fc5ae7747b4489c2">00875</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#aea6dff2244b2e884fc5ae7747b4489c2" title="Create a UnitInertia matrix for a unit mass sphere of radius r centered at the origin.">sphere</a>(<span class="keyword">const</span> RealP&amp; r) {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(RealP(0.4)*r*r);}
<a name="l00876"></a>00876 
<a name="l00879"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a22aae6b90b2feeb28272a15ac0ee431b">00879</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#a22aae6b90b2feeb28272a15ac0ee431b" title="Unit-mass cylinder aligned along z axis; use radius and half-length.">cylinderAlongZ</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hz) {
<a name="l00880"></a>00880     <span class="keyword">const</span> RealP Ixx = (r*r)/4 + (hz*hz)/3;
<a name="l00881"></a>00881     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(Ixx,Ixx,(r*r)/2);
<a name="l00882"></a>00882 }
<a name="l00883"></a>00883 
<a name="l00886"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a433b955d92ee92f053e4c90301b2537e">00886</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#a433b955d92ee92f053e4c90301b2537e" title="Unit-mass cylinder aligned along y axis; use radius and half-length.">cylinderAlongY</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hy) {
<a name="l00887"></a>00887     <span class="keyword">const</span> RealP Ixx = (r*r)/4 + (hy*hy)/3;
<a name="l00888"></a>00888     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(Ixx,(r*r)/2,Ixx);
<a name="l00889"></a>00889 }
<a name="l00890"></a>00890 
<a name="l00893"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a89f3c0caf76077405e5eca28662214dc">00893</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#a89f3c0caf76077405e5eca28662214dc" title="Unit-mass cylinder aligned along x axis; use radius and half-length.">cylinderAlongX</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hx) {
<a name="l00894"></a>00894     <span class="keyword">const</span> RealP Iyy = (r*r)/4 + (hx*hx)/3;
<a name="l00895"></a>00895     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>((r*r)/2,Iyy,Iyy);
<a name="l00896"></a>00896 }
<a name="l00897"></a>00897 
<a name="l00901"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#aa765bcf7ca1430d4bb0ee35964b6a87b">00901</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#aa765bcf7ca1430d4bb0ee35964b6a87b" title="Unit-mass brick given by half-lengths in each direction.">brick</a>(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz) {
<a name="l00902"></a>00902     <span class="keyword">const</span> RealP oo3 = RealP(1)/RealP(3);
<a name="l00903"></a>00903     <span class="keyword">const</span> RealP hx2=hx*hx, hy2=hy*hy, hz2=hz*hz;
<a name="l00904"></a>00904     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>(oo3*(hy2+hz2), oo3*(hx2+hz2), oo3*(hx2+hy2));
<a name="l00905"></a>00905 }
<a name="l00906"></a>00906 
<a name="l00908"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a6727b53f8dc2470095ead9162f74df1e">00908</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> brick(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; halfLengths)
<a name="l00909"></a>00909 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a6727b53f8dc2470095ead9162f74df1e" title="Alternate interface to brick() that takes a Vec3 for the half lengths.">brick</a>(halfLengths[0],halfLengths[1],halfLengths[2]); }
<a name="l00910"></a>00910 
<a name="l00912"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#afb4918161a3aa2b765b10834420f2006">00912</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> <a class="code" href="classSimTK_1_1UnitInertia__.html#afb4918161a3aa2b765b10834420f2006" title="Unit-mass ellipsoid given by half-lengths in each direction.">ellipsoid</a>(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz) {
<a name="l00913"></a>00913     <span class="keyword">const</span> RealP hx2=hx*hx, hy2=hy*hy, hz2=hz*hz;
<a name="l00914"></a>00914     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a>((hy2+hz2)/5, (hx2+hz2)/5, (hx2+hy2)/5);
<a name="l00915"></a>00915 }
<a name="l00916"></a>00916 
<a name="l00918"></a><a class="code" href="classSimTK_1_1UnitInertia__.html#a617357823ece8ff6c7f03c6cb34ab31e">00918</a> <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_</a> ellipsoid(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; halfLengths)
<a name="l00919"></a>00919 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a617357823ece8ff6c7f03c6cb34ab31e" title="Alternate interface to ellipsoid() that takes a Vec3 for the half lengths.">ellipsoid</a>(halfLengths[0],halfLengths[1],halfLengths[2]); }
<a name="l00920"></a>00920 
<a name="l00922"></a>00922 <span class="keyword">private</span>:
<a name="l00923"></a>00923 <span class="comment">// Suppress Inertia_ methods which are not allowed for UnitInertia_.</span>
<a name="l00924"></a>00924 
<a name="l00925"></a>00925 <span class="comment">// These kill all flavors of Inertia_::setInertia() and the</span>
<a name="l00926"></a>00926 <span class="comment">// Inertia_ assignment ops.</span>
<a name="l00927"></a>00927 <span class="keywordtype">void</span> setInertia() {}
<a name="l00928"></a>00928 <span class="keywordtype">void</span> operator+=(<span class="keywordtype">int</span>) {}
<a name="l00929"></a>00929 <span class="keywordtype">void</span> operator-=(<span class="keywordtype">int</span>) {}
<a name="l00930"></a>00930 <span class="keywordtype">void</span> operator*=(<span class="keywordtype">int</span>) {}
<a name="l00931"></a>00931 <span class="keywordtype">void</span> operator/=(<span class="keywordtype">int</span>) {}
<a name="l00932"></a>00932 };
<a name="l00933"></a>00933 
<a name="l00934"></a>00934 <span class="comment">// Implement Inertia methods which are pass-throughs to UnitInertia methods.</span>
<a name="l00935"></a>00935 
<a name="l00936"></a>00936 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> Inertia_&lt;P&gt; <a class="code" href="classSimTK_1_1Inertia__.html#a0079ce02a6ce9ddb2c3cdf26f5c88fac" title="Create a UnitInertia matrix for a unit mass sphere of radius r centered at the origin.">Inertia_&lt;P&gt;::</a>
<a name="l00937"></a><a class="code" href="classSimTK_1_1Inertia__.html#a0079ce02a6ce9ddb2c3cdf26f5c88fac">00937</a> <a class="code" href="classSimTK_1_1Inertia__.html#a0079ce02a6ce9ddb2c3cdf26f5c88fac" title="Create a UnitInertia matrix for a unit mass sphere of radius r centered at the origin.">sphere</a>(<span class="keyword">const</span> RealP&amp; r) 
<a name="l00938"></a>00938 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#aea6dff2244b2e884fc5ae7747b4489c2" title="Create a UnitInertia matrix for a unit mass sphere of radius r centered at the origin.">UnitInertia_&lt;P&gt;::sphere</a>(r); }
<a name="l00939"></a>00939 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#a731715abc3e23d14716ed8778c3a41db" title="Unit-mass cylinder aligned along z axis; use radius and half-length.">Inertia_&lt;P&gt;::</a>
<a name="l00940"></a><a class="code" href="classSimTK_1_1Inertia__.html#a731715abc3e23d14716ed8778c3a41db">00940</a> <a class="code" href="classSimTK_1_1Inertia__.html#a731715abc3e23d14716ed8778c3a41db" title="Unit-mass cylinder aligned along z axis; use radius and half-length.">cylinderAlongZ</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hz)
<a name="l00941"></a>00941 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a22aae6b90b2feeb28272a15ac0ee431b" title="Unit-mass cylinder aligned along z axis; use radius and half-length.">UnitInertia_&lt;P&gt;::cylinderAlongZ</a>(r,hz); }
<a name="l00942"></a>00942 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#afb7fa18382bb190462ec90cee793c618" title="Unit-mass cylinder aligned along y axis; use radius and half-length.">Inertia_&lt;P&gt;::</a>
<a name="l00943"></a><a class="code" href="classSimTK_1_1Inertia__.html#afb7fa18382bb190462ec90cee793c618">00943</a> <a class="code" href="classSimTK_1_1Inertia__.html#afb7fa18382bb190462ec90cee793c618" title="Unit-mass cylinder aligned along y axis; use radius and half-length.">cylinderAlongY</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hy)
<a name="l00944"></a>00944 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a433b955d92ee92f053e4c90301b2537e" title="Unit-mass cylinder aligned along y axis; use radius and half-length.">UnitInertia_&lt;P&gt;::cylinderAlongY</a>(r,hy); }
<a name="l00945"></a>00945 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#ab408d2690f9520647fc41426d2da97a5" title="Unit-mass cylinder aligned along x axis; use radius and half-length.">Inertia_&lt;P&gt;::</a>
<a name="l00946"></a><a class="code" href="classSimTK_1_1Inertia__.html#ab408d2690f9520647fc41426d2da97a5">00946</a> <a class="code" href="classSimTK_1_1Inertia__.html#ab408d2690f9520647fc41426d2da97a5" title="Unit-mass cylinder aligned along x axis; use radius and half-length.">cylinderAlongX</a>(<span class="keyword">const</span> RealP&amp; r, <span class="keyword">const</span> RealP&amp; hx)
<a name="l00947"></a>00947 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#a89f3c0caf76077405e5eca28662214dc" title="Unit-mass cylinder aligned along x axis; use radius and half-length.">UnitInertia_&lt;P&gt;::cylinderAlongX</a>(r,hx); }
<a name="l00948"></a>00948 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#afe1dc7f12543454dadb1ea0ab243b2a3" title="Unit-mass brick given by half-lengths in each direction.">Inertia_&lt;P&gt;::</a>
<a name="l00949"></a><a class="code" href="classSimTK_1_1Inertia__.html#afe1dc7f12543454dadb1ea0ab243b2a3">00949</a> <a class="code" href="classSimTK_1_1Inertia__.html#afe1dc7f12543454dadb1ea0ab243b2a3" title="Unit-mass brick given by half-lengths in each direction.">brick</a>(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz)
<a name="l00950"></a>00950 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#aa765bcf7ca1430d4bb0ee35964b6a87b" title="Unit-mass brick given by half-lengths in each direction.">UnitInertia_&lt;P&gt;::brick</a>(hx,hy,hz); }
<a name="l00951"></a>00951 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#afe1dc7f12543454dadb1ea0ab243b2a3" title="Unit-mass brick given by half-lengths in each direction.">Inertia_&lt;P&gt;::</a>
<a name="l00952"></a><a class="code" href="classSimTK_1_1Inertia__.html#a6e344c2ae3ff6b5ac4a84f632c4c7f8e">00952</a> <a class="code" href="classSimTK_1_1Inertia__.html#afe1dc7f12543454dadb1ea0ab243b2a3" title="Unit-mass brick given by half-lengths in each direction.">brick</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; halfLengths)
<a name="l00953"></a>00953 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#aa765bcf7ca1430d4bb0ee35964b6a87b" title="Unit-mass brick given by half-lengths in each direction.">UnitInertia_&lt;P&gt;::brick</a>(halfLengths); }
<a name="l00954"></a>00954 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#a2ce85ba36aeec4e390d1adb99d34b33d" title="Unit-mass ellipsoid given by half-lengths in each direction.">Inertia_&lt;P&gt;::</a>
<a name="l00955"></a><a class="code" href="classSimTK_1_1Inertia__.html#a2ce85ba36aeec4e390d1adb99d34b33d">00955</a> <a class="code" href="classSimTK_1_1Inertia__.html#a2ce85ba36aeec4e390d1adb99d34b33d" title="Unit-mass ellipsoid given by half-lengths in each direction.">ellipsoid</a>(<span class="keyword">const</span> RealP&amp; hx, <span class="keyword">const</span> RealP&amp; hy, <span class="keyword">const</span> RealP&amp; hz)
<a name="l00956"></a>00956 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#afb4918161a3aa2b765b10834420f2006" title="Unit-mass ellipsoid given by half-lengths in each direction.">UnitInertia_&lt;P&gt;::ellipsoid</a>(hx,hy,hz); }
<a name="l00957"></a>00957 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1Inertia__.html#a2ce85ba36aeec4e390d1adb99d34b33d" title="Unit-mass ellipsoid given by half-lengths in each direction.">Inertia_&lt;P&gt;::</a>
<a name="l00958"></a><a class="code" href="classSimTK_1_1Inertia__.html#ac4bc60ba4fe2d9bf269bfb9789a3433b">00958</a> <a class="code" href="classSimTK_1_1Inertia__.html#a2ce85ba36aeec4e390d1adb99d34b33d" title="Unit-mass ellipsoid given by half-lengths in each direction.">ellipsoid</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; halfLengths)
<a name="l00959"></a>00959 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitInertia__.html#afb4918161a3aa2b765b10834420f2006" title="Unit-mass ellipsoid given by half-lengths in each direction.">UnitInertia_&lt;P&gt;::ellipsoid</a>(halfLengths); }
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00963"></a>00963 <span class="comment">//                           SPATIAL INERTIA MATRIX</span>
<a name="l00964"></a>00964 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00996"></a>00996 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; 
<a name="l00997"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html">00997</a> <span class="keyword">class </span><a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> {
<a name="l00998"></a>00998     <span class="keyword">typedef</span> P               RealP;
<a name="l00999"></a>00999     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l01000"></a>01000     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>;
<a name="l01001"></a>01001     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l01002"></a>01002     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2, Vec3P&gt;</a>   <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>;
<a name="l01003"></a>01003     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2,Mat33P&gt;</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a>;
<a name="l01004"></a>01004     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l01005"></a>01005     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">Transform_&lt;P&gt;</a>   <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">TransformP</a>;
<a name="l01006"></a>01006     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>     <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>;
<a name="l01007"></a>01007 <span class="keyword">public</span>:
<a name="l01009"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a5a18e7fd09141c51fbaa54258117ccdb">01009</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>() 
<a name="l01010"></a>01010 :   m(nanP()), p(nanP()) {} <span class="comment">// inertia is already NaN</span>
<a name="l01011"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#ab5b284bdee64fb8b30f434bccb8b718f">01011</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(RealP mass, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; gyration) 
<a name="l01012"></a>01012 :   m(mass), p(com), G(gyration) {}
<a name="l01013"></a>01013 
<a name="l01014"></a>01014 <span class="comment">// default copy constructor, copy assignment, destructor</span>
<a name="l01015"></a>01015 
<a name="l01016"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#ad6c076c62aa1294911c7ff7752394c86">01016</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; setMass(RealP mass)
<a name="l01017"></a>01017 {   <a class="code" href="ExceptionMacros_8h.html#aecf81226de701d6eb7ab996358739d6a">SimTK_ERRCHK1</a>(mass &gt;= 0, <span class="stringliteral">&quot;SpatialInertia::setMass()&quot;</span>,
<a name="l01018"></a>01018         <span class="stringliteral">&quot;Negative mass %g is illegal.&quot;</span>, (<span class="keywordtype">double</span>)mass);
<a name="l01019"></a>01019     m=mass; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01020"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a04b055dd19ea4987cdf9a88810543a58">01020</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; setMassCenter(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com)
<a name="l01021"></a>01021 {   p=com; <span class="keywordflow">return</span> *<span class="keyword">this</span>;} 
<a name="l01022"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a147ff1b0fe566a4b8c65988d41171315">01022</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; setUnitInertia(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; gyration) 
<a name="l01023"></a>01023 {   G=gyration; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01024"></a>01024 
<a name="l01025"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a762590b92c50cb50029734c74eee6e79">01025</a> RealP               <a class="code" href="classSimTK_1_1SpatialInertia__.html#a762590b92c50cb50029734c74eee6e79">getMass</a>()<span class="keyword">        const </span>{<span class="keywordflow">return</span> m;}
<a name="l01026"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a7f900c3e5e922ce38699a5efeb810a77">01026</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp;        <a class="code" href="classSimTK_1_1SpatialInertia__.html#a7f900c3e5e922ce38699a5efeb810a77">getMassCenter</a>()<span class="keyword">  const </span>{<span class="keywordflow">return</span> p;}
<a name="l01027"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a6773b0b67718b80e867a90f1ed6b857e">01027</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a6773b0b67718b80e867a90f1ed6b857e">getUnitInertia</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> G;}
<a name="l01028"></a>01028 
<a name="l01031"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a95cfb63169ec43c12f067600d1a03718">01031</a> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html#a95cfb63169ec43c12f067600d1a03718" title="Calculate the first mass moment (mass-weighted COM location) from the mass and COM vector...">calcMassMoment</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m*p;}
<a name="l01032"></a>01032 
<a name="l01035"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#abe5e20ab4de7ae55024c9f6219d1febb">01035</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html#abe5e20ab4de7ae55024c9f6219d1febb" title="Calculate the inertia matrix (second mass moment, mass-weighted gyration matrix) from the mass and un...">calcInertia</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m*G;}
<a name="l01036"></a>01036 
<a name="l01041"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a7cc7b7d2e8a3d7a17a7a6208efea9e31">01041</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a7cc7b7d2e8a3d7a17a7a6208efea9e31" title="Add in a compatible SpatialInertia.">operator+=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; src) {
<a name="l01042"></a>01042     <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(m+src.m != 0, <span class="stringliteral">&quot;SpatialInertia::operator+=()&quot;</span>,
<a name="l01043"></a>01043         <span class="stringliteral">&quot;The combined mass cannot be zero.&quot;</span>);
<a name="l01044"></a>01044     <span class="keyword">const</span> RealP mtot = m+src.m, oomtot = 1/mtot;                    <span class="comment">// ~11 flops</span>
<a name="l01045"></a>01045     p = oomtot*(calcMassMoment() + src.<a class="code" href="classSimTK_1_1SpatialInertia__.html#a95cfb63169ec43c12f067600d1a03718" title="Calculate the first mass moment (mass-weighted COM location) from the mass and COM vector...">calcMassMoment</a>());           <span class="comment">// 10 flops</span>
<a name="l01046"></a>01046     G.setFromUnitInertia(oomtot*(calcInertia()+src.<a class="code" href="classSimTK_1_1SpatialInertia__.html#abe5e20ab4de7ae55024c9f6219d1febb" title="Calculate the inertia matrix (second mass moment, mass-weighted gyration matrix) from the mass and un...">calcInertia</a>())); <span class="comment">// 19 flops</span>
<a name="l01047"></a>01047     m = mtot; <span class="comment">// must do this last</span>
<a name="l01048"></a>01048     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01049"></a>01049 }
<a name="l01050"></a>01050 
<a name="l01055"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a16b3ffe93dd0a5b9a87651306f5f9137">01055</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a16b3ffe93dd0a5b9a87651306f5f9137" title="Subtract off a compatible SpatialInertia.">operator-=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; src) {
<a name="l01056"></a>01056     <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(m != src.m, <span class="stringliteral">&quot;SpatialInertia::operator-=()&quot;</span>,
<a name="l01057"></a>01057         <span class="stringliteral">&quot;The combined mass cannot be zero.&quot;</span>);
<a name="l01058"></a>01058     <span class="keyword">const</span> RealP mtot = m-src.m, oomtot = 1/mtot;                    <span class="comment">// ~11 flops</span>
<a name="l01059"></a>01059     p = oomtot*(calcMassMoment() - src.<a class="code" href="classSimTK_1_1SpatialInertia__.html#a95cfb63169ec43c12f067600d1a03718" title="Calculate the first mass moment (mass-weighted COM location) from the mass and COM vector...">calcMassMoment</a>());           <span class="comment">// 10 flops</span>
<a name="l01060"></a>01060     G.setFromUnitInertia(oomtot*(calcInertia()-src.<a class="code" href="classSimTK_1_1SpatialInertia__.html#abe5e20ab4de7ae55024c9f6219d1febb" title="Calculate the inertia matrix (second mass moment, mass-weighted gyration matrix) from the mass and un...">calcInertia</a>())); <span class="comment">// 19 flops</span>
<a name="l01061"></a>01061     m = mtot; <span class="comment">// must do this last</span>
<a name="l01062"></a>01062     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01063"></a>01063 }
<a name="l01064"></a>01064 
<a name="l01067"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a1210e27aeaf4c729c0fa9f3b7504fb35">01067</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a1210e27aeaf4c729c0fa9f3b7504fb35" title="Multiply a SpatialInertia by a scalar.">operator*=</a>(<span class="keyword">const</span> RealP&amp; s) {m *= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01068"></a>01068 
<a name="l01071"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a27c2d4d66bd4bbb6d843914181e93bc4">01071</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a27c2d4d66bd4bbb6d843914181e93bc4" title="Divide a SpatialInertia by a scalar.">operator/=</a>(<span class="keyword">const</span> RealP&amp; s) {m /= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01072"></a>01072 
<a name="l01075"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#ae27f14b5f3ccf81f7f05b95712b36784">01075</a> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a> <a class="code" href="namespaceSimTK.html#abeff0b397e256732a5de56eb20999afd">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>&amp; v)<span class="keyword"> const</span>
<a name="l01076"></a>01076 <span class="keyword"></span>{   <span class="keywordflow">return</span> m*<a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>(G*v[0]+p%v[1], v[1]-p%v[0]); }
<a name="l01077"></a>01077 
<a name="l01083"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a38d2cb7d77972fb33fa5d794d6b3ac63">01083</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const</span>
<a name="l01084"></a>01084 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(*this).<a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c53418feeabe8460aa257c937bc4995" title="Re-express this SpatialInertia in another frame, modifying the original object.">reexpressInPlace</a>(R_FB); }
<a name="l01085"></a>01085 
<a name="l01088"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#ac6121fedec819b4562d2453c83b182f1">01088</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> reexpress(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)<span class="keyword"> const</span>
<a name="l01089"></a>01089 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(*this).<a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c53418feeabe8460aa257c937bc4995" title="Re-express this SpatialInertia in another frame, modifying the original object.">reexpressInPlace</a>(R_FB); }
<a name="l01090"></a>01090 
<a name="l01095"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c53418feeabe8460aa257c937bc4995">01095</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l01096"></a>01096 {   p = (~R_FB)*p; G.<a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c53418feeabe8460aa257c937bc4995" title="Re-express this SpatialInertia in another frame, modifying the original object.">reexpressInPlace</a>(R_FB); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01097"></a>01097 
<a name="l01100"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#aeb844974c0f911186c3e04eb773f55e6">01100</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; reexpressInPlace(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseRotation__.html">InverseRotation_&lt;P&gt;</a>&amp; R_FB)
<a name="l01101"></a>01101 {   p = (~R_FB)*p; G.<a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c53418feeabe8460aa257c937bc4995" title="Re-express this SpatialInertia in another frame, modifying the original object.">reexpressInPlace</a>(R_FB); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01102"></a>01102 
<a name="l01107"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#aded210e33511953be4e804cc8181a3dd">01107</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> shift(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; S)<span class="keyword"> const </span>
<a name="l01108"></a>01108 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(*this).<a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c47be818f2ff9a2e99317bf70dc6899" title="Change origin from OF to OF+S, modifying the original object in place.">shiftInPlace</a>(S); }
<a name="l01109"></a>01109 
<a name="l01114"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c47be818f2ff9a2e99317bf70dc6899">01114</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a8c47be818f2ff9a2e99317bf70dc6899" title="Change origin from OF to OF+S, modifying the original object in place.">shiftInPlace</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; S) {
<a name="l01115"></a>01115     G.shiftToCentroidInPlace(p);    <span class="comment">// change to central inertia</span>
<a name="l01116"></a>01116     G.shiftFromCentroidInPlace(S);  <span class="comment">// now inertia is about S</span>
<a name="l01117"></a>01117     p -= S; <span class="comment">// was p=com-OF, now want p&#39;=com-(OF+S)=p-S</span>
<a name="l01118"></a>01118     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01119"></a>01119 }
<a name="l01120"></a>01120 
<a name="l01129"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#af470ddf2aa42d86b56b846ef89d205b9">01129</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> transform(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">Transform_&lt;P&gt;</a>&amp; X_FB)<span class="keyword"> const </span>
<a name="l01130"></a>01130 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(*this).<a class="code" href="classSimTK_1_1SpatialInertia__.html#a70ed68773d8508b66b575860a6b8c7d1" title="Transform this SpatialInertia object so that it is measured about and expressed in a new frame...">transformInPlace</a>(X_FB); }
<a name="l01131"></a>01131 
<a name="l01134"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a9cd793bc0b9a0de19c6a3e96557f6ae0">01134</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a> transform(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseTransform__.html" title="Transform from frame B to frame F, but with the internal representation inverted.">InverseTransform_&lt;P&gt;</a>&amp; X_FB)<span class="keyword"> const </span>
<a name="l01135"></a>01135 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>(*this).<a class="code" href="classSimTK_1_1SpatialInertia__.html#a70ed68773d8508b66b575860a6b8c7d1" title="Transform this SpatialInertia object so that it is measured about and expressed in a new frame...">transformInPlace</a>(X_FB); }
<a name="l01136"></a>01136 
<a name="l01146"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a70ed68773d8508b66b575860a6b8c7d1">01146</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a70ed68773d8508b66b575860a6b8c7d1" title="Transform this SpatialInertia object so that it is measured about and expressed in a new frame...">transformInPlace</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">Transform_&lt;P&gt;</a>&amp; X_FB) {
<a name="l01147"></a>01147     shiftInPlace(X_FB.<a class="code" href="classSimTK_1_1Transform__.html#a2ce6d476087a63d06666af72fce2a29d" title="Return a read-only reference to our translation vector p_BF.">p</a>());     <span class="comment">// shift to the new origin OB.</span>
<a name="l01148"></a>01148     reexpressInPlace(X_FB.<a class="code" href="classSimTK_1_1Transform__.html#a5ae599faa20bd3a12be54c415531b0ce" title="Return a read-only reference to the contained rotation R_BF.">R</a>()); <span class="comment">// get everything in B</span>
<a name="l01149"></a>01149     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01150"></a>01150 }
<a name="l01151"></a>01151 
<a name="l01154"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a730a21dc374eb7f7e5b230829c34ad32">01154</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_</a>&amp; <a class="code" href="classSimTK_1_1SpatialInertia__.html#a730a21dc374eb7f7e5b230829c34ad32" title="Transform using an inverse transform to avoid having to convert it.">transformInPlace</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1InverseTransform__.html" title="Transform from frame B to frame F, but with the internal representation inverted.">InverseTransform_&lt;P&gt;</a>&amp; X_FB) {
<a name="l01155"></a>01155     shiftInPlace(X_FB.<a class="code" href="classSimTK_1_1InverseTransform__.html#a8aec54ee1935f01d45186ea26cb55cd7" title="Calculate the actual translation vector at a cost of 18 flops.">p</a>());     <span class="comment">// shift to the new origin OB.</span>
<a name="l01156"></a>01156     reexpressInPlace(X_FB.<a class="code" href="classSimTK_1_1InverseTransform__.html#a48cc49de236f20a2e2de518000306c05">R</a>()); <span class="comment">// get everything in B</span>
<a name="l01157"></a>01157     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01158"></a>01158 }
<a name="l01159"></a>01159 
<a name="l01160"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a461a0f13fb5b50e970416b0781d4631d">01160</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a> <a class="code" href="classSimTK_1_1SpatialInertia__.html#a461a0f13fb5b50e970416b0781d4631d">toSpatialMat</a>()<span class="keyword"> const </span>{
<a name="l01161"></a>01161     <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a> offDiag = <a class="code" href="namespaceSimTK.html#abdddad3e705503c6f6b479f1d4beeb2a" title="Calculate matrix M(v) such that M(v)*w = v % w.">crossMat</a>(m*p);
<a name="l01162"></a>01162     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a>(m*G.toMat33(), offDiag,
<a name="l01163"></a>01163                        -offDiag,      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(m));
<a name="l01164"></a>01164 }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166 <span class="keyword">private</span>:
<a name="l01167"></a>01167 RealP           m;  <span class="comment">// mass of this rigid body F</span>
<a name="l01168"></a>01168 Vec3P           p;  <span class="comment">// location of body&#39;s COM from OF, expressed in F</span>
<a name="l01169"></a>01169 UnitInertiaP    G;  <span class="comment">// mass distribution; inertia is mass*gyration</span>
<a name="l01170"></a>01170 
<a name="l01171"></a>01171 <span class="keyword">static</span> P nanP() {<span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;P&gt;::getNaN</a>();} 
<a name="l01172"></a>01172 };
<a name="l01173"></a>01173 
<a name="l01176"></a>01176 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> SpatialInertia_&lt;P&gt; 
<a name="l01177"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#aa8fbbb1b76326c2960f89c3cc17256e3">01177</a> <a class="code" href="namespaceSimTK.html#a424ccc5c7500fa0548d766f8e04191d4">operator+</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>&amp; r)
<a name="l01178"></a>01178 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>(l) += r; } 
<a name="l01179"></a>01179 
<a name="l01183"></a>01183 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a> 
<a name="l01184"></a><a class="code" href="classSimTK_1_1SpatialInertia__.html#a28bcef8b2f22a45c06652f13976e1eec">01184</a> <a class="code" href="namespaceSimTK.html#a195414de1c9364a719375c0f6f5900d7">operator-</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>&amp; r)
<a name="l01185"></a>01185 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>(l) -= r; } 
<a name="l01186"></a>01186 
<a name="l01187"></a>01187 
<a name="l01188"></a>01188 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l01189"></a>01189 <span class="comment">//                        ARTICULATED BODY INERTIA MATRIX</span>
<a name="l01190"></a>01190 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l01237"></a>01237 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; 
<a name="l01238"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html">01238</a> <span class="keyword">class </span><a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a> {
<a name="l01239"></a>01239     <span class="keyword">typedef</span> P               RealP;
<a name="l01240"></a>01240     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l01241"></a>01241     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>;
<a name="l01242"></a>01242     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l01243"></a>01243     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l01244"></a>01244     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">Vec&lt;2, Vec3P&gt;</a>   <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>;
<a name="l01245"></a>01245     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2,Mat33P&gt;</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a>;
<a name="l01246"></a>01246     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l01247"></a>01247     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">Transform_&lt;P&gt;</a>   <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">TransformP</a>;
<a name="l01248"></a>01248     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>     <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>;
<a name="l01249"></a>01249 <span class="keyword">public</span>:
<a name="l01252"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a22a0fe90762bbcc963d5c3ac2138addb">01252</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a22a0fe90762bbcc963d5c3ac2138addb" title="Default contruction produces uninitialized junk at zero cost; be sure to fill this in before referenc...">ArticulatedInertia_</a>() {}
<a name="l01254"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ad6160f20b84553a3897330422bbcde03">01254</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a22a0fe90762bbcc963d5c3ac2138addb" title="Default contruction produces uninitialized junk at zero cost; be sure to fill this in before referenc...">ArticulatedInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; mass, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp; massMoment, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; inertia)
<a name="l01255"></a>01255 :   M(mass), J(inertia), F(massMoment) {}
<a name="l01256"></a>01256 
<a name="l01259"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#aacf6ade13f6fbf4b33c0fb6ca6d6311b">01259</a> <span class="keyword">explicit</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a22a0fe90762bbcc963d5c3ac2138addb" title="Default contruction produces uninitialized junk at zero cost; be sure to fill this in before referenc...">ArticulatedInertia_</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SpatialInertia__.html" title="A spatial inertia contains the mass, center of mass point, and inertia matrix for a rigid body...">SpatialInertia_&lt;P&gt;</a>&amp; rbi)
<a name="l01260"></a>01260 :   M(rbi.<a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a55b7d3d02b5f8f92dec82d95d7086bb1" title="Get the mass distribution matrix M from this ArticulatedInertia (symmetric).">getMass</a>()), J(rbi.calcInertia()), F(<a class="code" href="namespaceSimTK.html#abdddad3e705503c6f6b479f1d4beeb2a" title="Calculate matrix M(v) such that M(v)*w = v % w.">crossMat</a>(rbi.calcMassMoment())) {}
<a name="l01261"></a>01261 
<a name="l01263"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a7fd89ee39b02a4670464844a636e9768">01263</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a7fd89ee39b02a4670464844a636e9768" title="Set the mass distribution matrix M in this ArticulatedInertia (symmetric).">setMass</a>      (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; mass)       {M=mass;       <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01265"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a6a77a23e9d59a8cac1ed06dafa8ed297">01265</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a6a77a23e9d59a8cac1ed06dafa8ed297" title="Set the mass first moment distribution matrix F in this ArticulatedInertia (full).">setMassMoment</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp;    massMoment) {F=massMoment; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01267"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ab522210b4a873471c895257473bb97d7">01267</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ab522210b4a873471c895257473bb97d7" title="Set the mass second moment (inertia) matrix J in this ArticulatedInertia (symmetric).">setInertia</a>   (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; inertia)    {J=inertia;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01268"></a>01268 
<a name="l01270"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a55b7d3d02b5f8f92dec82d95d7086bb1">01270</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a55b7d3d02b5f8f92dec82d95d7086bb1" title="Get the mass distribution matrix M from this ArticulatedInertia (symmetric).">getMass</a>()<span class="keyword">       const </span>{<span class="keywordflow">return</span> M;}
<a name="l01272"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ae9bd2774f99871c830389438923f9857">01272</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>&amp;    <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ae9bd2774f99871c830389438923f9857" title="Get the mass first moment distribution matrix F from this ArticulatedInertia (full).">getMassMoment</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> F;}
<a name="l01274"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ab97890fa51e14901c53537a3e1430cac">01274</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#ab97890fa51e14901c53537a3e1430cac" title="Get the mass second moment (inertia) matrix J from this ArticulatedInertia (symmetric).">getInertia</a>()<span class="keyword">    const </span>{<span class="keywordflow">return</span> J;}
<a name="l01275"></a>01275 
<a name="l01276"></a>01276 <span class="comment">// default destructor, copy constructor, copy assignment</span>
<a name="l01277"></a>01277 
<a name="l01280"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a03cc898f7b7a6269126cc2d2861d9980">01280</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a03cc898f7b7a6269126cc2d2861d9980" title="Add in a compatible ArticulatedInertia to this one.">operator+=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; src)
<a name="l01281"></a>01281 {   M+=src.M; J+=src.J; F+=src.F; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01284"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a8d11486f14d050a11d83afd2b95804c0">01284</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a8d11486f14d050a11d83afd2b95804c0" title="Subtract a compatible ArticulatedInertia from this one.">operator-=</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; src)
<a name="l01285"></a>01285 {   M-=src.M; J-=src.J; F-=src.F; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01286"></a>01286 
<a name="l01288"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a0fc8a1bc1152ce1591afcc71cdbadecc">01288</a> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a0fc8a1bc1152ce1591afcc71cdbadecc" title="Multiply an ArticulatedIneria by a SpatialVec (66 flops).">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>&amp; v)<span class="keyword"> const</span>
<a name="l01289"></a>01289 <span class="keyword"></span>{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Vec.html" title="This is a fixed length column vector designed for no-overhead inline computation.">SpatialVecP</a>(J*v[0]+F*v[1], ~F*v[0]+M*v[1]); }
<a name="l01290"></a>01290 
<a name="l01292"></a>01292 <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> N&gt;
<a name="l01293"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a8d3296372f8705f0e1c23590335dfbe8">01293</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,N,Vec3P&gt;</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a8d3296372f8705f0e1c23590335dfbe8" title="Multiply an ArticulatedInertia by a row of SpatialVecs (66*N flops).">operator*</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,N,Vec3P&gt;</a>&amp; m)<span class="keyword"> const </span>{
<a name="l01294"></a>01294     <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,N,Vec3P&gt;</a> res;
<a name="l01295"></a>01295     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; N; ++j)
<a name="l01296"></a>01296         res.<a class="code" href="classSimTK_1_1Mat.html#a87d916168dd45ec3cb7abf0fa5589465">col</a>(j) = (*this) * m.<a class="code" href="classSimTK_1_1Mat.html#a87d916168dd45ec3cb7abf0fa5589465">col</a>(j); <span class="comment">// above this*SpatialVec operator</span>
<a name="l01297"></a>01297     <span class="keywordflow">return</span> res;
<a name="l01298"></a>01298 }
<a name="l01299"></a>01299 
<a name="l01307"></a>01307 <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a29ee1d39e21efc21dbf1742eba618c84" title="Rigid-shift the origin of this Articulated Body Inertia P by a shift vector s to produce a new ABI P&#39;...">shift</a>(<span class="keyword">const</span> Vec3P&amp; s) <span class="keyword">const</span>;
<a name="l01308"></a>01308 
<a name="l01311"></a>01311 <a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_</a>&amp; <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a08d955b9e56ba66f6759e83c32a0bfc1" title="Rigid-shift this ABI in place.">shiftInPlace</a>(<span class="keyword">const</span> Vec3P&amp; s);
<a name="l01312"></a>01312 
<a name="l01315"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a36794f70da3fbdc5f64ef2cb48901fcb">01315</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a36794f70da3fbdc5f64ef2cb48901fcb" title="Convert the compactly-stored ArticulatedInertia (21 elements) into a full SpatialMat with 36 elements...">toSpatialMat</a>()<span class="keyword"> const </span>{
<a name="l01316"></a>01316     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a>( <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(J),     F,
<a name="l01317"></a>01317                             ~F,       <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>(M) );
<a name="l01318"></a>01318 }
<a name="l01319"></a>01319 <span class="keyword">private</span>:
<a name="l01320"></a>01320 SymMat33P M;
<a name="l01321"></a>01321 SymMat33P J;
<a name="l01322"></a>01322 Mat33P    F;
<a name="l01323"></a>01323 };
<a name="l01324"></a>01324 
<a name="l01327"></a>01327 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> ArticulatedInertia_&lt;P&gt;
<a name="l01328"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#aeb18af2ac70ef816c9ae1e81e8f944a9">01328</a> <a class="code" href="namespaceSimTK.html#a424ccc5c7500fa0548d766f8e04191d4">operator+</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>&amp; r)
<a name="l01329"></a>01329 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>(l) += r; }
<a name="l01330"></a>01330 
<a name="l01334"></a>01334 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">inline</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>
<a name="l01335"></a><a class="code" href="classSimTK_1_1ArticulatedInertia__.html#a9bb8891252382d151f01bc9ee03e5513">01335</a> <a class="code" href="namespaceSimTK.html#a195414de1c9364a719375c0f6f5900d7">operator-</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>&amp; l, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>&amp; r)
<a name="l01336"></a>01336 {   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1ArticulatedInertia__.html" title="An articulated body inertia (ABI) matrix P(q) contains the spatial inertia properties that a body app...">ArticulatedInertia_&lt;P&gt;</a>(l) -= r; }
<a name="l01337"></a>01337 
<a name="l01338"></a>01338 
<a name="l01339"></a>01339 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l01340"></a>01340 <span class="comment">//                              MASS PROPERTIES</span>
<a name="l01341"></a>01341 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l01354"></a>01354 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt;
<a name="l01355"></a><a class="code" href="classSimTK_1_1MassProperties__.html">01355</a> <span class="keyword">class </span><a class="code" href="SimTKcommon_2include_2SimTKcommon_2internal_2common_8h.html#a0d6328a25a1642485423dcbe6d450a7d">SimTK_SimTKCOMMON_EXPORT</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a> {
<a name="l01356"></a>01356     <span class="keyword">typedef</span> P               RealP;
<a name="l01357"></a>01357     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,P&gt;</a>        <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>;
<a name="l01358"></a>01358     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertia_&lt;P&gt;</a> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>;
<a name="l01359"></a>01359     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html">Mat&lt;3,3,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html">Mat33P</a>;
<a name="l01360"></a>01360     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;6,6,P&gt;</a>      <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat66P</a>;
<a name="l01361"></a>01361     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1SymMat.html">SymMat&lt;3,P&gt;</a>     <a class="code" href="classSimTK_1_1SymMat.html">SymMat33P</a>;
<a name="l01362"></a>01362     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat&lt;2,2,Mat33P&gt;</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a>;
<a name="l01363"></a>01363     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">Rotation_&lt;P&gt;</a>    <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>;
<a name="l01364"></a>01364     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">Transform_&lt;P&gt;</a>   <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">TransformP</a>;
<a name="l01365"></a>01365     <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">Inertia_&lt;P&gt;</a>     <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>;
<a name="l01366"></a>01366 <span class="keyword">public</span>:
<a name="l01369"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a693e2f65897344fb0e2a6771e809a39f">01369</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a693e2f65897344fb0e2a6771e809a39f" title="Create a mass properties object in which the mass, mass center, and inertia are meaningless; you must...">MassProperties_</a>() { setMassProperties(0,<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0),<a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>()); }
<a name="l01373"></a><a class="code" href="classSimTK_1_1MassProperties__.html#abcde2e54c09df4a9e1330d94c10a1f73">01373</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>(<span class="keyword">const</span> RealP&amp; m, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>&amp; inertia)
<a name="l01374"></a>01374     { setMassProperties(m,com,inertia); }
<a name="l01377"></a><a class="code" href="classSimTK_1_1MassProperties__.html#afb3651bd37b97e0354c11233fb740633">01377</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>(<span class="keyword">const</span> RealP&amp; m, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; gyration)
<a name="l01378"></a>01378     { setMassProperties(m,com,gyration); }
<a name="l01379"></a>01379 
<a name="l01383"></a><a class="code" href="classSimTK_1_1MassProperties__.html#ae9ffdb0731e5285d5730f55e9857fe4f">01383</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>&amp; <a class="code" href="classSimTK_1_1MassProperties__.html#ae9ffdb0731e5285d5730f55e9857fe4f" title="Set mass, center of mass, and inertia.">setMassProperties</a>(<span class="keyword">const</span> RealP&amp; m, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>&amp; inertia) {
<a name="l01384"></a>01384     mass = m;
<a name="l01385"></a>01385     comInB = com;
<a name="l01386"></a>01386     <span class="keywordflow">if</span> (m == 0) {
<a name="l01387"></a>01387         <a class="code" href="ExceptionMacros_8h.html#a58ccb1c936683d43f791f03b4f52845f">SimTK_ASSERT</a>(inertia.<a class="code" href="classSimTK_1_1Inertia__.html#ab156ca728529e3f6641003b840d51acc" title="Obtain a reference to the underlying symmetric matrix type.">asSymMat33</a>().<a class="code" href="classSimTK_1_1SymMat.html#a6f117e0b2ca8c16f5ec0a8f84611874a">getAsVec</a>() == 0, <span class="stringliteral">&quot;Mass is zero but inertia is nonzero&quot;</span>);
<a name="l01388"></a>01388         unitInertia_OB_B = <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>(0);
<a name="l01389"></a>01389     }
<a name="l01390"></a>01390     <span class="keywordflow">else</span> {
<a name="l01391"></a>01391         unitInertia_OB_B = <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>(inertia*(1/m));
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01394"></a>01394 }
<a name="l01395"></a>01395 
<a name="l01398"></a>01398 <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>&amp; setMassProperties
<a name="l01399"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a1214e4c54f7eeb390178b690d92e720e">01399</a>    (<span class="keyword">const</span> RealP&amp; m, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; com, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; gyration)
<a name="l01400"></a>01400 {   mass=m; comInB=com; unitInertia_OB_B=gyration; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01401"></a>01401 
<a name="l01403"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a376dff7710ff981f0a5b1e7bf266437e">01403</a> <span class="keyword">const</span> RealP&amp; <a class="code" href="classSimTK_1_1MassProperties__.html#a376dff7710ff981f0a5b1e7bf266437e" title="Return the mass currently stored in this MassProperties object.">getMass</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> mass;}
<a name="l01408"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a0fa5f1fb9a84e3f7da27b9db78df724e">01408</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; <a class="code" href="classSimTK_1_1MassProperties__.html#a0fa5f1fb9a84e3f7da27b9db78df724e" title="Return the mass center currently stored in this MassProperties object; this is expressed in an implic...">getMassCenter</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> comInB;}
<a name="l01413"></a><a class="code" href="classSimTK_1_1MassProperties__.html#afcda88cd6455c18b8c2acc858a88a007">01413</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitInertia__.html" title="A UnitInertia matrix is a unit-mass inertia matrix; you can convert it to an Inertia by multiplying i...">UnitInertiaP</a>&amp; <a class="code" href="classSimTK_1_1MassProperties__.html#afcda88cd6455c18b8c2acc858a88a007" title="Return the unit inertia currently stored in this MassProperties object; this is expressed in an impli...">getUnitInertia</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> unitInertia_OB_B;}
<a name="l01419"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a6c86aa4c1fdd1610470bb11ce3ea158c">01419</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a6c86aa4c1fdd1610470bb11ce3ea158c" title="Return the inertia matrix for this MassProperties object; this is equal to the unit inertia times the...">calcInertia</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> mass*unitInertia_OB_B;}
<a name="l01424"></a><a class="code" href="classSimTK_1_1MassProperties__.html#ada505ac511a91326e7dddbf527fa04e7">01424</a> <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#ada505ac511a91326e7dddbf527fa04e7" title="OBSOLETE -- this is just here for compatibility with 2.2; since the UnitInertia is stored now the ful...">getInertia</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> calcInertia();}
<a name="l01425"></a>01425 
<a name="l01429"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a8376b8fcd6f4183480fb38d45def5a65">01429</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a8376b8fcd6f4183480fb38d45def5a65" title="Return the inertia of this MassProperties object, but measured about the mass center rather than abou...">calcCentralInertia</a>()<span class="keyword"> const </span>{
<a name="l01430"></a>01430     <span class="keywordflow">return</span> mass*unitInertia_OB_B - <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(comInB, mass);
<a name="l01431"></a>01431 }
<a name="l01436"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a42d06011d5ce2b7426941f442ffac24b">01436</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a42d06011d5ce2b7426941f442ffac24b" title="Return the inertia of this MassProperties object, but with the &quot;measured about&quot; point shifted from th...">calcShiftedInertia</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; newOriginB)<span class="keyword"> const </span>{
<a name="l01437"></a>01437     <span class="keywordflow">return</span> calcCentralInertia() + <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a>(newOriginB-comInB, mass);
<a name="l01438"></a>01438 }
<a name="l01443"></a><a class="code" href="classSimTK_1_1MassProperties__.html#ae81717fe0dbe12b4901acc560642e145">01443</a> <a class="code" href="classSimTK_1_1Inertia__.html" title="The physical meaning of an inertia is the distribution of a rigid body&#39;s mass about a particular poin...">InertiaP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#ae81717fe0dbe12b4901acc560642e145" title="Return the inertia of this MassProperties object, but transformed to from the implicit B frame to a n...">calcTransformedInertia</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">TransformP</a>&amp; X_BC)<span class="keyword"> const </span>{
<a name="l01444"></a>01444     <span class="keywordflow">return</span> calcShiftedInertia(X_BC.<a class="code" href="classSimTK_1_1Transform__.html#a2ce6d476087a63d06666af72fce2a29d" title="Return a read-only reference to our translation vector p_BF.">p</a>()).reexpress(X_BC.<a class="code" href="classSimTK_1_1Transform__.html#a5ae599faa20bd3a12be54c415531b0ce" title="Return a read-only reference to the contained rotation R_BF.">R</a>());
<a name="l01445"></a>01445 }
<a name="l01451"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a65e39f4fc77c20cb4de2367807ad9885">01451</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a65e39f4fc77c20cb4de2367807ad9885" title="Return a new MassProperties object that is the same as this one but with the origin point shifted fro...">calcShiftedMassProps</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>&amp; newOriginB)<span class="keyword"> const </span>{
<a name="l01452"></a>01452     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>(mass, comInB-newOriginB,
<a name="l01453"></a>01453                             calcShiftedInertia(newOriginB));
<a name="l01454"></a>01454 }
<a name="l01455"></a>01455 
<a name="l01465"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a51a3fcef6b05488f35045fdc34fbd1e2">01465</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a51a3fcef6b05488f35045fdc34fbd1e2" title="Transform these mass properties from the current frame &quot;B&quot; to a new frame &quot;C&quot;, given the pose of C in...">calcTransformedMassProps</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Transform__.html" title="This class represents the rotate-and-shift transform which gives the location and orientation of a ne...">TransformP</a>&amp; X_BC)<span class="keyword"> const </span>{
<a name="l01466"></a>01466     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>(mass, ~X_BC*comInB, calcTransformedInertia(X_BC));
<a name="l01467"></a>01467 }
<a name="l01468"></a>01468 
<a name="l01477"></a><a class="code" href="classSimTK_1_1MassProperties__.html#ac75cebbff9fcdb11ba11f32152814634">01477</a> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a> <a class="code" href="classSimTK_1_1MassProperties__.html#ac75cebbff9fcdb11ba11f32152814634" title="Re-express these mass properties from the current frame &quot;B&quot; to a new frame &quot;C&quot;, given the orientation...">reexpress</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Rotation__.html" title="The Rotation class is a Mat33 that guarantees that the matrix is a legitimate 3x3 array associated wi...">RotationP</a>&amp; R_BC)<span class="keyword"> const </span>{
<a name="l01478"></a>01478     <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1MassProperties__.html" title="This class contains the mass, center of mass, and unit inertia matrix of a rigid body B...">MassProperties_</a>(mass, ~R_BC*comInB, unitInertia_OB_B.reexpress(R_BC));
<a name="l01479"></a>01479 }
<a name="l01480"></a>01480 
<a name="l01484"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a1bed68bf8d6ec99378d810499015666f">01484</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a1bed68bf8d6ec99378d810499015666f" title="Return true only if the mass stored here is exactly zero. If the mass resulted from a computation...">isExactlyMassless</a>()<span class="keyword">   const </span>{ <span class="keywordflow">return</span> mass==0; }
<a name="l01490"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a0a44a4aa63448f09466ebcfd6a56d9a8">01490</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a0a44a4aa63448f09466ebcfd6a56d9a8" title="Return true if the mass stored here is zero to within a small tolerance.">isNearlyMassless</a>(<span class="keyword">const</span> RealP&amp; tol=<a class="code" href="group__TypedNumConstants.html#ga2026d7a87fa1a6a089bf866339521e8f" title="SignificantReal is the smallest value that we consider to be clearly distinct from roundoff error whe...">SignificantReal</a>)<span class="keyword"> const </span>{ 
<a name="l01491"></a>01491     <span class="keywordflow">return</span> mass &lt;= tol; 
<a name="l01492"></a>01492 }
<a name="l01493"></a>01493 
<a name="l01497"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a44176bbaa37ce7b66b2e929b1e482f58">01497</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a44176bbaa37ce7b66b2e929b1e482f58" title="Return true only if the mass center stored here is exactly zero. If the mass center resulted from a c...">isExactlyCentral</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> comInB==<a class="code" href="classSimTK_1_1Vec.html">Vec3P</a>(0); }
<a name="l01503"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a459fff3f6c7405d4398d60b770695660">01503</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a459fff3f6c7405d4398d60b770695660" title="Return true if the mass center stored here is zero to within a small tolerance.">isNearlyCentral</a>(<span class="keyword">const</span> RealP&amp; tol=<a class="code" href="group__TypedNumConstants.html#ga2026d7a87fa1a6a089bf866339521e8f" title="SignificantReal is the smallest value that we consider to be clearly distinct from roundoff error whe...">SignificantReal</a>)<span class="keyword"> const </span>{
<a name="l01504"></a>01504     <span class="keywordflow">return</span> comInB.normSqr() &lt;= tol*tol;
<a name="l01505"></a>01505 }
<a name="l01506"></a>01506 
<a name="l01509"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a77058a609614c3dbac3a3377911f33c3">01509</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a77058a609614c3dbac3a3377911f33c3" title="Return true if any element of this MassProperties object is NaN.">isNaN</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="group__isNaN.html#ga9da8ecd39778e545317bf7118e5715c8">SimTK::isNaN</a>(mass) || comInB.isNaN() || unitInertia_OB_B.isNaN();}
<a name="l01514"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a2ecb4666a41d9fccc05919551e8246c9">01514</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#a2ecb4666a41d9fccc05919551e8246c9" title="Return true only if there are no NaN&#39;s in this MassProperties object, and at least one of the element...">isInf</a>()<span class="keyword"> const </span>{
<a name="l01515"></a>01515     <span class="keywordflow">if</span> (<a class="code" href="group__isNaN.html#ga9da8ecd39778e545317bf7118e5715c8">isNaN</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01516"></a>01516     <span class="keywordflow">return</span> <a class="code" href="group__isInf.html#ga2de11c8889fc623d3b4067796d1b6e3f">SimTK::isInf</a>(mass) || comInB.isInf() || unitInertia_OB_B.isInf();
<a name="l01517"></a>01517 }
<a name="l01521"></a><a class="code" href="classSimTK_1_1MassProperties__.html#acb1cae62c0633322cde62e8b66ac3683">01521</a> <span class="keywordtype">bool</span> <a class="code" href="classSimTK_1_1MassProperties__.html#acb1cae62c0633322cde62e8b66ac3683" title="Return true if none of the elements of this MassProperties object are NaN or Infinity. Note that Ground&#39;s mass properties are not finite.">isFinite</a>()<span class="keyword"> const </span>{
<a name="l01522"></a>01522     <span class="keywordflow">return</span> <a class="code" href="group__isFinite.html#gaaefb475975dd2a35bf2248e16aadaf8d">SimTK::isFinite</a>(mass) &amp;&amp; comInB.isFinite() &amp;&amp; unitInertia_OB_B.isFinite();
<a name="l01523"></a>01523 }
<a name="l01524"></a>01524 
<a name="l01528"></a><a class="code" href="classSimTK_1_1MassProperties__.html#ac525ff09f513426a315b315805a2e095">01528</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a> <a class="code" href="classSimTK_1_1MassProperties__.html#ac525ff09f513426a315b315805a2e095" title="Convert this MassProperties object to a spatial inertia matrix and return it as a SpatialMat...">toSpatialMat</a>()<span class="keyword"> const </span>{
<a name="l01529"></a>01529     <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">SpatialMatP</a> M;
<a name="l01530"></a>01530     M(0,0) = mass*unitInertia_OB_B.toMat33();
<a name="l01531"></a>01531     M(0,1) = mass*<a class="code" href="namespaceSimTK.html#abdddad3e705503c6f6b479f1d4beeb2a" title="Calculate matrix M(v) such that M(v)*w = v % w.">crossMat</a>(comInB);
<a name="l01532"></a>01532     M(1,0) = ~M(0,1);
<a name="l01533"></a>01533     M(1,1) = mass; <span class="comment">// a diagonal matrix</span>
<a name="l01534"></a>01534     <span class="keywordflow">return</span> M;
<a name="l01535"></a>01535 }
<a name="l01536"></a>01536 
<a name="l01542"></a><a class="code" href="classSimTK_1_1MassProperties__.html#a84e43b159d1495a244750789b3122440">01542</a> <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat66P</a> <a class="code" href="classSimTK_1_1MassProperties__.html#a84e43b159d1495a244750789b3122440" title="Convert this MassProperties object to a spatial inertia matrix in the form of an ordinary 6x6 matrix...">toMat66</a>()<span class="keyword"> const </span>{
<a name="l01543"></a>01543     <a class="code" href="classSimTK_1_1Mat.html" title="This class represents a small matrix whose size is known at compile time, containing elements of any ...">Mat66P</a> M;
<a name="l01544"></a>01544     M.template updSubMat&lt;3,3&gt;(0,0) = mass*unitInertia_OB_B.toMat33();
<a name="l01545"></a>01545     M.template updSubMat&lt;3,3&gt;(0,3) = mass*<a class="code" href="namespaceSimTK.html#abdddad3e705503c6f6b479f1d4beeb2a" title="Calculate matrix M(v) such that M(v)*w = v % w.">crossMat</a>(comInB);
<a name="l01546"></a>01546     M.template updSubMat&lt;3,3&gt;(3,0) = ~M.template getSubMat&lt;3,3&gt;(0,3);
<a name="l01547"></a>01547     M.template updSubMat&lt;3,3&gt;(3,3) = mass; <span class="comment">// a diagonal matrix</span>
<a name="l01548"></a>01548     <span class="keywordflow">return</span> M;
<a name="l01549"></a>01549 }
<a name="l01550"></a>01550 
<a name="l01551"></a>01551 <span class="keyword">private</span>:
<a name="l01552"></a>01552 RealP        mass;
<a name="l01553"></a>01553 Vec3P        comInB;         <span class="comment">// meas. from B origin, expr. in B</span>
<a name="l01554"></a>01554 UnitInertiaP unitInertia_OB_B;   <span class="comment">// about B origin, expr. in B</span>
<a name="l01555"></a>01555 };
<a name="l01556"></a>01556 
<a name="l01559"></a>01559 <span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">static</span> <span class="keyword">inline</span> std::ostream&amp; 
<a name="l01560"></a><a class="code" href="namespaceSimTK.html#a08dcce968d051a9f6b06527e6620553e">01560</a> operator&lt;&lt;(std::ostream&amp; o, const MassProperties_&lt;P&gt;&amp; mp) {
<a name="l01561"></a>01561     <span class="keywordflow">return</span> o &lt;&lt; <span class="stringliteral">&quot;{ mass=&quot;</span> &lt;&lt; mp.getMass() 
<a name="l01562"></a>01562              &lt;&lt; <span class="stringliteral">&quot;\n  com=&quot;</span> &lt;&lt; mp.getMassCenter()
<a name="l01563"></a>01563              &lt;&lt; <span class="stringliteral">&quot;\n  Ixx,yy,zz=&quot;</span> &lt;&lt; mp.getUnitInertia().getMoments()
<a name="l01564"></a>01564              &lt;&lt; <span class="stringliteral">&quot;\n  Ixy,xz,yz=&quot;</span> &lt;&lt; mp.getUnitInertia().getProducts()
<a name="l01565"></a>01565              &lt;&lt; <span class="stringliteral">&quot;\n}\n&quot;</span>;
<a name="l01566"></a>01566 }
<a name="l01567"></a>01567 
<a name="l01568"></a>01568 } <span class="comment">// namespace SimTK</span>
<a name="l01569"></a>01569 
<a name="l01570"></a>01570 <span class="preprocessor">#endif // SimTK_SIMMATRIX_MASS_PROPERTIES_H_</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="MassProperties_8h.html">MassProperties.h</a>      </li>

    <li class="footer">Generated on Mon Jul 14 2014 23:25:47 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
